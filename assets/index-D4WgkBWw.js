(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},Il={};var Tv;function Pb(){if(Tv)return Il;Tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var Sv;function kb(){return Sv||(Sv=1,em.exports=Pb()),em.exports}var tt=kb(),nm={exports:{}},Tt={};var Av;function Ub(){if(Av)return Tt;Av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,j={};function et(M,J,st){this.props=M,this.context=J,this.refs=j,this.updater=st||Y}et.prototype.isReactComponent={},et.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function it(){}it.prototype=et.prototype;function at(M,J,st){this.props=M,this.context=J,this.refs=j,this.updater=st||Y}var Et=at.prototype=new it;Et.constructor=at,Q(Et,et.prototype),Et.isPureReactComponent=!0;var It=Array.isArray;function wt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(M,J,st){var ut=st.ref;return{$$typeof:r,type:M,key:J,ref:ut!==void 0?ut:null,props:st}}function V(M,J){return D(M.type,J,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return J[st]})}var R=/\/+/g;function te(M,J){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):J.toString(36)}function Xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,J,st,ut,_t){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(Rt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case r:case t:kt=!0;break;case E:return kt=M._init,K(kt(M._payload),J,st,ut,_t)}}if(kt)return _t=_t(M),kt=ut===""?"."+te(M,0):ut,It(_t)?(st="",kt!=null&&(st=kt.replace(R,"$&/")+"/"),K(_t,J,st,"",function(cs){return cs})):_t!=null&&(O(_t)&&(_t=V(_t,st+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+kt)),J.push(_t)),1;kt=0;var Oe=ut===""?".":ut+":";if(It(M))for(var ae=0;ae<M.length;ae++)ut=M[ae],Rt=Oe+te(ut,ae),kt+=K(ut,J,st,Rt,_t);else if(ae=B(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(ut=M.next()).done;)ut=ut.value,Rt=Oe+te(ut,ae++),kt+=K(ut,J,st,Rt,_t);else if(Rt==="object"){if(typeof M.then=="function")return K(Xt(M),J,st,ut,_t);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return kt}function rt(M,J,st){if(M==null)return M;var ut=[],_t=0;return K(M,ut,"","",function(Rt){return J.call(st,Rt,_t++)}),ut}function mt(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:rt,forEach:function(M,J,st){rt(M,function(){J.apply(this,arguments)},st)},count:function(M){var J=0;return rt(M,function(){J++}),J},toArray:function(M){return rt(M,function(J){return J})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Tt.Activity=S,Tt.Children=Gt,Tt.Component=et,Tt.Fragment=n,Tt.Profiler=o,Tt.PureComponent=at,Tt.StrictMode=s,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Tt.cache=function(M){return function(){return M.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(M,J,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=Q({},M.props),_t=M.key;if(J!=null)for(Rt in J.key!==void 0&&(_t=""+J.key),J)!w.call(J,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&J.ref===void 0||(ut[Rt]=J[Rt]);var Rt=arguments.length-2;if(Rt===1)ut.children=st;else if(1<Rt){for(var kt=Array(Rt),Oe=0;Oe<Rt;Oe++)kt[Oe]=arguments[Oe+2];ut.children=kt}return D(M.type,_t,ut)},Tt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Tt.createElement=function(M,J,st){var ut,_t={},Rt=null;if(J!=null)for(ut in J.key!==void 0&&(Rt=""+J.key),J)w.call(J,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=J[ut]);var kt=arguments.length-2;if(kt===1)_t.children=st;else if(1<kt){for(var Oe=Array(kt),ae=0;ae<kt;ae++)Oe[ae]=arguments[ae+2];_t.children=Oe}if(M&&M.defaultProps)for(ut in kt=M.defaultProps,kt)_t[ut]===void 0&&(_t[ut]=kt[ut]);return D(M,Rt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:m,render:M}},Tt.isValidElement=O,Tt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:mt}},Tt.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Tt.startTransition=function(M){var J=C.T,st={};C.T=st;try{var ut=M(),_t=C.S;_t!==null&&_t(st,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(wt,zt)}catch(Rt){zt(Rt)}finally{J!==null&&st.types!==null&&(J.types=st.types),C.T=J}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(M){return C.H.use(M)},Tt.useActionState=function(M,J,st){return C.H.useActionState(M,J,st)},Tt.useCallback=function(M,J){return C.H.useCallback(M,J)},Tt.useContext=function(M){return C.H.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M,J){return C.H.useDeferredValue(M,J)},Tt.useEffect=function(M,J){return C.H.useEffect(M,J)},Tt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(M,J,st){return C.H.useImperativeHandle(M,J,st)},Tt.useInsertionEffect=function(M,J){return C.H.useInsertionEffect(M,J)},Tt.useLayoutEffect=function(M,J){return C.H.useLayoutEffect(M,J)},Tt.useMemo=function(M,J){return C.H.useMemo(M,J)},Tt.useOptimistic=function(M,J){return C.H.useOptimistic(M,J)},Tt.useReducer=function(M,J,st){return C.H.useReducer(M,J,st)},Tt.useRef=function(M){return C.H.useRef(M)},Tt.useState=function(M){return C.H.useState(M)},Tt.useSyncExternalStore=function(M,J,st){return C.H.useSyncExternalStore(M,J,st)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.4",Tt}var bv;function tp(){return bv||(bv=1,nm.exports=Ub()),nm.exports}var F=tp(),im={exports:{}},Dl={},rm={exports:{}},sm={};var wv;function zb(){return wv||(wv=1,(function(r){function t(K,rt){var mt=K.length;K.push(rt);t:for(;0<mt;){var zt=mt-1>>>1,Gt=K[zt];if(0<o(Gt,rt))K[zt]=rt,K[mt]=Gt,mt=zt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var rt=K[0],mt=K.pop();if(mt!==rt){K[0]=mt;t:for(var zt=0,Gt=K.length,M=Gt>>>1;zt<M;){var J=2*(zt+1)-1,st=K[J],ut=J+1,_t=K[ut];if(0>o(st,mt))ut<Gt&&0>o(_t,st)?(K[zt]=_t,K[ut]=mt,zt=ut):(K[zt]=st,K[J]=mt,zt=J);else if(ut<Gt&&0>o(_t,mt))K[zt]=_t,K[ut]=mt,zt=ut;else break t}}return rt}function o(K,rt){var mt=K.sortIndex-rt.sortIndex;return mt!==0?mt:K.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,b=3,B=!1,Y=!1,Q=!1,j=!1,et=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function Et(K){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=K)s(y),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(y)}}function It(K){if(Q=!1,Et(K),!Y)if(n(p)!==null)Y=!0,wt||(wt=!0,L());else{var rt=n(y);rt!==null&&Xt(It,rt.startTime-K)}}var wt=!1,C=-1,w=5,D=-1;function V(){return j?!0:!(r.unstable_now()-D<w)}function O(){if(j=!1,wt){var K=r.unstable_now();D=K;var rt=!0;try{t:{Y=!1,Q&&(Q=!1,it(C),C=-1),B=!0;var mt=b;try{e:{for(Et(K),S=n(p);S!==null&&!(S.expirationTime>K&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,b=S.priorityLevel;var Gt=zt(S.expirationTime<=K);if(K=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Et(K),rt=!0;break e}S===n(p)&&s(p),Et(K)}else s(p);S=n(p)}if(S!==null)rt=!0;else{var M=n(y);M!==null&&Xt(It,M.startTime-K),rt=!1}}break t}finally{S=null,b=mt,B=!1}rt=void 0}}finally{rt?L():wt=!1}}}var L;if(typeof at=="function")L=function(){at(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=O,L=function(){te.postMessage(null)}}else L=function(){et(O,0)};function Xt(K,rt){C=et(function(){K(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var rt=3;break;default:rt=b}var mt=b;b=rt;try{return K()}finally{b=mt}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=b;b=K;try{return rt()}finally{b=mt}},r.unstable_scheduleCallback=function(K,rt,mt){var zt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,K){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,K={id:E++,callback:rt,priorityLevel:K,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>zt?(K.sortIndex=mt,t(y,K),n(p)===null&&K===n(y)&&(Q?(it(C),C=-1):Q=!0,Xt(It,mt-zt))):(K.sortIndex=Gt,t(p,K),Y||B||(Y=!0,wt||(wt=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var rt=b;return function(){var mt=b;b=rt;try{return K.apply(this,arguments)}finally{b=mt}}}})(sm)),sm}var Rv;function Bb(){return Rv||(Rv=1,rm.exports=zb()),rm.exports}var am={exports:{}},Xe={};var Cv;function jb(){if(Cv)return Xe;Cv=1;var r=tp();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Xe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Xe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Xe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:B}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Xe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Xe.requestFormReset=function(p){s.d.r(p)},Xe.unstable_batchedUpdates=function(p,y){return p(y)},Xe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var Iv;function qb(){if(Iv)return am.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),am.exports=jb(),am.exports}var Dv;function Hb(){if(Dv)return Dl;Dv=1;var r=Bb(),t=tp(),n=qb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),at=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case et:return"Profiler";case j:return"StrictMode";case It:return"Suspense";case wt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case at:return e.displayName||"Context";case it:return(e._context.displayName||"Context")+".Consumer";case Et:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:te(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return te(e(i))}catch{}}return null}var Xt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function J(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function st(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ut=M(null),_t=M(null),Rt=M(null),kt=M(null);function Oe(e,i){switch(st(Rt,i),st(_t,e),st(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?F_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=F_(i),e=G_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ut),st(ut,e)}function ae(){J(ut),J(_t),J(Rt)}function cs(e){e.memoizedState!==null&&st(kt,e);var i=ut.current,a=G_(i,e.type);i!==a&&(st(_t,e),st(ut,a))}function ia(e){_t.current===e&&(J(ut),J(_t)),kt.current===e&&(J(kt),bl._currentValue=mt)}var ra,sa;function ii(e){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+e+sa}var bo=!1;function hs(e,i){if(!e||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){z=H}e.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),U=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function wo(e,i){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return ii("Activity");default:return""}}function Ro(e){try{var i="",a=null;do i+=wo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,nf=r.unstable_shouldYield,yu=r.unstable_requestPaint,tn=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,Io=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,rf=r.unstable_LowPriority,_u=r.unstable_IdlePriority,vu=r.log,Eu=r.unstable_setDisableYieldValue,Bn=null,Be=null;function bn(e){if(typeof vu=="function"&&Eu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Bn,e)}catch{}}var de=Math.clz32?Math.clz32:Su,Tu=Math.log,aa=Math.LN2;function Su(e){return e>>>=0,e===0?32:31-(Tu(e)/aa|0)|0}var ri=256,ds=262144,ve=4194304;function si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=si(l):(_&=T,_!==0?h=si(_):a||(a=T&~e,a!==0&&(h=si(a))))):(T=l&~d,T!==0?h=si(T):_!==0?h=si(_):a||(a=l&~e,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function sf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function af(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,U=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-de(a),$=1<<G;T[G]=0,I[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&ps(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ps(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Do(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function No(e,i){var a=i&-i;return a=(a&42)!==0?1:gs(a),(a&(e.suspendedLanes|i))!==0?0:a}function gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:mv(e.type))}function qn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Le="__reactProps$"+Hn,li="__reactContainer$"+Hn,oa="__reactEvents$"+Hn,of="__reactListeners$"+Hn,wu="__reactHandles$"+Hn,Ru="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function la(e){delete e[Ee],delete e[Le],delete e[oa],delete e[of],delete e[wu]}function ci(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[li]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=W_(e);e!==null;){if(a=e[Ee])return a;e=W_(e)}return i}e=a,a=e.parentNode}return null}function wn(e){if(e=e[Ee]||e[li]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hi(e){var i=e[Ru];return i||(i=e[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(e){e[ui]=!0}var Oo=new Set,Mo={};function fi(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(Mo[e]=i,e=0;e<i.length;e++)Oo.add(i[e])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Lo={};function Cu(e){return _e.call(Lo,e)?!0:_e.call(xo,e)?!1:Vo.test(e)?Lo[e]=!0:(xo[e]=!0,!1)}function ua(e,i,a){if(Cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=hr(e)?"checked":"value";e._valueTracker=Po(e,i,""+e[i])}}function ys(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=hr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _s=/[\n"\\]/g;function rn(e){return e.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ko(e,_,Pe(i)):a!=null?ko(e,_,Pe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Pe(T):e.removeAttribute("name")}function Iu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function ko(e,i,a){i==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Du(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function dr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function zo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(e,d,i[d])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Bo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,pi=null;function vs(e){var i=wn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ys(l)}break t;case"textarea":Du(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fr(e,!!a.multiple,i,!1)}}}var da=!1;function gr(e,i,a){if(da)return e(i,a);da=!0;try{var l=e(i);return l}finally{if(da=!1,(pr!==null||pi!==null)&&(bc(),pr&&(i=pr,e=pi,pi=pr=null,vs(i),e)))for(i=0;i<e.length;i++)vs(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Es=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Es=!1}var gi=null,jo=null,Ts=null;function qo(){if(Ts)return Ts;var e,i=jo,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ts=h.slice(e,1<l?1-l:void 0)}function Ss(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Kn(){return!1}function je(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=je(Pi),yr=S({},Pi,{view:0,detail:0}),Ho=je(yr),_r,ma,_i,pa=S({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(_r=e.screenX-_i.screenX,ma=e.screenY-_i.screenY):ma=_r=0,_i=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Fo=je(pa),As=S({},pa,{dataTransfer:0}),Mu=je(As),Vu=S({},yr,{relatedTarget:0}),bs=je(Vu),Go=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=je(Go),ga=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=je(ga),Pu=S({},Pi,{data:0}),vi=je(Pu),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=zu[e])?!!i[e]:!1}function vr(){return Bu}var en=S({},yr,{key:function(e){if(e.key){var i=ku[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=je(en),qu=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=je(qu),c=S({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),g=je(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),P=S({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(P),nt=S({},Pi,{newState:0,oldState:0}),At=je(nt),me=[9,13,27,32],qt=Cn&&"CompositionEvent"in window,oe=null;Cn&&"documentMode"in document&&(oe=document.documentMode);var In=Cn&&"TextEvent"in window&&!oe,Ei=Cn&&(!qt||oe&&8<oe&&11>=oe),Yn=" ",Qn=!1;function ws(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function aA(e,i){switch(e){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Qn=!0,Yn);case"textInput":return e=i.data,e===Yn&&Qn?null:e;default:return null}}function oA(e,i){if(_a)return e==="compositionend"||!qt&&ws(e,i)?(e=qo(),Ts=jo=gi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!lA[e.type]:i==="textarea"}function ng(e,i,a,l){pr?pi?pi.push(l):pi=[l]:pr=l,i=Oc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ko=null,Yo=null;function uA(e){U_(e,0)}function Hu(e){var i=dn(e);if(ys(i))return e}function ig(e,i){if(e==="change")return i}var rg=!1;if(Cn){var lf;if(Cn){var uf="oninput"in document;if(!uf){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),uf=typeof sg.oninput=="function"}lf=uf}else lf=!1;rg=lf&&(!document.documentMode||9<document.documentMode)}function ag(){Ko&&(Ko.detachEvent("onpropertychange",og),Yo=Ko=null)}function og(e){if(e.propertyName==="value"&&Hu(Yo)){var i=[];ng(i,Yo,e,Rn(e)),gr(uA,i)}}function cA(e,i,a){e==="focusin"?(ag(),Ko=i,Yo=a,Ko.attachEvent("onpropertychange",og)):e==="focusout"&&ag()}function hA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(Yo)}function fA(e,i){if(e==="click")return Hu(i)}function dA(e,i){if(e==="input"||e==="change")return Hu(i)}function mA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:mA;function Qo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ug(e,i){var a=lg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lg(a)}}function cg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?cg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function hg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=mi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=mi(e.document)}return i}function cf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var pA=Cn&&"documentMode"in document&&11>=document.documentMode,va=null,hf=null,Xo=null,ff=!1;function fg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||va==null||va!==mi(l)||(l=va,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Qo(Xo,l)||(Xo=l,l=Oc(hf,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=va)))}function Rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ea={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},df={},dg={};Cn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cs(e){if(df[e])return df[e];if(!Ea[e])return e;var i=Ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return df[e]=i[a];return e}var mg=Cs("animationend"),pg=Cs("animationiteration"),gg=Cs("animationstart"),gA=Cs("transitionrun"),yA=Cs("transitionstart"),_A=Cs("transitioncancel"),yg=Cs("transitionend"),_g=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Xn(e,i){_g.set(e,i),fi(i,[e])}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Ta=0,pf=0;function Gu(){for(var e=Ta,i=pf=Ta=0;i<e;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function Ku(e,i,a,l){Dn[Ta++]=e,Dn[Ta++]=i,Dn[Ta++]=a,Dn[Ta++]=l,pf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function gf(e,i,a,l){return Ku(e,i,a,l),Yu(e)}function Is(e,i){return Ku(e,null,null,i),Yu(e)}function vg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(e){if(50<yl)throw yl=0,wd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Sa={};function vA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new vA(e,i,a,l)}function yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Eg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Qu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")yf(e)&&(_=1);else if(typeof e=="string")_=bb(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=gn(31,a,i,h),e.elementType=D,e.lanes=d,e;case Q:return Ds(a.children,h,d,i);case j:_=8,h|=24;break;case et:return e=gn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case It:return e=gn(13,a,i,h),e.elementType=It,e.lanes=d,e;case wt:return e=gn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:_=10;break t;case it:_=9;break t;case Et:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ds(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function _f(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Tg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function vf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Sg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=Sg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ro(i)},Sg.set(e,i),i)}return{value:e,source:i,stack:Ro(i)}}var Aa=[],ba=0,Xu=null,$o=0,On=[],Mn=0,Er=null,Ti=1,Si="";function zi(e,i){Aa[ba++]=$o,Aa[ba++]=Xu,Xu=e,$o=i}function Ag(e,i,a){On[Mn++]=Ti,On[Mn++]=Si,On[Mn++]=Er,Er=e;var l=Ti;e=Si;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-de(i)+h|a<<h|l,Si=d+e}else Ti=1<<d|a<<h|l,Si=e}function Ef(e){e.return!==null&&(zi(e,1),Ag(e,1,0))}function Tf(e){for(;e===Xu;)Xu=Aa[--ba],Aa[ba]=null,$o=Aa[--ba],Aa[ba]=null;for(;e===Er;)Er=On[--Mn],On[Mn]=null,Si=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null}function bg(e,i){On[Mn++]=Ti,On[Mn++]=Si,On[Mn++]=Er,Ti=i.id,Si=i.overflow,Er=e}var qe=null,ie=null,Pt=!1,Tr=null,Vn=!1,Sf=Error(s(519));function Sr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Nn(i,e)),Sf}function wg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[Le]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Nt(vl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||q_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||Sr(e,!0)}function Rg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qe=qe.return}}function wa(e){if(e!==qe)return!1;if(!Pt)return Rg(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bd(e.type,e.memoizedProps)),a=!a),a&&ie&&Sr(e),Rg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=J_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=J_(e)}else i===27?(i=ie,Pr(e.type)?(e=Gd,Gd=null,ie=e):ie=i):ie=qe?Ln(e.stateNode.nextSibling):null;return!0}function Ns(){ie=qe=null,Pt=!1}function Af(){var e=Tr;return e!==null&&(un===null?un=e:un.push.apply(un,e),Tr=null),e}function Jo(e){Tr===null?Tr=[e]:Tr.push(e)}var bf=M(null),Os=null,Bi=null;function Ar(e,i,a){st(bf,i._currentValue),i._currentValue=a}function ji(e){e._currentValue=bf.current,J(bf)}function wf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Rf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),wf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),wf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&Rf(i,e,a,l),i.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Os=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Cg(Os,e)}function Ju(e,i){return Os===null&&Ms(e),Cg(e,i)}function Cg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var EA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},TA=r.unstable_scheduleCallback,SA=r.unstable_NormalPriority,Ae={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new EA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&TA(SA,function(){e.controller.abort()})}var Zo=null,If=0,Ca=0,Ia=null;function AA(e,i){if(Zo===null){var a=Zo=[];If=0,Ca=Od(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,i.then(Ig,Ig),i}function Ig(){if(--If===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var e=Zo;Zo=null,Ca=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function bA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Dg=K.S;K.S=function(e,i){f_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&AA(e,i),Dg!==null&&Dg(e,i)};var Vs=M(null);function Df(){var e=Vs.current;return e!==null?e:ee.pooledCache}function Wu(e,i){i===null?st(Vs,Vs.current):st(Vs,i.pool)}function Ng(){var e=Df();return e===null?null:{parent:Ae._currentValue,pool:e}}var Da=Error(s(460)),Nf=Error(s(474)),Zu=Error(s(542)),tc={then:function(){}};function Og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xg(e),e;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xg(e),e}throw Ls=i,Da}}function xs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Da):a}}var Ls=null;function Vg(){if(Ls===null)throw Error(s(459));var e=Ls;return Ls=null,e}function xg(e){if(e===Da||e===Zu)throw Error(s(483))}var Na=null,tl=0;function ec(e){var i=tl;return tl+=1,Na===null&&(Na=[]),Mg(Na,e,i)}function el(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Lg(e){function i(x,N){if(e){var k=x.deletions;k===null?(x.deletions=[N],x.flags|=16):k.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ui(x,N),x.index=0,x.sibling=null,x}function d(x,N,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<N?(x.flags|=67108866,N):k):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,k,X){return N===null||N.tag!==6?(N=_f(k,x.mode,X),N.return=x,N):(N=h(N,k),N.return=x,N)}function I(x,N,k,X){var ft=k.type;return ft===Q?G(x,N,k.props.children,X,k.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&xs(ft)===N.type)?(N=h(N,k.props),el(N,k),N.return=x,N):(N=Qu(k.type,k.key,k.props,null,x.mode,X),el(N,k),N.return=x,N)}function U(x,N,k,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=vf(k,x.mode,X),N.return=x,N):(N=h(N,k.children||[]),N.return=x,N)}function G(x,N,k,X,ft){return N===null||N.tag!==7?(N=Ds(k,x.mode,X,ft),N.return=x,N):(N=h(N,k),N.return=x,N)}function $(x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=_f(""+N,x.mode,k),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case B:return k=Qu(N.type,N.key,N.props,null,x.mode,k),el(k,N),k.return=x,k;case Y:return N=vf(N,x.mode,k),N.return=x,N;case w:return N=xs(N),$(x,N,k)}if(Xt(N)||L(N))return N=Ds(N,x.mode,k,null),N.return=x,N;if(typeof N.then=="function")return $(x,ec(N),k);if(N.$$typeof===at)return $(x,Ju(x,N),k);nc(x,N)}return null}function z(x,N,k,X){var ft=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:T(x,N,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return k.key===ft?I(x,N,k,X):null;case Y:return k.key===ft?U(x,N,k,X):null;case w:return k=xs(k),z(x,N,k,X)}if(Xt(k)||L(k))return ft!==null?null:G(x,N,k,X,null);if(typeof k.then=="function")return z(x,N,ec(k),X);if(k.$$typeof===at)return z(x,N,Ju(x,k),X);nc(x,k)}return null}function H(x,N,k,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return x=x.get(k)||null,T(N,x,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return x=x.get(X.key===null?k:X.key)||null,I(N,x,X,ft);case Y:return x=x.get(X.key===null?k:X.key)||null,U(N,x,X,ft);case w:return X=xs(X),H(x,N,k,X,ft)}if(Xt(X)||L(X))return x=x.get(k)||null,G(N,x,X,ft,null);if(typeof X.then=="function")return H(x,N,k,ec(X),ft);if(X.$$typeof===at)return H(x,N,k,Ju(N,X),ft);nc(N,X)}return null}function ct(x,N,k,X){for(var ft=null,Bt=null,ht=N,Ct=N=0,Mt=null;ht!==null&&Ct<k.length;Ct++){ht.index>Ct?(Mt=ht,ht=null):Mt=ht.sibling;var jt=z(x,ht,k[Ct],X);if(jt===null){ht===null&&(ht=Mt);break}e&&ht&&jt.alternate===null&&i(x,ht),N=d(jt,N,Ct),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ht=Mt}if(Ct===k.length)return a(x,ht),Pt&&zi(x,Ct),ft;if(ht===null){for(;Ct<k.length;Ct++)ht=$(x,k[Ct],X),ht!==null&&(N=d(ht,N,Ct),Bt===null?ft=ht:Bt.sibling=ht,Bt=ht);return Pt&&zi(x,Ct),ft}for(ht=l(ht);Ct<k.length;Ct++)Mt=H(ht,x,Ct,k[Ct],X),Mt!==null&&(e&&Mt.alternate!==null&&ht.delete(Mt.key===null?Ct:Mt.key),N=d(Mt,N,Ct),Bt===null?ft=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ht.forEach(function(jr){return i(x,jr)}),Pt&&zi(x,Ct),ft}function pt(x,N,k,X){if(k==null)throw Error(s(151));for(var ft=null,Bt=null,ht=N,Ct=N=0,Mt=null,jt=k.next();ht!==null&&!jt.done;Ct++,jt=k.next()){ht.index>Ct?(Mt=ht,ht=null):Mt=ht.sibling;var jr=z(x,ht,jt.value,X);if(jr===null){ht===null&&(ht=Mt);break}e&&ht&&jr.alternate===null&&i(x,ht),N=d(jr,N,Ct),Bt===null?ft=jr:Bt.sibling=jr,Bt=jr,ht=Mt}if(jt.done)return a(x,ht),Pt&&zi(x,Ct),ft;if(ht===null){for(;!jt.done;Ct++,jt=k.next())jt=$(x,jt.value,X),jt!==null&&(N=d(jt,N,Ct),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Pt&&zi(x,Ct),ft}for(ht=l(ht);!jt.done;Ct++,jt=k.next())jt=H(ht,x,Ct,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?Ct:jt.key),N=d(jt,N,Ct),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ht.forEach(function(Lb){return i(x,Lb)}),Pt&&zi(x,Ct),ft}function Zt(x,N,k,X){if(typeof k=="object"&&k!==null&&k.type===Q&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case B:t:{for(var ft=k.key;N!==null;){if(N.key===ft){if(ft=k.type,ft===Q){if(N.tag===7){a(x,N.sibling),X=h(N,k.props.children),X.return=x,x=X;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&xs(ft)===N.type){a(x,N.sibling),X=h(N,k.props),el(X,k),X.return=x,x=X;break t}a(x,N);break}else i(x,N);N=N.sibling}k.type===Q?(X=Ds(k.props.children,x.mode,X,k.key),X.return=x,x=X):(X=Qu(k.type,k.key,k.props,null,x.mode,X),el(X,k),X.return=x,x=X)}return _(x);case Y:t:{for(ft=k.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(x,N.sibling),X=h(N,k.children||[]),X.return=x,x=X;break t}else{a(x,N);break}else i(x,N);N=N.sibling}X=vf(k,x.mode,X),X.return=x,x=X}return _(x);case w:return k=xs(k),Zt(x,N,k,X)}if(Xt(k))return ct(x,N,k,X);if(L(k)){if(ft=L(k),typeof ft!="function")throw Error(s(150));return k=ft.call(k),pt(x,N,k,X)}if(typeof k.then=="function")return Zt(x,N,ec(k),X);if(k.$$typeof===at)return Zt(x,N,Ju(x,k),X);nc(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(x,N.sibling),X=h(N,k),X.return=x,x=X):(a(x,N),X=_f(k,x.mode,X),X.return=x,x=X),_(x)):a(x,N)}return function(x,N,k,X){try{tl=0;var ft=Zt(x,N,k,X);return Na=null,ft}catch(ht){if(ht===Da||ht===Zu)throw ht;var Bt=gn(29,ht,null,x.mode);return Bt.lanes=X,Bt.return=x,Bt}}}var Ps=Lg(!0),Pg=Lg(!1),br=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(e),vg(e,null,a),i}return Ku(e,l,i,a),Yu(e)}function nl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}function Vf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var xf=!1;function il(){if(xf){var e=Ia;if(e!==null)throw e}}function rl(e,i,a,l){xf=!1;var h=e.updateQueue;br=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,U=I.next;I.next=null,_===null?d=U:_.next=U,_=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=U:T.next=U,G.lastBaseUpdate=I))}if(d!==null){var $=h.baseState;_=0,G=U=I=null,T=d;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Ot&z)===z:(l&z)===z){z!==0&&z===Ca&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,pt=T;z=i;var Zt=a;switch(pt.tag){case 1:if(ct=pt.payload,typeof ct=="function"){$=ct.call(Zt,$,z);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=pt.payload,z=typeof ct=="function"?ct.call(Zt,$,z):ct,z==null)break t;$=S({},$,z);break t;case 2:br=!0}}z=T.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(U=G=H,I=$):G=G.next=H,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Or|=_,e.lanes=_,e.memoizedState=$}}function kg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ug(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kg(a[e],i)}var Oa=M(null),ic=M(0);function zg(e,i){e=$i,st(ic,e),st(Oa,i),$i=e|i.baseLanes}function Lf(){st(ic,$i),st(Oa,Oa.current)}function Pf(){$i=ic.current,J(Oa),J(ic)}var yn=M(null),xn=null;function Cr(e){var i=e.alternate;st(pe,pe.current&1),st(yn,e),xn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(xn=e)}function kf(e){st(pe,pe.current),st(yn,e),xn===null&&(xn=e)}function Bg(e){e.tag===22?(st(pe,pe.current),st(yn,e),xn===null&&(xn=e)):Ir()}function Ir(){st(pe,pe.current),st(yn,yn.current)}function _n(e){J(yn),xn===e&&(xn=null),J(pe)}var pe=M(0);function rc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hd(a)||Fd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,bt=null,Jt=null,be=null,sc=!1,Ma=!1,ks=!1,ac=0,sl=0,Va=null,wA=0;function he(){throw Error(s(321))}function Uf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function zf(e,i,a,l,h,d){return qi=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Ay:td,ks=!1,d=a(l,h),ks=!1,Ma&&(d=qg(i,a,l,h)),jg(e),d}function jg(e){K.H=ll;var i=Jt!==null&&Jt.next!==null;if(qi=0,be=Jt=bt=null,sc=!1,sl=0,Va=null,i)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&$u(e)&&(we=!0))}function qg(e,i,a,l){bt=e;var h=0;do{if(Ma&&(Va=null),sl=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,be=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=by,d=i(a,l)}while(Ma);return d}function RA(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?al(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Bf(){var e=ac!==0;return ac=0,e}function jf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function qf(e){if(sc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}sc=!1}qi=0,be=Jt=bt=null,Ma=!1,sl=ac=0,Va=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?bt.memoizedState=be=e:be=be.next=e,be}function ge(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=be===null?bt.memoizedState:be.next;if(i!==null)be=i,Jt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?bt.memoizedState=be=e:be=be.next=e}return be}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var i=sl;return sl+=1,Va===null&&(Va=[]),e=Mg(Va,e,i),i=bt,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ay:td),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===at)return He(e)}throw Error(s(438,String(e)))}function Hf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function uc(e){var i=ge();return Ff(i,Jt,e)}function Ff(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,U=i,G=!1;do{var $=U.lane&-536870913;if($!==U.lane?(Ot&$)===$:(qi&$)===$){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===Ca&&(G=!0);else if((qi&z)===z){U=U.next,z===Ca&&(G=!0);continue}else $={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=$,_=d):I=I.next=$,bt.lanes|=z,Or|=z;$=U.action,ks&&a(d,$),d=U.hasEagerState?U.eagerState:a(d,$)}else z={lane:$,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=z,_=d):I=I.next=z,bt.lanes|=$,Or|=$;U=U.next}while(U!==null&&U!==i);if(I===null?_=d:I.next=T,!pn(d,e.memoizedState)&&(we=!0,G&&(a=Ia,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(we=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(e,i,a){var l=bt,h=ge(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,Qf(Kg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,xa(9,{destroy:void 0},Gg.bind(null,l,h,a,i),null),ee===null)throw Error(s(349));d||(qi&127)!==0||Fg(l,i,a)}return a}function Fg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=oc(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Gg(e,i,a,l){i.value=a,i.getSnapshot=l,Yg(i)&&Qg(e)}function Kg(e,i,a){return a(function(){Yg(i)&&Qg(e)})}function Yg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Qg(e){var i=Is(e,2);i!==null&&cn(i,e,2)}function Kf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),ks){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Xg(e,i,a,l){return e.baseState=a,Ff(e,Jt,typeof l=="function"?l:Hi)}function CA(e,i,a,l,h){if(fc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),I=K.S;I!==null&&I(_,T),Jg(e,i,T)}catch(U){Yf(e,i,U)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Jg(e,i,d)}catch(U){Yf(e,i,U)}}function Jg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(e,i,l)},function(l){return Yf(e,i,l)}):Wg(e,i,a)}function Wg(e,i,a){i.status="fulfilled",i.value=a,Zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,$g(e,a)))}function Yf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zg(i),i=i.next;while(i!==l)}e.action=null}function Zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ty(e,i){return i}function ey(e,i){if(Pt){var a=ee.formState;if(a!==null){t:{var l=bt;if(Pt){if(ie){e:{for(var h=ie,d=Vn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=Ln(h.nextSibling),l=h.data==="F!";break t}}Sr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:i},a.queue=l,a=Ey.bind(null,bt,l),l.dispatch=a,l=Kf(!1),d=Zf.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=CA.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ny(e){var i=ge();return iy(i,Jt,e)}function iy(e,i,a){if(i=Ff(e,i,ty)[0],e=uc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(_){throw _===Da?Zu:_}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,xa(9,{destroy:void 0},IA.bind(null,h,a),null)),[l,d,e]}function IA(e,i){e.action=i}function ry(e){var i=ge(),a=Jt;if(a!==null)return iy(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function xa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=oc(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function sy(){return ge().memoizedState}function cc(e,i,a,l){var h=nn();bt.flags|=e,h.memoizedState=xa(1|i,{destroy:void 0},a,l===void 0?null:l)}function hc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&Uf(l,Jt.memoizedState.deps)?h.memoizedState=xa(i,d,a,l):(bt.flags|=e,h.memoizedState=xa(1|i,d,a,l))}function ay(e,i){cc(8390656,8,e,i)}function Qf(e,i){hc(2048,8,e,i)}function DA(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=oc(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function oy(e){var i=ge().memoizedState;return DA({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ly(e,i){return hc(4,2,e,i)}function uy(e,i){return hc(4,4,e,i)}function cy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hy(e,i,a){a=a!=null?a.concat([e]):null,hc(4,4,cy.bind(null,i,e),a)}function Xf(){}function fy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function dy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=e(),ks){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function $f(e,i,a){return a===void 0||(qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=m_(),bt.lanes|=e,Or|=e,a)}function my(e,i,a,l){return pn(a,i)?a:Oa.current!==null?(e=$f(e,a,l),pn(e,i)||(we=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Ot&261930)===0?(we=!0,e.memoizedState=a):(e=m_(),bt.lanes|=e,Or|=e,i)}function py(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Zf(e,!1,i,a);try{var I=h(),U=K.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=bA(I,l);ol(e,i,G,Tn(e))}else ol(e,i,l,Tn(e))}catch($){ol(e,i,{then:function(){},status:"rejected",reason:$},Tn())}finally{rt.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function NA(){}function Jf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=gy(e).queue;py(e,h,i,mt,a===null?NA:function(){return yy(e),a(l)})}function gy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function yy(e){var i=gy(e);i.next===null&&(i=e.alternate.memoizedState),ol(e,i.next.queue,{},Tn())}function Wf(){return He(bl)}function _y(){return ge().memoizedState}function vy(){return ge().memoizedState}function OA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=wr(a);var l=Rr(i,e,a);l!==null&&(cn(l,i,a),nl(l,i,a)),i={cache:Cf()},e.payload=i;return}i=i.return}}function MA(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(e)?Ty(i,a):(a=gf(e,i,a,l),a!==null&&(cn(a,e,l),Sy(a,i,l)))}function Ey(e,i,a){var l=Tn();ol(e,i,a,l)}function ol(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(e))Ty(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return Ku(e,i,h,0),ee===null&&Gu(),!1}catch{}if(a=gf(e,i,h,l),a!==null)return cn(a,e,l),Sy(a,i,l),!0}return!1}function Zf(e,i,a,l){if(l={lane:2,revertLane:Od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(e)){if(i)throw Error(s(479))}else i=gf(e,a,l,2),i!==null&&cn(i,e,2)}function fc(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Ty(e,i){Ma=sc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Sy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}var ll={readContext:He,use:lc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};ll.useEffectEvent=he;var Ay={readContext:He,use:lc,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:ay,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,cc(4194308,4,cy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return cc(4194308,4,e,i)},useInsertionEffect:function(e,i){cc(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(ks){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(ks){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=MA.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Kf(e);var i=e.queue,a=Ey.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(e,i){var a=nn();return $f(a,e,i)},useTransition:function(){var e=Kf(!1);return e=py.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(Ot&127)!==0||Fg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ay(Kg.bind(null,l,d,e),[e]),l.flags|=2048,xa(9,{destroy:void 0},Gg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=ee.identifierPrefix;if(Pt){var a=Si,l=Ti;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Wf,useFormState:ey,useActionState:ey,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Hf,useCacheRefresh:function(){return nn().memoizedState=OA.bind(null,bt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:He,use:lc,useCallback:fy,useContext:He,useEffect:Qf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:uc,useRef:sy,useState:function(){return uc(Hi)},useDebugValue:Xf,useDeferredValue:function(e,i){var a=ge();return my(a,Jt.memoizedState,e,i)},useTransition:function(){var e=uc(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:Wf,useFormState:ny,useActionState:ny,useOptimistic:function(e,i){var a=ge();return Xg(a,Jt,e,i)},useMemoCache:Hf,useCacheRefresh:vy};td.useEffectEvent=oy;var by={readContext:He,use:lc,useCallback:fy,useContext:He,useEffect:Qf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:Gf,useRef:sy,useState:function(){return Gf(Hi)},useDebugValue:Xf,useDeferredValue:function(e,i){var a=ge();return Jt===null?$f(a,e,i):my(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Gf(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:Wf,useFormState:ry,useActionState:ry,useOptimistic:function(e,i){var a=ge();return Jt!==null?Xg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:vy};by.useEffectEvent=oy;function ed(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=wr(l);h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(cn(i,e,l),nl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=wr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(cn(i,e,l),nl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=wr(a);l.tag=2,i!=null&&(l.callback=i),i=Rr(e,l,a),i!==null&&(cn(i,e,a),nl(i,e,a))}};function wy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function Ry(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&nd.enqueueReplaceState(i,i.state,null)}function Us(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Cy(e){Fu(e)}function Iy(e){console.error(e)}function Dy(e){Fu(e)}function dc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ny(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(e,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(e,i)},a}function Oy(e){return e=wr(e),e.tag=3,e}function My(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ny(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Ny(i,a,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function VA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?wc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Id(e,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Id(e,l,h)),!1}throw Error(s(435,a.tag))}return Id(e,l,h),wc(),!1}if(Pt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(e=Error(s(422),{cause:l}),Jo(Nn(e,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),Jo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=id(e.stateNode,l,h),Vf(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),gl===null?gl=[d]:gl.push(d),fe!==4&&(fe=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=id(a.stateNode,l,e),Vf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mr===null||!Mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Oy(h),My(h,e,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var rd=Error(s(461)),we=!1;function Fe(e,i,a,l){i.child=e===null?Pg(i,null,a,l):Ps(i,e.child,a,l)}function Vy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ms(i),l=zf(e,i,a,_,d,h),T=Bf(),e!==null&&!we?(jf(e,i,h),Fi(e,i,h)):(Pt&&T&&Ef(i),i.flags|=1,Fe(e,i,l,h),i.child)}function xy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(e,i,d,l,h)):(e=Qu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!fd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=Ui(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ly(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(we=!1,i.pendingProps=l=d,fd(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return sd(e,i,a,l,h)}function Py(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return ky(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?zg(i,d):Lf(),Bg(i);else return l=i.lanes=536870912,ky(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wu(i,d.cachePool),zg(i,d),Ir(),i.memoizedState=null):(e!==null&&Wu(i,null),Lf(),Ir());return Fe(e,i,h,a),i.child}function ul(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ky(e,i,a,l,h){var d=Df();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Wu(i,null),Lf(),Bg(i),e!==null&&Ra(e,i,l,!0),i.childLanes=h,null}function mc(e,i){return i=gc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Uy(e,i,a){return Ps(i,e.child,null,a),e=mc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function xA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=mc(i,l),i.lanes=536870912,ul(null,e);if(kf(i),(e=ie)?(e=$_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Tg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Sr(i);return i.lanes=536870912,null}return mc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(kf(i),h)if(i.flags&256)i.flags&=-257,i=Uy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(we||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(l=ee,l!==null&&(_=No(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Is(e,_),cn(l,e,_),rd;wc(),i=Uy(e,i,a)}else e=d.treeContext,ie=Ln(_.nextSibling),qe=i,Pt=!0,Tr=null,Vn=!1,e!==null&&bg(i,e),i=mc(i,l),i.flags|=4096;return i}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function pc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function sd(e,i,a,l,h){return Ms(i),a=zf(e,i,a,l,void 0,h),l=Bf(),e!==null&&!we?(jf(e,i,h),Fi(e,i,h)):(Pt&&l&&Ef(i),i.flags|=1,Fe(e,i,a,h),i.child)}function zy(e,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=qg(i,l,a,h),jg(e),l=Bf(),e!==null&&!we?(jf(e,i,d),Fi(e,i,d)):(Pt&&l&&Ef(i),i.flags|=1,Fe(e,i,a,d),i.child)}function By(e,i,a,l,h){if(Ms(i),i.stateNode===null){var d=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Of(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):Sa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ed(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&nd.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Us(a,T);d.props=I;var U=d.context,G=a.contextType;_=Sa,typeof G=="object"&&G!==null&&(_=He(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&Ry(i,d,l,_),br=!1;var z=i.memoizedState;d.state=z,rl(i,l,d,h),il(),U=i.memoizedState,T||z!==U||br?(typeof $=="function"&&(ed(i,a,$,l),U=i.memoizedState),(I=br||wy(i,a,I,l,z,U,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(e,i),_=i.memoizedProps,G=Us(a,_),d.props=G,$=i.pendingProps,z=d.context,U=a.contextType,I=Sa,typeof U=="object"&&U!==null&&(I=He(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||z!==I)&&Ry(i,d,l,I),br=!1,z=i.memoizedState,d.state=z,rl(i,l,d,h),il();var H=i.memoizedState;_!==$||z!==H||br||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof T=="function"&&(ed(i,a,T,l),H=i.memoizedState),(G=br||wy(i,a,G,l,z,H,I)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ps(i,e.child,null,h),i.child=Ps(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Fi(e,i,h),e}function jy(e,i,a,l){return Ns(),i.flags|=256,Fe(e,i,a,l),i.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:Ng()}}function ld(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function qy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Cr(i):Ir(),(e=ie)?(e=$_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Tg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Sr(i);return Fd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ir(),h=i.mode,T=gc({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=od(a),l.childLanes=ld(e,_,a),i.memoizedState=ad,ul(null,l)):(Cr(i),ud(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=cd(e,i,a)):i.memoizedState!==null?(Ir(),i.child=e.child,i.flags|=128,i=null):(Ir(),T=l.fallback,h=i.mode,l=gc({mode:"visible",children:l.children},h),T=Ds(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ps(i,e.child,null,a),l=i.child,l.memoizedState=od(a),l.childLanes=ld(e,_,a),i.memoizedState=ad,i=ul(null,l));else if(Cr(i),Fd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,Jo({value:l,source:null,stack:null}),i=cd(e,i,a)}else if(we||Ra(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=ee,_!==null&&(l=No(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Is(e,l),cn(_,e,l),rd;Hd(T)||wc(),i=cd(e,i,a)}else Hd(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ie=Ln(T.nextSibling),qe=i,Pt=!0,Tr=null,Vn=!1,e!==null&&bg(i,e),i=ud(i,l.children),i.flags|=4096);return i}return h?(Ir(),T=l.fallback,h=i.mode,I=e.child,U=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,U!==null?T=Ui(U,T):(T=Ds(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ul(null,l),l=i.child,T=e.child.memoizedState,T===null?T=od(a):(h=T.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ng(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ld(e,_,a),i.memoizedState=ad,ul(e.child,l)):(Cr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function ud(e,i){return i=gc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function cd(e,i,a){return Ps(i,e.child,null,a),e=ud(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Hy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),wf(e.return,i,a)}function hd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Fy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,st(pe,_),Fe(e,i,l,a),l=Pt?$o:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hy(e,a,i);else if(e.tag===19)Hy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),hd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}hd(i,!0,a,null,d,l);break;case"together":hd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function fd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function LA(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ar(i,Ae,e.memoizedState.cache),Ns();break;case 27:case 5:cs(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qy(e,i,a):(Cr(i),e=Fi(e,i,a),e!==null?e.sibling:null);Cr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Fy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(pe,pe.current),l)break;return null;case 22:return i.lanes=0,Py(e,i,a,i.pendingProps);case 24:Ar(i,Ae,e.memoizedState.cache)}return Fi(e,i,a)}function Gy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!fd(e,a)&&(i.flags&128)===0)return we=!1,LA(e,i,a);we=(e.flags&131072)!==0}else we=!1,Pt&&(i.flags&1048576)!==0&&Ag(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=xs(i.elementType),i.type=e,typeof e=="function")yf(e)?(l=Us(e,l),i.tag=1,i=By(null,i,e,l,a)):(i.tag=0,i=sd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){i.tag=11,i=Vy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=xy(null,i,e,l,a);break t}}throw i=te(e)||e,Error(s(306,i,""))}}return i;case 0:return sd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),By(e,i,l,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(e,i),rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ar(i,Ae,l),l!==d.cache&&Rf(i,[Ae],a,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=jy(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),Jo(h),i=jy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Ln(e.firstChild),qe=i,Pt=!0,Tr=null,Vn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ns(),l===h){i=Fi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return pc(e,i),e===null?(a=nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,l=Mc(Rt.current).createElement(a),l[Ee]=i,l[Le]=e,Ge(l,a,e),Te(l),i.stateNode=l):i.memoizedState=nv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cs(i),e===null&&Pt&&(l=i.stateNode=Z_(i.type,i.pendingProps,Rt.current),qe=i,Vn=!0,h=ie,Pr(i.type)?(Gd=h,ie=Ln(l.firstChild)):ie=h),Fe(e,i,i.pendingProps.children,a),pc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=l=ie)&&(l=hb(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,qe=i,ie=Ln(l.firstChild),Vn=!1,h=!0):h=!1),h||Sr(i)),cs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(e,i,RA,null,null,a),bl._currentValue=h),pc(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&Pt&&((e=a=ie)&&(a=fb(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,qe=i,ie=null,e=!0):e=!1),e||Sr(i)),null;case 13:return qy(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ps(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return Vy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ar(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return xy(e,i,i.type,i.pendingProps,a);case 15:return Ly(e,i,i.type,i.pendingProps,a);case 19:return Fy(e,i,a);case 31:return xA(e,i,a);case 22:return Py(e,i,a,i.pendingProps);case 24:return Ms(i),l=He(Ae),e===null?(h=Df(),h===null&&(h=ee,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Of(i),Ar(i,Ae,h)):((e.lanes&a)!==0&&(Mf(e,i),rl(i,null,null,a),il()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,Ae,l)):(l=d.cache,Ar(i,Ae,l),l!==h.cache&&Rf(i,[Ae],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function dd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(__())e.flags|=8192;else throw Ls=tc,Nf}else e.flags&=-16777217}function Ky(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ov(i))if(__())e.flags|=8192;else throw Ls=tc,Nf}function yc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Au():536870912,e.lanes|=i,Ua|=i)}function cl(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function PA(e,i,a){var l=i.pendingProps;switch(Tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Af())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Gi(i),d!==null?(re(i),Ky(i,d)):(re(i),dd(i,h,null,l,a))):d?d!==e.memoizedState?(Gi(i),re(i),Ky(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Gi(i),re(i),dd(i,h,e,l,a)),null;case 27:if(ia(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=ut.current,wa(i)?wg(i):(e=Z_(h,l,a),i.stateNode=e,Gi(i))}return re(i),null;case 5:if(ia(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(d=ut.current,wa(i))wg(i);else{var _=Mc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ee]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Gi(i)}}return re(i),dd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,wa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(e.nodeValue,a)),e||Sr(i,!0)}else e=Mc(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=wa(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=Af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),re(i),null);case 4:return ae(),e===null&&Ld(i.stateNode.containerInfo),re(i),null;case 10:return ji(i.type),re(i),null;case 19:if(J(pe),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)cl(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=rc(e),d!==null){for(i.flags|=128,cl(l,!1),e=d.updateQueue,i.updateQueue=e,yc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Eg(a,e),a=a.sibling;return st(pe,pe.current&1|2),Pt&&zi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>Sc&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304)}else{if(!h)if(e=rc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,yc(i,e),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return re(i),null}else 2*tn()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=pe.current,st(pe,h?a&1|2:a&1),Pt&&zi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return _n(i),Pf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&J(Vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Ae),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kA(e,i){switch(Tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ji(Ae),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Ns()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ns()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(pe),null;case 4:return ae(),null;case 10:return ji(i.type),null;case 22:case 23:return _n(i),Pf(),e!==null&&J(Vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ji(Ae),null;case 25:return null;default:return null}}function Yy(e,i){switch(Tf(i),i.tag){case 3:ji(Ae),ae();break;case 26:case 27:case 5:ia(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:J(pe);break;case 10:ji(i.type);break;case 22:case 23:_n(i),Pf(),e!==null&&J(Vs);break;case 24:ji(Ae)}}function hl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Qt(i,i.return,T)}}function Dr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,U=T;try{U()}catch(G){Qt(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){Qt(i,i.return,G)}}function Qy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ug(i,a)}catch(l){Qt(e,e.return,l)}}}function Xy(e,i,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(e,i,l)}}function fl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Qt(e,i,h)}}function Ai(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,i,h)}else a.current=null}function $y(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function md(e,i,a){try{var l=e.stateNode;sb(l,e.type,a,i),l[Le]=i}catch(h){Qt(e,e.return,h)}}function Jy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function pd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&Pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(gd(e,i,a),e=e.sibling;e!==null;)gd(e,i,a),e=e.sibling}function _c(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_c(e,i,a),e=e.sibling;e!==null;)_c(e,i,a),e=e.sibling}function Wy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Ee]=e,i[Le]=a}catch(d){Qt(e,e.return,d)}}var Ki=!1,Re=!1,yd=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function UA(e,i){if(e=e.containerInfo,Ud=zc,e=hg(e),cf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,U=0,G=0,$=e,z=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(I=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===e)break e;if(z===a&&++U===h&&(T=_),z===d&&++G===l&&(I=_),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:e,selectionRange:a},zc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Us(a.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)qd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function t_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),l&4&&hl(5,a);break;case 1:if(Qi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}l&64&&Qy(a),l&512&&fl(a,a.return);break;case 3:if(Qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ug(e,i)}catch(_){Qt(a,a.return,_)}}break;case 27:i===null&&l&4&&Wy(a);case 26:case 5:Qi(e,a),i===null&&l&4&&$y(a),l&512&&fl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),l&4&&i_(e,a);break;case 13:Qi(e,a),l&4&&r_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=YA.bind(null,a),db(e,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||Re,h=Ki;var d=Re;Ki=l,(Re=i)&&!d?Xi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Ki=h,Re=d}break;case 30:break;default:Qi(e,a)}}function e_(e){var i=e.alternate;i!==null&&(e.alternate=null,e_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Yi(e,i,a){for(a=a.child;a!==null;)n_(e,i,a),a=a.sibling}function n_(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Re||Ai(a,i),Yi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ai(a,i);var l=le,h=an;Pr(a.type)&&(le=a.stateNode,an=!1),Yi(e,i,a),Tl(a.stateNode),le=l,an=h;break;case 5:Re||Ai(a,i);case 6:if(l=le,h=an,le=null,Yi(e,i,a),le=l,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Qt(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){Qt(a,i,d)}break;case 18:le!==null&&(an?(e=le,Q_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ka(e)):Q_(le,a.stateNode));break;case 4:l=le,h=an,le=a.stateNode.containerInfo,an=!0,Yi(e,i,a),le=l,an=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),Re||Dr(4,a,i),Yi(e,i,a);break;case 1:Re||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xy(a,i,l)),Yi(e,i,a);break;case 21:Yi(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Yi(e,i,a),Re=l;break;default:Yi(e,i,a)}}function i_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(a){Qt(i,i.return,a)}}}function r_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(a){Qt(i,i.return,a)}}function zA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Zy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Zy),i;default:throw Error(s(435,e.tag))}}function vc(e,i){var a=zA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=QA.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Pr(T.type)){le=T.stateNode,an=!1;break t}break;case 5:le=T.stateNode,an=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(le===null)throw Error(s(160));n_(d,_,h),le=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s_(i,e),i=i.sibling}var $n=null;function s_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Dr(3,e,e.return),hl(3,e),Dr(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),l&64&&Ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Ee]=e,Te(d),l=d;break t;case"link":var _=sv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=sv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,Te(d),l=d}e.stateNode=l}else av(h,e.type,e.stateNode);else e.stateNode=rv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(h,e.type,e.stateNode):rv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&md(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),a!==null&&l&4&&md(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ct){Qt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,md(e,h,a!==null?a.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Qt(e,e.return,ct)}}break;case 3:if(Lc=null,h=$n,$n=Vc(i.containerInfo),on(i,e),$n=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(ct){Qt(e,e.return,ct)}yd&&(yd=!1,a_(e));break;case 4:l=$n,$n=Vc(e.stateNode.containerInfo),on(i,e),ln(e),$n=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,U=Ki,G=Re;if(Ki=U||h,Re=G||I,on(i,e),Re=G,Ki=U,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Ki||Re||zs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ct){Qt(I,I.return,ct)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){Qt(I,I.return,ct)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?X_(H,!0):X_(I.stateNode,!1)}catch(ct){Qt(I,I.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(e);_c(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=pd(e);_c(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,U=pd(e);gd(e,U,I);break;default:throw Error(s(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function a_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t_(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),zs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xy(i,i.return,a),zs(i);break;case 27:Tl(i.stateNode);case 26:case 5:Ai(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}e=e.sibling}}function Xi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),hl(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Qt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)kg(I[h],T)}catch(U){Qt(l,l.return,U)}}a&&_&64&&Qy(d),fl(d,d.return);break;case 27:Wy(d);case 26:case 5:Xi(h,d,a),a&&l===null&&_&4&&$y(d),fl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&_&4&&i_(h,d);break;case 13:Xi(h,d,a),a&&_&4&&r_(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),fl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function _d(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function Jn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o_(e,i,a,l),i=i.sibling}function o_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(e,i,a,l),h&2048&&hl(9,i);break;case 1:Jn(e,i,a,l);break;case 3:Jn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){Jn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(i,i.return,I)}}else Jn(e,i,a,l);break;case 31:Jn(e,i,a,l);break;case 13:Jn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(e,i,a,l):dl(e,i):d._visibility&2?Jn(e,i,a,l):(d._visibility|=2,La(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&_d(_,i);break;case 24:Jn(e,i,a,l),h&2048&&vd(i.alternate,i);break;default:Jn(e,i,a,l)}}function La(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,T,I,h),hl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?La(d,_,T,I,h):dl(d,_):(G._visibility|=2,La(d,_,T,I,h)),h&&U&2048&&_d(_.alternate,_);break;case 24:La(d,_,T,I,h),h&&U&2048&&vd(_.alternate,_);break;default:La(d,_,T,I,h)}i=i.sibling}}function dl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&_d(l.alternate,l);break;case 24:dl(a,l),h&2048&&vd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Pa(e,i,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)l_(e,i,a),e=e.sibling}function l_(e,i,a){switch(e.tag){case 26:Pa(e,i,a),e.flags&ml&&e.memoizedState!==null&&wb(a,$n,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,i,a);break;case 3:case 4:var l=$n;$n=Vc(e.stateNode.containerInfo),Pa(e,i,a),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ml,ml=16777216,Pa(e,i,a),ml=l):Pa(e,i,a));break;default:Pa(e,i,a)}}function u_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function pl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,h_(l,e)}u_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)c_(e),e=e.sibling}function c_(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ec(e)):pl(e);break;default:pl(e)}}function Ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,h_(l,e)}u_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}e=e.sibling}}function h_(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(e_(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var BA={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},jA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ee=null,Dt=null,Ot=0,Yt=0,vn=null,Nr=!1,ka=!1,Ed=!1,$i=0,fe=0,Or=0,Bs=0,Td=0,En=0,Ua=0,gl=null,un=null,Sd=!1,Tc=0,f_=0,Sc=1/0,Ac=null,Mr=null,Ve=0,Vr=null,za=null,Ji=0,Ad=0,bd=null,d_=null,yl=0,wd=null;function Tn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:K.T!==null?Od():bu()}function m_(){if(En===0)if((Ot&536870912)===0||Pt){var e=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),xr(e,Ot,En,!1)),ms(e,a),((Ht&2)===0||e!==ee)&&(e===ee&&((Ht&2)===0&&(Bs|=a),fe===4&&xr(e,Ot,En,!1)),bi(e))}function p_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),h=l?FA(e,i):Cd(e,i,!0),d=l;do{if(h===0){ka&&!l&&xr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!qA(a)){h=Cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,_).flags|=256),_=Cd(T,_,!1),_!==2){if(Ed&&!I){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(e,0),xr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xr(l,i,En,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tc+300-tn(),10<h)){if(xr(l,i,En,!Nr),ai(l,0,!0)!==0)break t;Ji=i,l.timeoutHandle=K_(g_.bind(null,l,a,un,Ac,Sd,i,En,Bs,Ua,Nr,d,"Throttled",-0,0),h);break t}g_(l,a,un,Ac,Sd,i,En,Bs,Ua,Nr,d,null,-0,0)}}break}while(!0);bi(e)}function g_(e,i,a,l,h,d,_,T,I,U,G,$,z,H){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},l_(i,d,$);var ct=(d&62914560)===d?Tc-tn():(d&4194048)===d?f_-tn():0;if(ct=Rb($,ct),ct!==null){Ji=d,e.cancelPendingCommit=ct(b_.bind(null,e,i,d,a,l,h,_,T,I,G,$,null,z,H)),xr(e,d,_,!U);return}}b_(e,i,d,a,l,h,_,T,I)}function qA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(e,i,a,l){i&=~Td,i&=~Bs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ps(e,a,i)}function bc(){return(Ht&6)===0?(_l(0),!1):!0}function Rd(){if(Dt!==null){if(Yt===0)var e=Dt.return;else e=Dt,Bi=Os=null,qf(e),Na=null,tl=0,e=Dt;for(;e!==null;)Yy(e.alternate,e),e=e.return;Dt=null}}function Ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,Rd(),ee=e,Dt=a=Ui(e.current,null),Ot=i,Yt=0,vn=null,Nr=!1,ka=jn(e,i),Ed=!1,Ua=En=Td=Bs=Or=fe=0,un=gl=null,Sd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return $i=i,Gu(),a}function y_(e,i){bt=null,K.H=ll,i===Da||i===Zu?(i=Vg(),Yt=3):i===Nf?(i=Vg(),Yt=4):Yt=i===rd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Dt===null&&(fe=1,dc(e,Nn(i,e.current)))}function __(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?xn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===xn:!1}function v_(){var e=K.H;return K.H=ll,e===null?ll:e}function E_(){var e=K.A;return K.A=BA,e}function wc(){fe=4,Nr||(Ot&4194048)!==Ot&&yn.current!==null||(ka=!0),(Or&134217727)===0&&(Bs&134217727)===0||ee===null||xr(ee,Ot,En,!1)}function Cd(e,i,a){var l=Ht;Ht|=2;var h=v_(),d=E_();(ee!==e||Ot!==i)&&(Ac=null,Ba(e,i)),i=!1;var _=fe;t:do try{if(Yt!==0&&Dt!==null){var T=Dt,I=vn;switch(Yt){case 8:Rd(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var U=Yt;if(Yt=0,vn=null,ja(e,T,I,U),a&&ka){_=0;break t}break;default:U=Yt,Yt=0,vn=null,ja(e,T,I,U)}}HA(),_=fe;break}catch(G){y_(e,G)}while(!0);return i&&e.shellSuspendCounter++,Bi=Os=null,Ht=l,K.H=h,K.A=d,Dt===null&&(ee=null,Ot=0,Gu()),_}function HA(){for(;Dt!==null;)T_(Dt)}function FA(e,i){var a=Ht;Ht|=2;var l=v_(),h=E_();ee!==e||Ot!==i?(Ac=null,Sc=tn()+500,Ba(e,i)):ka=jn(e,i);t:do try{if(Yt!==0&&Dt!==null){i=Dt;var d=vn;e:switch(Yt){case 1:Yt=0,vn=null,ja(e,i,d,1);break;case 2:case 9:if(Og(d)){Yt=0,vn=null,S_(i);break}i=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),bi(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Og(d)?(Yt=0,vn=null,S_(i)):(Yt=0,vn=null,ja(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?ov(_):T.stateNode.complete){Yt=0,vn=null;var I=T.sibling;if(I!==null)Dt=I;else{var U=T.return;U!==null?(Dt=U,Rc(U)):Dt=null}break e}}Yt=0,vn=null,ja(e,i,d,5);break;case 6:Yt=0,vn=null,ja(e,i,d,6);break;case 8:Rd(),fe=6;break t;default:throw Error(s(462))}}GA();break}catch(G){y_(e,G)}while(!0);return Bi=Os=null,K.H=l,K.A=h,Ht=a,Dt!==null?0:(ee=null,Ot=0,Gu(),fe)}function GA(){for(;Dt!==null&&!nf();)T_(Dt)}function T_(e){var i=Gy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,i===null?Rc(e):Dt=i}function S_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=zy(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=zy(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:qf(i);default:Yy(a,i),i=Dt=Eg(i,$i),i=Gy(a,i,$i)}e.memoizedProps=e.pendingProps,i===null?Rc(e):Dt=i}function ja(e,i,a,l){Bi=Os=null,qf(i),Na=null,tl=0;var h=i.return;try{if(VA(e,h,i,a,Ot)){fe=1,dc(e,Nn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;fe=1,dc(e,Nn(a,e.current)),Dt=null;return}i.flags&32768?(Pt||l===1?e=!0:ka||(Ot&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(i,e)):Rc(i)}function Rc(e){var i=e;do{if((i.flags&32768)!==0){A_(i,Nr);return}e=i.return;var a=PA(i.alternate,i,$i);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);fe===0&&(fe=5)}function A_(e,i){do{var a=kA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);fe=6,Dt=null}function b_(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do Cc();while(Ve!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=pf,af(e,a,d,_,T,I),e===ee&&(Dt=ee=null,Ot=0),za=i,Vr=e,Ji=a,Ad=d,bd=h,d_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XA(cr,function(){return D_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=rt.p,rt.p=2,_=Ht,Ht|=4;try{UA(e,i,a)}finally{Ht=_,rt.p=h,K.T=l}}Ve=1,w_(),R_(),C_()}}function w_(){if(Ve===1){Ve=0;var e=Vr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var h=Ht;Ht|=4;try{s_(i,e);var d=zd,_=hg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&cg(T.ownerDocument.documentElement,T)){if(I!==null&&cf(T)){var U=I.start,G=I.end;if(G===void 0&&(G=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),ct=T.textContent.length,pt=Math.min(I.start,ct),Zt=I.end===void 0?pt:Math.min(I.end,ct);!H.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var x=ug(T,pt),N=ug(T,Zt);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var k=$.createRange();k.setStart(x.node,x.offset),H.removeAllRanges(),pt>Zt?(H.addRange(k),H.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),H.addRange(k))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!Ud,zd=Ud=null}finally{Ht=h,rt.p=l,K.T=a}}e.current=i,Ve=2}}function R_(){if(Ve===2){Ve=0;var e=Vr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var h=Ht;Ht|=4;try{t_(e,i.alternate,i)}finally{Ht=h,rt.p=l,K.T=a}}Ve=3}}function C_(){if(Ve===4||Ve===3){Ve=0,yu();var e=Vr,i=za,a=Ji,l=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,za=Vr=null,I_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),xi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=rt.p,rt.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,rt.p=h}}(Ji&3)!==0&&Cc(),bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===wd?yl++:(yl=0,wd=e):yl=0,_l(0)}}function I_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function Cc(){return w_(),R_(),C_(),D_()}function D_(){if(Ve!==5)return!1;var e=Vr,i=Ad;Ad=0;var a=xi(Ji),l=K.T,h=rt.p;try{rt.p=32>a?32:a,K.T=null,a=bd,bd=null;var d=Vr,_=Ji;if(Ve=0,za=Vr=null,Ji=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,c_(d.current),o_(d,d.current,_,a),Ht=T,_l(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{rt.p=h,K.T=l,I_(e,i)}}function N_(e,i,a){i=Nn(a,i),i=id(e.stateNode,i,2),e=Rr(e,i,2),e!==null&&(ms(e,2),bi(e))}function Qt(e,i,a){if(e.tag===3)N_(e,e,a);else for(;i!==null;){if(i.tag===3){N_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){e=Nn(a,e),a=Oy(2),l=Rr(i,a,2),l!==null&&(My(a,l,i,e),ms(l,2),bi(l));break}}i=i.return}}function Id(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new jA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ed=!0,h.add(a),e=KA.bind(null,e,i,a),i.then(e,e))}function KA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Ot&a)===a&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>tn()-Tc?(Ht&2)===0&&Ba(e,0):Td|=a,Ua===Ot&&(Ua=0)),bi(e)}function O_(e,i){i===0&&(i=Au()),e=Is(e,i),e!==null&&(ms(e,i),bi(e))}function YA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),O_(e,a)}function QA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),O_(e,a)}function XA(e,i){return Me(e,i)}var Ic=null,qa=null,Dd=!1,Dc=!1,Nd=!1,Lr=0;function bi(e){e!==qa&&e.next===null&&(qa===null?Ic=qa=e:qa=qa.next=e),Dc=!0,Dd||(Dd=!0,JA())}function _l(e,i){if(!Nd&&Dc){Nd=!0;do for(var a=!1,l=Ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Ot,d=ai(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||jn(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Nd=!1}}function $A(){M_()}function M_(){Dc=Dd=!1;var e=0;Lr!==0&&ob()&&(e=Lr);for(var i=tn(),a=null,l=Ic;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(qa=a)):(a=l,(e!==0||(d&3)!==0)&&(Dc=!0)),l=h}Ve!==0&&Ve!==5||_l(e),Lr!==0&&(Lr=0)}function V_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=sf(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=ee,a=Ot,a=ai(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ur(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ur(l),xi(a)){case 2:case 8:a=Io;break;case 32:a=cr;break;case 268435456:a=_u;break;default:a=cr}return l=x_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ur(l),e.callbackPriority=2,e.callbackNode=null,2}function x_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cc()&&e.callbackNode!==a)return null;var l=Ot;return l=ai(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(p_(e,l,i),V_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?x_.bind(null,e):null)}function L_(e,i){if(Cc())return null;p_(e,i,!0)}function JA(){ub(function(){(Ht&6)!==0?Me(Co,$A):M_()})}function Od(){if(Lr===0){var e=Ca;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Lr=e}return Lr}function P_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function k_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function WA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?P_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new yi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Lr!==0){var I=_?k_(h,_):new FormData(h);Jf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?k_(h,_):new FormData(h),Jf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Md=0;Md<mf.length;Md++){var Vd=mf[Md],ZA=Vd.toLowerCase(),tb=Vd[0].toUpperCase()+Vd.slice(1);Xn(ZA,"on"+tb)}Xn(mg,"onAnimationEnd"),Xn(pg,"onAnimationIteration"),Xn(gg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(gA,"onTransitionRun"),Xn(yA,"onTransitionStart"),Xn(_A,"onTransitionCancel"),Xn(yg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function U_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(G){Fu(G)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,U=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(G){Fu(G)}h.currentTarget=null,d=I}}}}function Nt(e,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=e+"__bubble";a.has(l)||(z_(i,e,2,!1),a.add(l))}function xd(e,i,a){var l=0;i&&(l|=4),z_(a,e,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Ld(e){if(!e[Nc]){e[Nc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(eb.has(a)||xd(a,!1,e),xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,xd("selectionchange",!1,i))}}function z_(e,i,a,l){switch(mv(i)){case 2:var h=Db;break;case 8:h=Nb;break;default:h=$d}a=h.bind(null,i,a,e),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Pd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ci(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}gr(function(){var U=d,G=Rn(a),$=[];t:{var z=_g.get(e);if(z!==void 0){var H=yi,ct=e;switch(e){case"keypress":if(Ss(a)===0)break t;case"keydown":case"keyup":H=ju;break;case"focusin":ct="focus",H=bs;break;case"focusout":ct="blur",H=bs;break;case"beforeblur":case"afterblur":H=bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case mg:case pg:case gg:H=xu;break;case yg:H=A;break;case"scroll":case"scrollend":H=Ho;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=At}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?z!==null?z+"Capture":null:z;pt=[];for(var N=U,k;N!==null;){var X=N;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||x===null||(X=Gn(N,x),X!=null&&pt.push(El(N,X,k))),Zt)break;N=N.return}0<pt.length&&(z=new H(z,ct,null,a,G),$.push({event:z,listeners:pt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&a!==Bo&&(ct=a.relatedTarget||a.fromElement)&&(ci(ct)||ct[li]))break t;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=U,ct=ct?ci(ct):null,ct!==null&&(Zt=u(ct),pt=ct.tag,ct!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ct=null)):(H=null,ct=U),H!==ct)){if(pt=Fo,X="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=ki,X="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=H==null?z:dn(H),k=ct==null?z:dn(ct),z=new pt(X,N+"leave",H,a,G),z.target=Zt,z.relatedTarget=k,X=null,ci(G)===U&&(pt=new pt(x,N+"enter",ct,a,G),pt.target=k,pt.relatedTarget=Zt,X=pt),Zt=X,H&&ct)e:{for(pt=nb,x=H,N=ct,k=0,X=x;X;X=pt(X))k++;X=0;for(var ft=N;ft;ft=pt(ft))X++;for(;0<k-X;)x=pt(x),k--;for(;0<X-k;)N=pt(N),X--;for(;k--;){if(x===N||N!==null&&x===N.alternate){pt=x;break e}x=pt(x),N=pt(N)}pt=null}else pt=null;H!==null&&B_($,z,H,pt,!1),ct!==null&&Zt!==null&&B_($,Zt,ct,pt,!0)}}t:{if(z=U?dn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Bt=ig;else if(eg(z))if(rg)Bt=dA;else{Bt=hA;var ht=cA}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ha(U.elementType)&&(Bt=ig):Bt=fA;if(Bt&&(Bt=Bt(e,U))){ng($,Bt,a,G);break t}ht&&ht(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(ht=U?dn(U):window,e){case"focusin":(eg(ht)||ht.contentEditable==="true")&&(va=ht,hf=U,Xo=null);break;case"focusout":Xo=hf=va=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,fg($,a,G);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":fg($,a,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else _a?ws(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ei&&a.locale!=="ko"&&(_a||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&_a&&(Ct=qo()):(gi=G,jo="value"in gi?gi.value:gi.textContent,_a=!0)),ht=Oc(U,Mt),0<ht.length&&(Mt=new vi(Mt,e,null,a,G),$.push({event:Mt,listeners:ht}),Ct?Mt.data=Ct:(Ct=ya(a),Ct!==null&&(Mt.data=Ct)))),(Ct=In?aA(e,a):oA(e,a))&&(Mt=Oc(U,"onBeforeInput"),0<Mt.length&&(ht=new vi("onBeforeInput","beforeinput",null,a,G),$.push({event:ht,listeners:Mt}),ht.data=Ct)),WA($,e,U,a,G)}U_($,i)})}function El(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Oc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(e,a),h!=null&&l.unshift(El(e,h,d)),h=Gn(e,i),h!=null&&l.push(El(e,h,d))),e.tag===3)return l;e=e.return}return[]}function nb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||U===null||(I=U,h?(U=Gn(a,d),U!=null&&_.unshift(El(a,U,I))):h||(U=Gn(a,d),U!=null&&_.push(El(a,U,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var ib=/\r\n?/g,rb=/\u0000|\uFFFD/g;function j_(e){return(typeof e=="string"?e:""+e).replace(ib,`
`).replace(rb,"")}function q_(e,i){return i=j_(i),j_(e)===i}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":zo(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ua(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,ua(e,a,l))}}function kd(e,i,a,l,h,d){switch(a){case"style":zo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ua(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,_,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,I=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":U=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,l,G,a,null)}}Iu(e,d,T,I,U,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Wt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?fr(e,!!l,i,!1):a!=null&&fr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(e,i,_,T,a,null)}dr(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(e,i,I,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)Nt(vl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,U,l,a,null)}return;default:if(ha(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&kd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,i,T,l,a,null))}function sb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,U=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||Wt(e,i,H,null,l,$)}}for(var z in l){var H=l[z];if($=a[z],l.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==$&&Wt(e,i,z,H,l,$)}}ca(e,_,T,I,U,G,d,h);return;case"select":H=_=T=z=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Wt(e,i,h,d,l,I)}i=T,a=_,l=H,z!=null?fr(e,!!a,z,!1):!!l!=!!a&&(i!=null?fr(e,!!a,i,!0):fr(e,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,_,h,l,d)}Du(e,z,H);return;case"option":for(var ct in a)z=a[ct],a.hasOwnProperty(ct)&&z!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Wt(e,i,ct,null,l,z));for(I in l)z=l[I],H=a[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Wt(e,i,I,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!l.hasOwnProperty(pt)&&Wt(e,i,pt,null,l,z);for(U in l)if(z=l[U],H=a[U],l.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Wt(e,i,U,z,l,H)}return;default:if(ha(i)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!l.hasOwnProperty(Zt)&&kd(e,i,Zt,void 0,l,z);for(G in l)z=l[G],H=a[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||kd(e,i,G,z,l,H);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!l.hasOwnProperty(x)&&Wt(e,i,x,null,l,z);for($ in l)z=l[$],H=a[$],!l.hasOwnProperty($)||z===H||z==null&&H==null||Wt(e,i,$,z,l,H)}function H_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&H_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],U=I.startTime;if(U>T)break;var G=I.transferSize,$=I.initiatorType;G&&H_($)&&(I=I.responseEnd,_+=G*(I<T?1:(T-U)/(I-U)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ud=null,zd=null;function Mc(e){return e.nodeType===9?e:e.ownerDocument}function F_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function ob(){var e=window.event;return e&&e.type==="popstate"?e===jd?!1:(jd=e,!0):(jd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(e){return Y_.resolve(null).then(e).catch(cb)}:K_;function cb(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function Q_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);Ka(i)}function X_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function qd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ui])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function fb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function $_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function Hd(e){return e.data==="$?"||e.data==="$~"}function Fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function db(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Gd=null;function J_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function W_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Z_(e,i,a){switch(i=Mc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Tl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var Pn=new Map,tv=new Set;function Vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=rt.d;rt.d={f:mb,r:pb,D:gb,C:yb,L:_b,m:vb,X:Tb,S:Eb,M:Sb};function mb(){var e=Wi.f(),i=bc();return e||i}function pb(e){var i=wn(e);i!==null&&i.tag===5&&i.type==="form"?yy(i):Wi.r(e)}var Ha=typeof document>"u"?null:document;function ev(e,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Te(i),l.head.appendChild(i)))}}function gb(e){Wi.D(e),ev("dns-prefetch",e,null)}function yb(e,i){Wi.C(e,i),ev("preconnect",e,i)}function _b(e,i,a){Wi.L(e,i,a);var l=Ha;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ga(e)}Pn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Ge(i,"link",e),Te(i),l.head.appendChild(i)))}}function vb(e,i){Wi.m(e,i);var a=Ha;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(e)}if(!Pn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Ge(l,"link",e),Te(l),a.head.appendChild(l)}}}function Eb(e,i,a){Wi.S(e,i,a);var l=Ha;if(l&&e){var h=hi(l).hoistableStyles,d=Fa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Sl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&Kd(e,a);var I=_=l.createElement("link");Te(I),Ge(I,"link",e),I._p=new Promise(function(U,G){I.onload=U,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Tb(e,i){Wi.X(e,i);var a=Ha;if(a&&e){var l=hi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(e=S({src:e,async:!0},i),(i=Pn.get(h))&&Yd(e,i),d=a.createElement("script"),Te(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sb(e,i){Wi.M(e,i);var a=Ha;if(a&&e){var l=hi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Yd(e,i),d=a.createElement("script"),Te(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nv(e,i,a,l){var h=(h=Rt.current)?Vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=hi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Sl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||Ab(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fa(e){return'href="'+rn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function iv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Te(i),e.head.appendChild(i))}function Ga(e){return'[src="'+rn(e)+'"]'}function Al(e){return"script[async]"+e}function rv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Te(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ge(l,"style",h),xc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,Te(d),d;l=iv(a),(h=Pn.get(h))&&Kd(l,h),d=(e.ownerDocument||e).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ge(d,"link",l),i.state.loading|=4,xc(d,a.precedence,e),i.instance=d;case"script":return d=Ga(a.src),(h=e.querySelector(Al(d)))?(i.instance=h,Te(h),h):(l=a,(h=Pn.get(d))&&(l=S({},a),Yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,e));return i.instance}function xc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Lc=null;function sv(e,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function av(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function bb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ov(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Pc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Te(d);return}d=i.ownerDocument||i,l=iv(l),(h=Pn.get(h))&&Kd(l,h),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Qd=0;function Rb(e,i){return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Qd===0&&(Qd=62500*ab());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Qd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kc=null;function Uc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kc=new Map,i.forEach(Cb,e),kc=null,Pc.call(e))}function Cb(e,i){if(!(i.state.loading&4)){var a=kc.get(e);if(a)var l=a.get(null);else{a=new Map,kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var bl={$$typeof:at,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Ib(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function lv(e,i,a,l,h,d,_,T,I,U,G,$){return e=new Ib(e,i,a,_,I,U,G,$,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=Cf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Of(d),e}function uv(e){return e?(e=Sa,e):Sa}function cv(e,i,a,l,h,d){h=uv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(e,l,i),a!==null&&(cn(a,e,i),nl(a,e,i))}function hv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Xd(e,i){hv(e,i),(e=e.alternate)&&hv(e,i)}function fv(e){if(e.tag===13||e.tag===31){var i=Is(e,67108864);i!==null&&cn(i,e,67108864),Xd(e,67108864)}}function dv(e){if(e.tag===13||e.tag===31){var i=Tn();i=gs(i);var a=Is(e,i);a!==null&&cn(a,e,i),Xd(e,i)}}var zc=!0;function Db(e,i,a,l){var h=K.T;K.T=null;var d=rt.p;try{rt.p=2,$d(e,i,a,l)}finally{rt.p=d,K.T=h}}function Nb(e,i,a,l){var h=K.T;K.T=null;var d=rt.p;try{rt.p=8,$d(e,i,a,l)}finally{rt.p=d,K.T=h}}function $d(e,i,a,l){if(zc){var h=Jd(l);if(h===null)Pd(e,i,l,Bc,a),pv(e,l);else if(Mb(h,e,i,a,l))l.stopPropagation();else if(pv(e,l),i&4&&-1<Ob.indexOf(e)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-de(_);T.entanglements[1]|=I,_&=~I}bi(d),(Ht&6)===0&&(Sc=tn()+500,_l(0))}}break;case 31:case 13:T=Is(d,2),T!==null&&cn(T,d,2),bc(),Xd(d,2)}if(d=Jd(l),d===null&&Pd(e,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(e,i,l,null,a)}}function Jd(e){return e=Rn(e),Wd(e)}var Bc=null;function Wd(e){if(Bc=null,e=ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bc=e,null}function mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case Co:return 2;case Io:return 8;case cr:case rf:return 32;case _u:return 268435456;default:return 32}default:return 32}}var Zd=!1,kr=null,Ur=null,zr=null,wl=new Map,Rl=new Map,Br=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(e,i){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&fv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Mb(e,i,a,l,h){switch(i){case"focusin":return kr=Cl(kr,e,i,a,l,h),!0;case"dragenter":return Ur=Cl(Ur,e,i,a,l,h),!0;case"mouseover":return zr=Cl(zr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Cl(wl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,e,i,a,l,h)),!0}return!1}function gv(e){var i=ci(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,qn(e.priority,function(){dv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,qn(e.priority,function(){dv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return i=wn(a),i!==null&&fv(i),e.blockedOn=a,!1;i.shift()}return!0}function yv(e,i,a){jc(e)&&a.delete(i)}function Vb(){Zd=!1,kr!==null&&jc(kr)&&(kr=null),Ur!==null&&jc(Ur)&&(Ur=null),zr!==null&&jc(zr)&&(zr=null),wl.forEach(yv),Rl.forEach(yv)}function qc(e,i){e.blockedOn===i&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vb)))}var Hc=null;function _v(e){Hc!==e&&(Hc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===e&&(Hc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=wn(a);d!==null&&(e.splice(i,3),i-=3,Jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(e){function i(I){return qc(I,e)}kr!==null&&qc(kr,e),Ur!==null&&qc(Ur,e),zr!==null&&qc(zr,e),wl.forEach(i),Rl.forEach(i);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||_v(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Wd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),_v(a)}}}function vv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(e){this._internalRoot=e}Fc.prototype.render=tm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();cv(a,l,e,i,null,null)},Fc.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;cv(e.current,2,null,e,null,null),bc(),i[li]=null}};function Fc(e){this._internalRoot=e}Fc.prototype.unstable_scheduleHydration=function(e){if(e){var i=bu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,e),a===0&&gv(e)}};var Ev=t.version;if(Ev!=="19.2.4")throw Error(s(527,Ev,"19.2.4"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Bn=Gc.inject(xb),Be=Gc}catch{}}return Dl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Cy,d=Iy,_=Dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=lv(e,1,!1,null,null,a,l,null,h,d,_,vv),e[li]=i.current,Ld(e),new tm(i)},Dl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Cy,_=Iy,T=Dy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=lv(e,1,!0,i,a??null,l,h,I,d,_,T,vv),i.context=uv(null),a=i.current,l=Tn(),l=gs(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,i.current.lanes=a,ms(i,a),bi(i),e[li]=i.current,Ld(e),new Fc(i)},Dl.version="19.2.4",Dl}var Nv;function Fb(){if(Nv)return im.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=Hb(),im.exports}var Gb=Fb();var Ov="popstate";function Mv(r){return typeof r=="object"&&r!=null&&"pathname"in r&&"search"in r&&"hash"in r&&"state"in r&&"key"in r}function Kb(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ws(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Rm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Fl(u))}function s(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Qb(t,n,s,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yb(){return Math.random().toString(36).substring(2,10)}function Vv(r,t){return{usr:r.state,key:r.key,idx:t,masked:r.unstable_mask?{pathname:r.pathname,search:r.search,hash:r.hash}:void 0}}function Rm(r,t,n=null,s,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ws(t):t,state:n,key:t&&t.key||s||Yb(),unstable_mask:o}}function Fl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ws(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Qb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let j=E(),et=j==null?null:j-y;y=j,p&&p({action:m,location:Q.location,delta:et})}function b(j,et){m="PUSH";let it=Mv(j)?j:Rm(Q.location,j,et);n&&n(it,j),y=E()+1;let at=Vv(it,y),Et=Q.createHref(it.unstable_mask||it);try{f.pushState(at,"",Et)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(Et)}u&&p&&p({action:m,location:Q.location,delta:1})}function B(j,et){m="REPLACE";let it=Mv(j)?j:Rm(Q.location,j,et);n&&n(it,j),y=E();let at=Vv(it,y),Et=Q.createHref(it.unstable_mask||it);f.replaceState(at,"",Et),u&&p&&p({action:m,location:Q.location,delta:0})}function Y(j){return Xb(j)}let Q={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ov,S),p=j,()=>{o.removeEventListener(Ov,S),p=null}},createHref(j){return t(o,j)},createURL:Y,encodeLocation(j){let et=Y(j);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:b,replace:B,go(j){return f.go(j)}};return Q}function Xb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Fl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pT(r,t,n="/"){return $b(r,t,n,!1)}function $b(r,t,n,s){let o=typeof t=="string"?Ws(t):t,u=nr(o.pathname||"/",n);if(u==null)return null;let f=gT(r);Jb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=l1(u);m=a1(f[p],y,s)}return m}function gT(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ue(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ri([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),gT(f.children,t,b,S,p)),!(f.path==null&&!f.index)&&t.push({path:S,score:r1(S,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of yT(f.path))u(f,m,!0,p)}),t}function yT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=yT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Jb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:s1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Wb=/^:[\w-]+$/,Zb=3,t1=2,e1=1,n1=10,i1=-2,xv=r=>r==="*";function r1(r,t){let n=r.split("/"),s=n.length;return n.some(xv)&&(s+=i1),t&&(s+=t1),n.filter(o=>!xv(o)).reduce((o,u)=>o+(Wb.test(u)?Zb:u===""?e1:n1),s)}function s1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function a1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Ri([u,S.pathname]),pathnameBase:f1(Ri([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Ri([u,S.pathnameBase]))}return f}function hh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=o1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let Y=m[b]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const B=m[b];return S&&!B?y[E]=void 0:y[E]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function o1(r,t=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p,y,E)=>{if(s.push({paramName:m,isOptional:p!=null}),p){let S=E.charAt(y+f.length);return S&&S!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function l1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function nr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function c1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ws(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Lv(n.substring(1),"/"):u=Lv(n,t)):u=t,{pathname:u,search:d1(s),hash:m1(o)}}function Lv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ep(r){let t=h1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Mh(r,t,n,s=!1){let o;typeof r=="string"?o=Ws(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?t[S]:"/"}let p=c1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Ri=r=>r.join("/").replace(/\/\/+/g,"/"),f1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),d1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,m1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,p1=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function g1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function y1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vT(r,t){let n=r;if(typeof n!="string"||!u1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(_T)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=nr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var _1=["GET",...ET];new Set(_1);var mo=F.createContext(null);mo.displayName="DataRouter";var Vh=F.createContext(null);Vh.displayName="DataRouterState";var v1=F.createContext(!1),TT=F.createContext({isTransitioning:!1});TT.displayName="ViewTransition";var E1=F.createContext(new Map);E1.displayName="Fetchers";var T1=F.createContext(null);T1.displayName="Await";var An=F.createContext(null);An.displayName="Navigation";var nu=F.createContext(null);nu.displayName="Location";var Vi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var np=F.createContext(null);np.displayName="RouteError";var ST="REACT_ROUTER_ERROR",S1="REDIRECT",A1="ROUTE_ERROR_RESPONSE";function b1(r){if(r.startsWith(`${ST}:${S1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function w1(r){if(r.startsWith(`${ST}:${A1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new p1(t.status,t.statusText,t.data)}catch{}}function R1(r,{relative:t}={}){ue(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(An),{hash:o,pathname:u,search:f}=ru(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ri([n,u])),s.createHref({pathname:m,search:f,hash:o})}function po(){return F.useContext(nu)!=null}function or(){return ue(po(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(nu).location}var AT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(r){F.useContext(An).static||F.useLayoutEffect(r)}function iu(){let{isDataRoute:r}=F.useContext(Vi);return r?z1():C1()}function C1(){ue(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(mo),{basename:t,navigator:n}=F.useContext(An),{matches:s}=F.useContext(Vi),{pathname:o}=or(),u=JSON.stringify(ep(s)),f=F.useRef(!1);return bT(()=>{f.current=!0}),F.useCallback((p,y={})=>{if(zn(f.current,AT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Mh(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ri([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}F.createContext(null);function ru(r,{relative:t}={}){let{matches:n}=F.useContext(Vi),{pathname:s}=or(),o=JSON.stringify(ep(n));return F.useMemo(()=>Mh(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function I1(r,t){return wT(r,t)}function wT(r,t,n){ue(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(An),{matches:o}=F.useContext(Vi),u=o[o.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";CT(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=or(),S;if(t){let j=typeof t=="string"?Ws(t):t;ue(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=E;let b=S.pathname||"/",B=b;if(p!=="/"){let j=p.replace(/^\//,"").split("/");B="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let Y=pT(r,{pathname:B});zn(y||Y!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zn(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=V1(Y&&Y.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Ri([p,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Ri([p,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n);return t&&Q?F.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...S},navigationType:"POP"}},Q):Q}function D1(){let r=U1(),t=g1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var N1=F.createElement(D1,null),RT=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=w1(r.digest);n&&(r=n)}let t=r!==void 0?F.createElement(Vi.Provider,{value:this.props.routeContext},F.createElement(np.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(O1,{error:r},t):t}};RT.contextType=v1;var lm=new WeakMap;function O1({children:r,error:t}){let{basename:n}=F.useContext(An);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=b1(t.digest);if(s){let o=lm.get(t);if(o)throw o;let u=vT(s.location,n);if(_T&&!lm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw lm.set(t,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function M1({routeContext:r,match:t,children:n}){let s=F.useContext(mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Vi.Provider,{value:r},n)}function V1(r,t=[],n){let s=n?.state;if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let o=r,u=s?.errors;if(u!=null){let E=o.findIndex(S=>S.route.id&&u?.[S.route.id]!==void 0);ue(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,E+1))}let f=!1,m=-1;if(n&&s){f=s.renderFallback;for(let E=0;E<o.length;E++){let S=o[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=E),S.route.id){let{loaderData:b,errors:B}=s,Y=S.route.loader&&!b.hasOwnProperty(S.route.id)&&(!B||B[S.route.id]===void 0);if(S.route.lazy||Y){n.isStatic&&(f=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let p=n?.onError,y=s&&p?(E,S)=>{p(E,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:y1(s.matches),errorInfo:S})}:void 0;return o.reduceRight((E,S,b)=>{let B,Y=!1,Q=null,j=null;s&&(B=u&&S.route.id?u[S.route.id]:void 0,Q=S.route.errorElement||N1,f&&(m<0&&b===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,j=null):m===b&&(Y=!0,j=S.route.hydrateFallbackElement||null)));let et=t.concat(o.slice(0,b+1)),it=()=>{let at;return B?at=Q:Y?at=j:S.route.Component?at=F.createElement(S.route.Component,null):S.route.element?at=S.route.element:at=E,F.createElement(M1,{match:S,routeContext:{outlet:E,matches:et,isDataRoute:s!=null},children:at})};return s&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?F.createElement(RT,{location:s.location,revalidation:s.revalidation,component:Q,error:B,children:it(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:y}):it()},null)}function ip(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(r){let t=F.useContext(mo);return ue(t,ip(r)),t}function L1(r){let t=F.useContext(Vh);return ue(t,ip(r)),t}function P1(r){let t=F.useContext(Vi);return ue(t,ip(r)),t}function rp(r){let t=P1(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function k1(){return rp("useRouteId")}function U1(){let r=F.useContext(np),t=L1("useRouteError"),n=rp("useRouteError");return r!==void 0?r:t.errors?.[n]}function z1(){let{router:r}=x1("useNavigate"),t=rp("useNavigate"),n=F.useRef(!1);return bT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{zn(n.current,AT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Pv={};function CT(r,t,n){!t&&!Pv[r]&&(Pv[r]=!0,zn(!1,n))}F.memo(B1);function B1({routes:r,future:t,state:n,isStatic:s,onError:o}){return wT(r,void 0,{state:n,isStatic:s,onError:o})}function j1({to:r,replace:t,state:n,relative:s}){ue(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(An);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Vi),{pathname:f}=or(),m=iu(),p=Mh(r,ep(u),f,s==="path"),y=JSON.stringify(p);return F.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Ya(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ue(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ws(n));let{pathname:y="/",search:E="",hash:S="",state:b=null,key:B="default",unstable_mask:Y}=n,Q=F.useMemo(()=>{let j=nr(y,m);return j==null?null:{location:{pathname:j,search:E,hash:S,state:b,key:B,unstable_mask:Y},navigationType:s}},[m,y,E,S,b,B,s,Y]);return zn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:F.createElement(An.Provider,{value:p},F.createElement(nu.Provider,{children:t,value:Q}))}function H1({children:r,location:t}){return I1(Cm(r),t)}function Cm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,Cm(s.props.children,u));return}ue(s.type===Ya,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Zc="get",th="application/x-www-form-urlencoded";function xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function F1(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function G1(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function K1(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function Y1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Q1(r,t){return r.button===0&&(!t||t==="_self")&&!Y1(r)}var Kc=null;function X1(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var $1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!$1.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function J1(r,t){let n,s,o,u,f;if(G1(r)){let m=r.getAttribute("action");s=m?nr(m,t):null,n=r.getAttribute("method")||Zc,o=um(r.getAttribute("enctype"))||th,u=new FormData(r)}else if(F1(r)||K1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=um(r.getAttribute("formenctype"))||um(m.getAttribute("enctype"))||th,u=new FormData(m,r),!X1()){let{name:y,type:E,value:S}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,S)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=th,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function W1(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&nr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Z1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ew(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Z1(u,n);return f.links?f.links():[]}return[]}));return sw(s.flat(1).filter(tw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function nw(r,t,{includeHydrateFallback:n}={}){return iw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iw(r){return[...new Set(r)]}function rw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function sw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(rw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function IT(){let r=F.useContext(mo);return sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function aw(){let r=F.useContext(Vh);return sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ap=F.createContext(void 0);ap.displayName="FrameworkContext";function DT(){let r=F.useContext(ap);return sp(r,"You must render this element inside a <HydratedRouter> element"),r}function ow(r,t){let n=F.useContext(ap),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,b=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=et=>{et.forEach(it=>{f(it.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let B=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Nl(m,B),onBlur:Nl(p,Y),onMouseEnter:Nl(y,B),onMouseLeave:Nl(E,Y),onTouchStart:Nl(S,B)}]:[!1,b,{}]}function Nl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function lw({page:r,...t}){let{router:n}=IT(),s=F.useMemo(()=>pT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(cw,{page:r,matches:s,...t}):null}function uw(r){let{manifest:t,routeModules:n}=DT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return ew(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function cw({page:r,matches:t,...n}){let s=or(),{future:o,manifest:u,routeModules:f}=DT(),{basename:m}=IT(),{loaderData:p,matches:y}=aw(),E=F.useMemo(()=>kv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=F.useMemo(()=>kv(r,t,y,u,s,"assets"),[r,t,y,u,s]),b=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,j=!1;if(t.forEach(it=>{let at=u.routes[it.route.id];!at||!at.hasLoader||(!E.some(Et=>Et.route.id===it.route.id)&&it.route.id in p&&f[it.route.id]?.shouldRevalidate||at.hasClientLoader?j=!0:Q.add(it.route.id))}),Q.size===0)return[];let et=W1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return j&&Q.size>0&&et.searchParams.set("_routes",t.filter(it=>Q.has(it.route.id)).map(it=>it.route.id).join(",")),[et.pathname+et.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),B=F.useMemo(()=>nw(S,u),[S,u]),Y=uw(S);return F.createElement(F.Fragment,null,b.map(Q=>F.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),B.map(Q=>F.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),Y.map(({key:Q,link:j})=>F.createElement("link",{key:Q,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function hw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fw&&(window.__reactRouterVersion="7.13.1")}catch{}function dw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=Kb({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),p=F.useCallback(y=>{n===!1?m(y):F.startTransition(()=>m(y))},[n]);return F.useLayoutEffect(()=>u.listen(p),[u,p]),F.createElement(q1,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lh=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,unstable_mask:m,state:p,target:y,to:E,preventScrollReset:S,viewTransition:b,unstable_defaultShouldRevalidate:B,...Y},Q){let{basename:j,navigator:et,unstable_useTransitions:it}=F.useContext(An),at=typeof E=="string"&&NT.test(E),Et=vT(E,j);E=Et.to;let It=R1(E,{relative:o}),wt=or(),C=null;if(m){let Xt=Mh(m,[],wt.unstable_mask?wt.unstable_mask.pathname:"/",!0);j!=="/"&&(Xt.pathname=Xt.pathname==="/"?j:Ri([j,Xt.pathname])),C=et.createHref(Xt)}let[w,D,V]=ow(s,Y),O=yw(E,{replace:f,unstable_mask:m,state:p,target:y,preventScrollReset:S,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:B,unstable_useTransitions:it});function L(Xt){t&&t(Xt),Xt.defaultPrevented||O(Xt)}let R=!(Et.isExternal||u),te=F.createElement("a",{...Y,...V,href:(R?C:void 0)||Et.absoluteURL||It,onClick:R?L:t,ref:hw(Q,D),target:y,"data-discover":!at&&n==="render"?"true":void 0});return w&&!at?F.createElement(F.Fragment,null,te,F.createElement(lw,{page:It})):te});Lh.displayName="Link";var mw=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let S=ru(f,{relative:y.relative}),b=or(),B=F.useContext(Vh),{navigator:Y,basename:Q}=F.useContext(An),j=B!=null&&Sw(S)&&m===!0,et=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,it=b.pathname,at=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(it=it.toLowerCase(),at=at?at.toLowerCase():null,et=et.toLowerCase()),at&&Q&&(at=nr(at,Q)||at);const Et=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let It=it===et||!o&&it.startsWith(et)&&it.charAt(Et)==="/",wt=at!=null&&(at===et||!o&&at.startsWith(et)&&at.charAt(et.length)==="/"),C={isActive:It,isPending:wt,isTransitioning:j},w=It?t:void 0,D;typeof s=="function"?D=s(C):D=[s,It?"active":null,wt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return F.createElement(Lh,{...y,"aria-current":w,className:D,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(C):p)});mw.displayName="NavLink";var pw=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b,...B},Y)=>{let{unstable_useTransitions:Q}=F.useContext(An),j=Ew(),et=Tw(m,{relative:y}),it=f.toLowerCase()==="get"?"get":"post",at=typeof m=="string"&&NT.test(m),Et=It=>{if(p&&p(It),It.defaultPrevented)return;It.preventDefault();let wt=It.nativeEvent.submitter,C=wt?.getAttribute("formmethod")||f,w=()=>j(wt||It.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b});Q&&n!==!1?F.startTransition(()=>w()):w()};return F.createElement("form",{ref:Y,method:it,action:et,onSubmit:s?p:Et,...B,"data-discover":!at&&r==="render"?"true":void 0})});pw.displayName="Form";function gw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(r){let t=F.useContext(mo);return ue(t,gw(r)),t}function yw(r,{target:t,replace:n,unstable_mask:s,state:o,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y}={}){let E=iu(),S=or(),b=ru(r,{relative:f});return F.useCallback(B=>{if(Q1(B,t)){B.preventDefault();let Y=n!==void 0?n:Fl(S)===Fl(b),Q=()=>E(r,{replace:Y,unstable_mask:s,state:o,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p});y?F.startTransition(()=>Q()):Q()}},[S,E,b,n,s,o,t,r,u,f,m,p,y])}var _w=0,vw=()=>`__${String(++_w)}__`;function Ew(){let{router:r}=OT("useSubmit"),{basename:t}=F.useContext(An),n=k1(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:S}=J1(u,t);if(f.navigate===!1){let b=f.fetcherKey||vw();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Tw(r,{relative:t}={}){let{basename:n}=F.useContext(An),s=F.useContext(Vi);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:t})},f=or();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ri([n,u.pathname])),Fl(u)}function Sw(r,{relative:t}={}){let n=F.useContext(TT);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OT("useViewTransitionState"),o=ru(r,{relative:t});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}const Aw=()=>{};var Uv={};const MT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},bw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,B=y&63;p||(B=64,f||(b=64)),s.push(n[E],n[S],n[b],n[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(MT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):bw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new ww;const b=u<<2|m>>4;if(s.push(b),y!==64){const B=m<<4&240|y>>2;if(s.push(B),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ww extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rw=function(r){const t=MT(r);return VT.encodeByteArray(t,!0)},fh=function(r){return Rw(r).replace(/\./g,"")},xT=function(r){try{return VT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Iw=()=>Cw().__FIREBASE_DEFAULTS__,Dw=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&xT(r[1]);return t&&JSON.parse(t)},Ph=()=>{try{return Aw()||Iw()||Dw()||Nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LT=r=>Ph()?.emulatorHosts?.[r],Ow=r=>{const t=LT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},PT=()=>Ph()?.config,kT=r=>Ph()?.[`_${r}`];class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UT(r){return(await fetch(r,{credentials:"include"})).ok}function Vw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const Ul={};function xw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?r.emulator.push(t):r.prod.push(t);return r}function Lw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let zv=!1;function zT(r,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Ul[r]===t||Ul[r]||zv)return;Ul[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=xw().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,B){b.setAttribute("width","24"),b.setAttribute("id",B),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{zv=!0,f()},b}function E(b,B){b.setAttribute("id",B),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=Lw(s),B=n("text"),Y=document.getElementById(B)||document.createElement("span"),Q=n("learnmore"),j=document.getElementById(Q)||document.createElement("a"),et=n("preprendIcon"),it=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const at=b.element;m(at),E(j,Q);const Et=y();p(it,et),at.append(it,Y,j,Et),document.body.appendChild(at)}u?(Y.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function kw(){const r=Ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jw(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qw(){return!kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hw(){try{return typeof indexedDB=="object"}catch{return!1}}function Fw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const Gw="FirebaseError";class lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Gw,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Kw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function Kw(r,t){return r.replace(Yw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Yw=/\{\$([^}]+)}/g;function Qw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Bv(u)&&Bv(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Bv(r){return r!==null&&typeof r=="object"}function au(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Vl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Xw(r,t){const n=new $w(r,t);return n.subscribe.bind(n)}class $w{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Jw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function cm(){}function ze(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class Ww{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Mw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tR(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(r){return r===js?void 0:r}function tR(r){return r.instantiationMode==="EAGER"}class eR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ww(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const nR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},iR=Vt.INFO,rR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},sR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=rR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class op{constructor(t){this.name=t,this._logLevel=iR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const aR=(r,t)=>t.some(n=>r instanceof n);let jv,qv;function oR(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BT=new WeakMap,Im=new WeakMap,jT=new WeakMap,hm=new WeakMap,lp=new WeakMap;function uR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&BT.set(n,r)}).catch(()=>{}),lp.set(t,r),t}function cR(r){if(Im.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Im.set(r,t)}let Dm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Im.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hR(r){Dm=r(Dm)}function fR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(fm(this),t,...n);return jT.set(s,t.sort?t.sort():[t]),Qr(s)}:lR().includes(r)?function(...t){return r.apply(fm(this),t),Qr(BT.get(this))}:function(...t){return Qr(r.apply(fm(this),t))}}function dR(r){return typeof r=="function"?fR(r):(r instanceof IDBTransaction&&cR(r),aR(r,oR())?new Proxy(r,Dm):r)}function Qr(r){if(r instanceof IDBRequest)return uR(r);if(hm.has(r))return hm.get(r);const t=dR(r);return t!==r&&(hm.set(r,t),lp.set(t,r)),t}const fm=r=>lp.get(r);function mR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qr(f.result),p.oldVersion,p.newVersion,Qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const pR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],dm=new Map;function Hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(dm.get(t))return dm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=gR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return dm.set(t,u),u}hR(r=>({...r,get:(t,n,s)=>Hv(t,n)||r.get(t,n,s),has:(t,n)=>!!Hv(t,n)||r.has(t,n)}));class yR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _R(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",Fv="0.14.9";const ir=new op("@firebase/app"),vR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",SR="@firebase/app-check-compat",AR="@firebase/app-check",bR="@firebase/auth",wR="@firebase/auth-compat",RR="@firebase/database",CR="@firebase/data-connect",IR="@firebase/database-compat",DR="@firebase/functions",NR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",VR="@firebase/messaging",xR="@firebase/messaging-compat",LR="@firebase/performance",PR="@firebase/performance-compat",kR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",jR="@firebase/firestore",qR="@firebase/ai",HR="@firebase/firestore-compat",FR="firebase",GR="12.10.0";const Om="[DEFAULT]",KR={[Nm]:"fire-core",[vR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[AR]:"fire-app-check",[SR]:"fire-app-check-compat",[bR]:"fire-auth",[wR]:"fire-auth-compat",[RR]:"fire-rtdb",[CR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[DR]:"fire-fn",[NR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[VR]:"fire-fcm",[xR]:"fire-fcm-compat",[LR]:"fire-perf",[PR]:"fire-perf-compat",[kR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[jR]:"fire-fst",[HR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};const dh=new Map,YR=new Map,Mm=new Map;function Gv(r,t){try{r.container.addComponent(t)}catch(n){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const t=r.name;if(Mm.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;Mm.set(t,r);for(const n of dh.values())Gv(n,r);for(const n of YR.values())Gv(n,r);return!0}function up(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}const QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new su("app","Firebase",QR);class XR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const yo=GR;function qT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Om,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(n||(n=PT()),!n)throw Xr.create("no-options");const u=dh.get(o);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const f=new eR(o);for(const p of Mm.values())f.addComponent(p);const m=new XR(n,s,f);return dh.set(o,m),m}function HT(r=Om){const t=dh.get(r);if(!t&&r===Om&&PT())return qT();if(!t)throw Xr.create("no-app",{appName:r});return t}function $r(r,t,n){let s=KR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(f.join(" "));return}so(new Ks(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const $R="firebase-heartbeat-database",JR=1,Gl="firebase-heartbeat-store";let mm=null;function FT(){return mm||(mm=mR($R,JR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),mm}async function WR(r){try{const n=(await FT()).transaction(Gl),s=await n.objectStore(Gl).get(GT(r));return await n.done,s}catch(t){if(t instanceof lr)ir.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t?.message});ir.warn(n.message)}}}async function Kv(r,t){try{const s=(await FT()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(t,GT(r)),await s.done}catch(n){if(n instanceof lr)ir.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function GT(r){return`${r.name}!${r.options.appId}`}const ZR=1024,tC=30;class eC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tC){const o=rC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yv(),{heartbeatsToSend:n,unsentEntries:s}=nC(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function nC(r,t=ZR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hw()?Fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Qv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function rC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function sC(r){so(new Ks("platform-logger",t=>new yR(t),"PRIVATE")),so(new Ks("heartbeat",t=>new eC(t),"PRIVATE")),$r(Nm,Fv,r),$r(Nm,Fv,"esm2020"),$r("fire-js","")}sC("");function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=KT,YT=new su("auth","Firebase",KT());const mh=new op("@firebase/auth");function oC(r,...t){mh.logLevel<=Vt.WARN&&mh.warn(`Auth (${yo}): ${r}`,...t)}function eh(r,...t){mh.logLevel<=Vt.ERROR&&mh.error(`Auth (${yo}): ${r}`,...t)}function ei(r,...t){throw cp(r,...t)}function Ci(r,...t){return cp(r,...t)}function QT(r,t,n){const s={...aC(),[t]:n};return new su("auth","Firebase",s).create(t,{appName:r.name})}function er(r){return QT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return YT.create(r,...t)}function gt(r,t,...n){if(!r)throw cp(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw eh(t),new Error(t)}function rr(r,t){r||Zi(t)}function Vm(){return typeof self<"u"&&self.location?.href||""}function lC(){return Xv()==="http:"||Xv()==="https:"}function Xv(){return typeof self<"u"&&self.location?.protocol||null}function uC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||zw()||"connection"in navigator)?navigator.onLine:!0}function cC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ou{constructor(t,n){this.shortDelay=t,this.longDelay=n,rr(n>t,"Short delay should be less than long delay!"),this.isMobile=Pw()||Bw()}get(){return uC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hp(r,t){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class XT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dC=new ou(3e4,6e4);function as(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function os(r,t,n,s,o={}){return $T(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return Uw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),XT.fetch()(await JT(r,r.config.apiHost,n,m),y)})}async function $T(r,t,n){r._canInitEmulator=!1;const s={...hC,...t};try{const o=new pC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Yc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QT(r,E,y);ei(r,E)}}catch(o){if(o instanceof lr)throw o;ei(r,"network-request-failed",{message:String(o)})}}async function lu(r,t,n,s,o={}){const u=await os(r,t,n,s,o);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function JT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?hp(r.config,o):`${r.config.apiScheme}://${o}`;return fC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function mC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),dC.get())})}}function Yc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,t,s);return o.customData._tokenResponse=n,o}function $v(r){return r!==void 0&&r.enterprise!==void 0}class gC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return mC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yC(r,t){return os(r,"GET","/v2/recaptchaConfig",as(r,t))}async function _C(r,t){return os(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return os(r,"POST","/v1/accounts:lookup",t)}function zl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vC(r,t=!1){const n=ze(r),s=await n.getIdToken(t),o=fp(s);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:zl(pm(o.auth_time)),issuedAtTime:zl(pm(o.iat)),expirationTime:zl(pm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pm(r){return Number(r)*1e3}function fp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=xT(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(r){const t=fp(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Kl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof lr&&EC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function EC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class TC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const t=r.auth,n=await r.getIdToken(),s=await Kl(r,ph(t,{idToken:n}));gt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?WT(o.providerUserInfo):[],f=AC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function SC(r){const t=ze(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function WT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bC(r,t){const n=await $T(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await JT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(p.credentials="include"),XT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wC(r,t){return os(r,"POST","/v2/accounts:revokeToken",as(r,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Jv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function qr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vC(this,t)}reload(){return SC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Kl(this,_C(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:B,providerData:Y,stsTokenManager:Q}=n;gt(S&&Q,t,"internal-error");const j=Za.fromJSON(this.name,Q);gt(typeof S=="string",t,"internal-error"),qr(s,t.name),qr(o,t.name),gt(typeof b=="boolean",t,"internal-error"),gt(typeof B=="boolean",t,"internal-error"),qr(u,t.name),qr(f,t.name),qr(m,t.name),qr(p,t.name),qr(y,t.name),qr(E,t.name);const et=new Wn({uid:S,auth:t,email:o,emailVerified:b,displayName:s,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(et.providerData=Y.map(it=>({...it}))),p&&(et._redirectEventId=p),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const Wv=new Map;function tr(r){rr(r instanceof Function,"Expected a class definition");let t=Wv.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Wv.set(r,t),t)}class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZT.type="NONE";const Zv=ZT;function nh(r,t,n){return`firebase:${r}:${t}:${n}`}class to{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ph(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new to(tr(Zv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||tr(Zv);const f=nh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const b=await ph(t,{idToken:E}).catch(()=>{});if(!b)break;S=await Wn._fromGetAccountInfoResponse(t,b,E)}else S=Wn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new to(u,t,s))}}function tE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s0(t))return"Blackberry";if(a0(t))return"Webos";if(e0(t))return"Safari";if((t.includes("chrome/")||n0(t))&&!t.includes("edge/"))return"Chrome";if(r0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function t0(r=Ze()){return/firefox\//i.test(r)}function e0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n0(r=Ze()){return/crios\//i.test(r)}function i0(r=Ze()){return/iemobile/i.test(r)}function r0(r=Ze()){return/android/i.test(r)}function s0(r=Ze()){return/blackberry/i.test(r)}function a0(r=Ze()){return/webos/i.test(r)}function dp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function RC(r=Ze()){return dp(r)&&!!window.navigator?.standalone}function CC(){return jw()&&document.documentMode===10}function o0(r=Ze()){return dp(r)||r0(r)||a0(r)||s0(r)||/windows phone/i.test(r)||i0(r)}function l0(r,t=[]){let n;switch(r){case"Browser":n=tE(Ze());break;case"Worker":n=`${tE(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}class IC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function DC(r,t={}){return os(r,"GET","/v2/passwordPolicy",as(r,t))}const NC=6;class OC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class MC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new IC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ph(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(er(this));const n=t?ze(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DC(this),n=new OC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new su("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&tr(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&oC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zs(r){return ze(r)}class eE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Xw(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VC(r){kh=r}function u0(r){return kh.loadJS(r)}function xC(){return kh.recaptchaEnterpriseScript}function LC(){return kh.gapiScript}function PC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class kC{constructor(){this.enterprise=new UC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class UC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const zC="recaptcha-enterprise",c0="NO_RECAPTCHA";class BC{constructor(t){this.type=zC,this.auth=Zs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{yC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new gC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;$v(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(c0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&$v(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xC();p.length!==0&&(p+=m),u0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function nE(r,t,n,s=!1,o=!1){const u=new BC(r);let f;if(o)f=c0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nE(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nE(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function jC(r,t){const n=up(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gs(u,t??{}))return o;ei(o,"already-initialized")}return n.initialize({options:t})}function qC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function HC(r,t,n){const s=Zs(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=h0(t),{host:f,port:m}=FC(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Gs(y,s.config.emulator)&&Gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,go(f)?(UT(`${u}//${f}${p}`),zT("Auth",!0)):GC()}function h0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function FC(r){const t=h0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:iE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:iE(f)}}}function iE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function GC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class mp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function KC(r,t){return os(r,"POST","/v1/accounts:signUp",t)}async function YC(r,t){return lu(r,"POST","/v1/accounts:signInWithPassword",as(r,t))}async function QC(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}async function XC(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}class Yl extends mp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Yl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Yl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(t,n,"signInWithPassword",YC);case"emailLink":return QC(t,{email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(t,s,"signUpPassword",KC);case"emailLink":return XC(t,{idToken:n,email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function eo(r,t){return lu(r,"POST","/v1/accounts:signInWithIdp",as(r,t))}const $C="http://localhost";class Ys extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return eo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,eo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,eo(t,n)}buildRequest(){const t={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=au(n)}return t}}function JC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(r){const t=Ml(Vl(r)).link,n=t?Ml(Vl(t)).deep_link_id:null,s=Ml(Vl(r)).deep_link_id;return(s?Ml(Vl(s)).link:null)||s||n||t||r}class pp{constructor(t){const n=Ml(Vl(t)),s=n.apiKey??null,o=n.oobCode??null,u=JC(n.mode??null);gt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=WC(t);try{return new pp(n)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Yl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=pp.parseLink(n);return gt(s,"argument-error"),Yl._fromEmailAndCode(t,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class f0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class uu extends f0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends uu{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Fr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";class Gr extends uu{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Kr extends uu{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";async function ZC(r,t){return lu(r,"POST","/v1/accounts:signUp",as(r,t))}class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Wn._fromIdTokenResponse(t,s,o),f=rE(s);return new Qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=rE(s);return new Qs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function rE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class yh extends lr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new yh(t,n,s,o)}}function d0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,t,s):u})}async function tI(r,t,n=!1){const s=await Kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function eI(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await Kl(r,d0(s,o,t,r),n);gt(u.idToken,s,"internal-error");const f=fp(u.idToken);gt(f,s,"internal-error");const{sub:m}=f;return gt(r.uid===m,s,"user-mismatch"),Qs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}async function m0(r,t,n=!1){if(kn(r.app))return Promise.reject(er(r));const s="signIn",o=await d0(r,s,t),u=await Qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function nI(r,t){return m0(Zs(r),t)}async function p0(r){const t=Zs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iI(r,t,n){if(kn(r.app))return Promise.reject(er(r));const s=Zs(r),f=await Lm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&p0(r),p}),m=await Qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function rI(r,t,n){return kn(r.app)?Promise.reject(er(r)):nI(ze(r),_o.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&p0(r),s})}function sI(r,t,n,s){return ze(r).onIdTokenChanged(t,n,s)}function aI(r,t,n){return ze(r).beforeAuthStateChanged(t,n)}function g0(r){return ze(r).signOut()}const _h="__sak";class y0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oI=1e3,lI=10;class _0 extends y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);CC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_0.type="LOCAL";const uI=_0;class v0 extends y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}v0.type="SESSION";const E0=v0;function cI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Uh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await cI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];function gp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class hI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function fI(r){Ii().location.href=r}function T0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function dI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function pI(){return T0()?self:null}const S0="firebaseLocalStorageDb",gI=1,vh="firebaseLocalStorage",A0="fbase_key";class cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,t){return r.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function yI(){const r=indexedDB.deleteDatabase(S0);return new cu(r).toPromise()}function Pm(){const r=indexedDB.open(S0,gI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vh,{keyPath:A0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vh)?t(s):(s.close(),await yI(),t(await Pm()))})})}async function sE(r,t,n){const s=zh(r,!0).put({[A0]:t,value:n});return new cu(s).toPromise()}async function _I(r,t){const n=zh(r,!1).get(t),s=await new cu(n).toPromise();return s===void 0?null:s.value}function aE(r,t){const n=zh(r,!0).delete(t);return new cu(n).toPromise()}const vI=800,EI=3;class b0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>EI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(pI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pm();return await sE(t,_h,"1"),await aE(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>_I(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b0.type="LOCAL";const TI=b0;new ou(3e4,6e4);function SI(r,t){return t?tr(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class yp extends mp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return eo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function AI(r){return m0(r.auth,new yp(r),r.bypassAuthState)}function bI(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),eI(n,new yp(r),r.bypassAuthState)}async function wI(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),tI(n,new yp(r),r.bypassAuthState)}class w0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return bI;default:ei(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RI=new ou(2e3,1e4);class Wa extends w0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RI.get())};t()}}Wa.currentPopupAction=null;const CI="pendingRedirect",ih=new Map;class II extends w0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ih.get(this.auth._key());if(!t){try{const s=await DI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ih.set(this.auth._key(),t)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DI(r,t){const n=MI(t),s=OI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function NI(r,t){ih.set(r._key(),t)}function OI(r){return tr(r._redirectPersistence)}function MI(r){return nh(CI,r.config.apiKey,r.name)}async function VI(r,t,n=!1){if(kn(r.app))return Promise.reject(er(r));const s=Zs(r),o=SI(s,t),f=await new II(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const xI=600*1e3;class LI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!R0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(t))}saveEventToCache(t){this.cachedEventUids.add(oE(t)),this.lastProcessedEventTime=Date.now()}}function oE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function R0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function PI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R0(r);default:return!1}}async function kI(r,t={}){return os(r,"GET","/v1/projects",t)}const UI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zI=/^https?/;async function BI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kI(r);for(const n of t)try{if(jI(n))return}catch{}ei(r,"unauthorized-domain")}function jI(r){const t=Vm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!zI.test(n))return!1;if(UI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const qI=new ou(3e4,6e4);function lE(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function HI(r){return new Promise((t,n)=>{function s(){lE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(Ci(r,"network-request-failed"))},timeout:qI.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=PC("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},u0(`${LC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw rh=null,t})}let rh=null;function FI(r){return rh=rh||HI(r),rh}const GI=new ou(5e3,15e3),KI="__/auth/iframe",YI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $I(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?hp(t,YI):`https://${r.config.authDomain}/${KI}`,s={apiKey:t.apiKey,appName:r.name,v:yo},o=XI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function JI(r){const t=await FI(r),n=Ii().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:$I(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},GI.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const WI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,t2=600,e2="_blank",n2="http://localhost";class uE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(r,t,n,s=ZI,o=t2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...WI,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=n0(y)?e2:n),t0(y)&&(t=t||n2,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[B,Y])=>`${b}${B}=${Y},`,"");if(RC(y)&&m!=="_self")return r2(t||"",m),new uE(null);const S=window.open(t||"",m,E);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new uE(S)}function r2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const s2="__/auth/handler",a2="emulator/auth/handler",o2=encodeURIComponent("fac");async function cE(r,t,n,s,o,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(t instanceof f0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Qw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof uu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${o2}=${encodeURIComponent(p)}`:"";return`${l2(r)}?${au(m).slice(1)}${y}`}function l2({config:r}){return r.emulator?hp(r,a2):`https://${r.authDomain}/${s2}`}const gm="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=VI,this._overrideRedirectResult=NI}async _openPopup(t,n,s,o){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cE(t,n,s,Vm(),o);return i2(t,u,gp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await cE(t,n,s,Vm(),o);return fI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await JI(t),s=new LI(t);return n.register("authEvent",o=>(gt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&n(!!u),ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return o0()||e0()||dp()}}const c2=u2;var hE="@firebase/auth",fE="1.12.1";class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(r){so(new Ks("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(r)},y=new MC(s,o,u,p);return qC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),so(new Ks("auth-internal",t=>{const n=Zs(t.getProvider("auth").getImmediate());return(s=>new h2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(hE,fE,f2(r)),$r(hE,fE,"esm2020")}const m2=300,p2=kT("authIdTokenMaxAge")||m2;let dE=null;const g2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>p2)return;const o=n?.token;dE!==o&&(dE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y2(r=HT()){const t=up(r,"auth");if(t.isInitialized())return t.getImmediate();const n=jC(r,{popupRedirectResolver:c2,persistence:[TI,uI,E0]}),s=kT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=g2(u.toString());aI(n,f,()=>f(n.currentUser)),sI(n,m=>f(m))}}const o=LT("auth");return o&&HC(n,`http://${o}`),n}function _2(){return document.getElementsByTagName("head")?.[0]??document}VC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");var v2="firebase",E2="12.10.0";$r(v2,E2,"app");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,C0;(function(){var r;function t(C,w){function D(){}D.prototype=w.prototype,C.F=w.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(V,O,L){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return w.prototype[O].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,D){D||(D=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(O=0;O<16;++O)V[O]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=C.g[0],D=C.g[1],O=C.g[2];let L=C.g[3],R;R=w+(L^D&(O^L))+V[0]+3614090360&4294967295,w=D+(R<<7&4294967295|R>>>25),R=L+(O^w&(D^O))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(D^L&(w^D))+V[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(w^O&(L^w))+V[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(L^D&(O^L))+V[4]+4118548399&4294967295,w=D+(R<<7&4294967295|R>>>25),R=L+(O^w&(D^O))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(D^L&(w^D))+V[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(w^O&(L^w))+V[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(L^D&(O^L))+V[8]+1770035416&4294967295,w=D+(R<<7&4294967295|R>>>25),R=L+(O^w&(D^O))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(D^L&(w^D))+V[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(w^O&(L^w))+V[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(L^D&(O^L))+V[12]+1804603682&4294967295,w=D+(R<<7&4294967295|R>>>25),R=L+(O^w&(D^O))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(D^L&(w^D))+V[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(w^O&(L^w))+V[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(O^L&(D^O))+V[1]+4129170786&4294967295,w=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(w^D))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(L^w))+V[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^w&(O^L))+V[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(D^O))+V[5]+3593408605&4294967295,w=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(w^D))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(L^w))+V[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^w&(O^L))+V[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(D^O))+V[9]+568446438&4294967295,w=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(w^D))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(L^w))+V[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^w&(O^L))+V[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(D^O))+V[13]+2850285829&4294967295,w=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(w^D))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(L^w))+V[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^w&(O^L))+V[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(D^O^L)+V[5]+4294588738&4294967295,w=D+(R<<4&4294967295|R>>>28),R=L+(w^D^O)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^D)+V[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^w)+V[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^L)+V[1]+2763975236&4294967295,w=D+(R<<4&4294967295|R>>>28),R=L+(w^D^O)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^D)+V[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^w)+V[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^L)+V[13]+681279174&4294967295,w=D+(R<<4&4294967295|R>>>28),R=L+(w^D^O)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^D)+V[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^w)+V[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^L)+V[9]+3654602809&4294967295,w=D+(R<<4&4294967295|R>>>28),R=L+(w^D^O)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^D)+V[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^w)+V[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(O^(D|~L))+V[0]+4096336452&4294967295,w=D+(R<<6&4294967295|R>>>26),R=L+(D^(w|~O))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~D))+V[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~w))+V[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~L))+V[12]+1700485571&4294967295,w=D+(R<<6&4294967295|R>>>26),R=L+(D^(w|~O))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~D))+V[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~w))+V[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~L))+V[8]+1873313359&4294967295,w=D+(R<<6&4294967295|R>>>26),R=L+(D^(w|~O))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~D))+V[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~w))+V[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~L))+V[4]+4149444226&4294967295,w=D+(R<<6&4294967295|R>>>26),R=L+(D^(w|~O))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~D))+V[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const D=w-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=D;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[O++]=C.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<w;)if(V[O++]=C[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)C[w++]=this.g[D]>>>V&255;return C};function u(C,w){var D=m;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=w(C)}function f(C,w){this.h=w;const D=[];let V=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;V&&L==w||(D[O]=L,V=!1)}this.g=D}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return j(y(-C));const w=[];let D=1;for(let V=0;C>=D;V++)w[V]=C/D|0,D*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return j(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(w,8));let V=S;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(R))):(V=V.j(D),V=V.add(y(R)))}return V}var S=p(0),b=p(1),B=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-j(this).m();let C=0,w=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Y(this))return"0";if(Q(this))return"-"+j(this).toString(C);const w=y(Math.pow(C,6));var D=this;let V="";for(;;){const O=Et(D,w).g;D=et(D,O.j(w));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=O,Y(D))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Y(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=et(this,C),Q(C)?-1:Y(C)?0:1};function j(C){const w=C.g.length,D=[];for(let V=0;V<w;V++)D[V]=~C.g[V];return new f(D,~C.h).add(b)}r.abs=function(){return Q(this)?j(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),D=[];let V=0;for(let O=0;O<=w;O++){let L=V+(this.i(O)&65535)+(C.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=R>>>16,L&=65535,R&=65535,D[O]=R<<16|L}return new f(D,D[D.length-1]&-2147483648?-1:0)};function et(C,w){return C.add(j(w))}r.j=function(C){if(Y(this)||Y(C))return S;if(Q(this))return Q(C)?j(this).j(j(C)):j(j(this).j(C));if(Q(C))return j(this.j(j(C)));if(this.l(B)<0&&C.l(B)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,D=[];for(var V=0;V<2*w;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const L=this.i(V)>>>16,R=this.i(V)&65535,te=C.i(O)>>>16,Xt=C.i(O)&65535;D[2*V+2*O]+=R*Xt,it(D,2*V+2*O),D[2*V+2*O+1]+=L*Xt,it(D,2*V+2*O+1),D[2*V+2*O+1]+=R*te,it(D,2*V+2*O+1),D[2*V+2*O+2]+=L*te,it(D,2*V+2*O+2)}for(C=0;C<w;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=w;C<2*w;C++)D[C]=0;return new f(D,0)};function it(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function at(C,w){this.g=C,this.h=w}function Et(C,w){if(Y(w))throw Error("division by zero");if(Y(C))return new at(S,S);if(Q(C))return w=Et(j(C),w),new at(j(w.g),j(w.h));if(Q(w))return w=Et(C,j(w)),new at(j(w.g),w.h);if(C.g.length>30){if(Q(C)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var D=b,V=w;V.l(C)<=0;)D=It(D),V=It(V);var O=wt(D,1),L=wt(V,1);for(V=wt(V,2),D=wt(D,2);!Y(V);){var R=L.add(V);R.l(C)<=0&&(O=O.add(D),L=R),V=wt(V,1),D=wt(D,1)}return w=et(C,O.j(w)),new at(O,w)}for(O=S;C.l(w)>=0;){for(D=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(D),R=L.j(w);Q(R)||R.l(C)>0;)D-=V,L=y(D),R=L.j(w);Y(L)&&(L=b),O=O.add(L),C=et(C,R)}return new at(O,C)}r.B=function(C){return Et(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)&C.i(V);return new f(D,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)|C.i(V);return new f(D,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)^C.i(V);return new f(D,this.h^C.h)};function It(C){const w=C.g.length+1,D=[];for(let V=0;V<w;V++)D[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(D,C.h)}function wt(C,w){const D=w>>5;w%=32;const V=C.g.length-D,O=[];for(let L=0;L<V;L++)O[L]=w>0?C.i(L+D)>>>w|C.i(L+D+1)<<32-w:C.i(L+D);return new f(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,C0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Jr=f}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var I0,xl,D0,sh,km,N0,O0,M0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,q){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return g.prototype[P].apply(A,nt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function Y(c,g){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=P[nt]}else c.push(P)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(c){f.setTimeout(()=>{throw c},0)}function et(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class it{constructor(){this.h=this.g=null}add(g,v){const A=at.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new Q(()=>new Et,c=>c.reset());class Et{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,wt=!1,C=new it,w=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(D)}};function D(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){j(v)}var g=at;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function te(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(te,O),te.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),K=0;function rt(c,g,v,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=P,this.key=++K,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Gt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,g){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,g,v,A,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=Rt(c,g,A,P);return nt>-1?(g=c[nt],v||(g.fa=!1)):(g=new rt(g,this.src,q,!!A,P),g.fa=v,c.push(g)),g};function _t(c,g){const v=g.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,g,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(mt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,g,v,A){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==A)return P}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(c,g,v,A,P){if(Array.isArray(g)){for(let q=0;q<g.length;q++)ae(c,g[q],v,A,P);return null}return v=Ro(v),c&&c[Xt]?c.J(g,v,m(A)?!!A.capture:!1,P):cs(c,g,v,!1,A,P)}function cs(c,g,v,A,P,q){if(!g)throw Error("Invalid event type");const nt=m(P)?!!P.capture:!!P;let At=hs(c);if(At||(c[kt]=At=new ut(c)),v=At.add(g,v,A,nt,q),v.proxy)return v;if(A=ia(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(P=nt),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(ii(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return g.call(c.src,c.listener,v)}const g=bo;return c}function ra(c,g,v,A,P){if(Array.isArray(g))for(var q=0;q<g.length;q++)ra(c,g[q],v,A,P);else A=m(A)?!!A.capture:!!A,v=Ro(v),c&&c[Xt]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],v=Rt(g,v,A,P),v>-1&&(mt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=hs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Rt(g,v,A,P)),(v=c>-1?g[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Xt])_t(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ii(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=hs(g))?(_t(v,c),v.h==0&&(v.src=null,g[kt]=null)):mt(c)}}}function ii(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function bo(c,g){if(c.da)c=!0;else{g=new te(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&sa(c),c=v.call(A,g)}return c}function hs(c){return c=c[kt],c instanceof ut?c:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(g){return c.handleEvent(g)}),c[wo])}function _e(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}S(_e,V),_e.prototype[Xt]=!0,_e.prototype.removeEventListener=function(c,g,v,A){ra(this,c,g,v,A)};function Me(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var P=g;g=new O(A,c),st(g,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=g.g=v[nt],P=ur(q,A,!0,g)&&P;if(q=g.g=c,P=ur(q,A,!0,g)&&P,P=ur(q,A,!1,g)&&P,v)for(nt=0;nt<v.length;nt++)q=g.g=v[nt],P=ur(q,A,!1,g)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)mt(v[A]);delete c.g[g],c.h--}}this.G=null},_e.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},_e.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function ur(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let q=0;q<g.length;++q){const nt=g[q];if(nt&&!nt.da&&nt.capture==v){const At=nt.listener,me=nt.ha||nt.src;nt.fa&&_t(c.i,nt),P=At.call(me,A)!==!1&&P}}return P&&!A.defaultPrevented}function nf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function yu(c){c.g=nf(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){V.call(this),this.h=c,this.g={}}S(fs,V);var Co=[];function Io(c){zt(c.g,function(g,v){this.g.hasOwnProperty(v)&&sa(g)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),Io(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,rf=f.JSON.parse,_u=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}S(Be,O);function bn(){O.call(this,"c")}S(bn,O);var de={},Tu=null;function aa(){return Tu=Tu||new _e}de.Ia="serverreachability";function Su(c){O.call(this,de.Ia,c)}S(Su,O);function ri(c){const g=aa();Me(g,new Su(g))}de.STAT_EVENT="statevent";function ds(c,g){O.call(this,de.STAT_EVENT,c),this.stat=g}S(ds,O);function ve(c){const g=aa();Me(g,new ds(g,c))}de.Ja="timingevent";function si(c,g){O.call(this,de.Ja,c),this.size=g}S(si,O);function ai(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function sf(c,g,v,A,P,q){c.info(function(){if(c.g)if(q){var nt="",At=q.split("&");for(let qt=0;qt<At.length;qt++){var me=At[qt].split("=");if(me.length>1){const oe=me[0];me=me[1];const In=oe.split("_");nt=In.length>=2&&In[1]=="type"?nt+(oe+"="+me+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+v+`
`+nt})}function Au(c,g,v,A,P,q,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+v+`
`+q+" "+nt})}function oi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+af(c,v)+(A?" "+A:"")})}function ms(c,g){c.info(function(){return"TIMEOUT: "+g})}jn.prototype.info=function(){};function af(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return cr(q)}catch{return g}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function gs(){}S(gs,vu),gs.prototype.g=function(){return new XMLHttpRequest},No=new gs;function xi(c){return encodeURIComponent(String(c))}function bu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function qn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Le={};function li(c,g,v){c.M=1,c.A=ys(Se(g)),c.u=v,c.R=!0,oa(c,null)}function oa(c,g){c.F=Date.now(),ui(c),c.B=Se(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ha(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=zu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Co[0]=P.toString()),P=Co);for(let q=0;q<P.length;q++){const nt=ae(v,P[q],A||g.handleEvent,!1,g.h||g);if(!nt)break;g.g[nt.key]=nt}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ri(),sf(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Kn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||me==7||(me==8||qt<=0?ri(3):ri(2)),ci(this);var g=this.g.ca();this.X=g;var v=of(this);if(this.o=g==200,Au(this.i,this.v,this.B,this.l,this.S,At,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(c=q)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,ve(12),dn(this),wn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Ru(this,v),oe==Le){At==4&&(this.m=4,ve(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,oe,null),hi(this,oe);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(nt),nt.P=!0,ve(11))}}else oi(this.i,this.l,v,null),hi(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?Lu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),wn(this)}}}catch{}};function of(c){if(!wu(c))return c.g.la();const g=je(c.g);if(g==="")return"";let v="";const A=g.length,P=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(g[q],{stream:!(P&&q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Le:(v=Number(g.substring(v,A)),isNaN(v)?Ee:(A+=1,A+v>g.length?Le:(g=g.slice(A,A+v),c.C=A+v,g)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),g)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(ri(),ve(17)),dn(this),this.m=2,wn(this)):la(this,this.T-c)};function wn(c){c.j.I==0||c.K||Lu(c.j,c)}function dn(c){ci(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Io(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function hi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),_r(v);else break t;bs(v),ve(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&ga(v),!R(g))for(P=v.Ba.g.parse(g),g=0;g<P.length;g++){let qt=P[g];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const In=qt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=qt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Yn=qt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const ws=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var q=A.h;q.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vo(q,q.h),q.h=null))}if(A.G){const ya=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(A.wa=ya,Kt(A.J,A.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Uu(A,A.L?A.ba:null,A.W),nt.L){xo(A.h,nt);var At=nt,me=A.O;me&&(At.H=me),At.D&&(ci(At),ui(At)),A.g=nt}else Vu(A);v.i.length>0&&_i(v)}else qt[0]!="stop"&&qt[0]!="close"||vi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?vi(v,7):Ho(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Te=class{constructor(c,g){this.g=c,this.map=g}};function Oo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Vo(c,g){c.g?c.g.add(g):c.h=g}function xo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return B(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,q=null;A>=0?(P=c[v].substring(0,A),q=c[v].substring(A+1)):P=c[v],g(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof mn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,Po(this,Ou(c.i)),this.m=c.m):c&&(g=String(c).match(Cu))?(this.l=!1,Pe(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),hr(this,g[4]),this.h=mi(g[5]||"",!0),Po(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(_s(g,ca,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_s(g,ca,!0),"@"),c.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?ko:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,Du)),c.join("")},mn.prototype.resolve=function(c){const g=Se(this);let v=!!c.j;v?Pe(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)hr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=g.h.lastIndexOf("/");P!=-1&&(A=g.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const At=P[nt++];At=="."?A&&nt==P.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==P.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=P}return v?g.h=A:v=c.i.toString()!=="",v?Po(g,Ou(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Se(c){return new mn(c)}function Pe(c,g,v){c.j=v?mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Po(c,g,v){g instanceof dr?(c.i=g,fa(c.i,c.l)):(v||(g=_s(g,fr)),c.i=new dr(g,c.l))}function Kt(c,g,v){c.i.set(g,v)}function ys(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,Iu=/[#\?:]/g,ko=/[#\?]/g,fr=/[#\?@]/g,Du=/#/g;function dr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=dr.prototype,r.add=function(c,g){sn(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Nu(c,g){sn(c),g=mr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Uo(c,g){return sn(c),g=mr(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(g,P,A,this)},this)},this)};function zo(c,g){sn(c);let v=[];if(typeof g=="string")Uo(c,g)&&(v=v.concat(c.g.get(mr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return sn(this),this.i=null,c=mr(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=zo(this,c),c.length>0?String(c[0]):g):g};function ha(c,g,v){Nu(c,g),v.length>0&&(c.i=null,c.g.set(mr(c,g),B(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const P=xi(v);v=zo(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+xi(v[q])),c.push(nt)}}return this.i=c.join("&")};function Ou(c){const g=new dr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function mr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function fa(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Nu(this,A),ha(this,P,v))},c)),c.j=g}function Fn(c,g){const v=new jn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Bo(c,g){const v=new jn,A=new AbortController,P=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?Rn(v,"TestPingServer: ok",!0,g):Rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Rn(v,"TestPingServer: error",!1,g)})}function Rn(c,g,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function pr(){this.g=new _u}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,vu),pi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,g){_e.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(vs,_e),r=vs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?gr(this):Gn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Na=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return zt(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Es(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&xi(v):Kt(c,g,v))}function $t(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,_e);var gi=/^https?$/i,jo=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Ts(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(jo,g,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ts(this,q)}};function Ts(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,qo(c),Li(c)}function qo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ss(this):this.Xa())},r.Xa=function(){Ss(this)};function Ss(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=q===0){let nt=String(c.D).match(Cu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!gi.test(nt?nt.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var P=Kn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",qo(c)}}finally{Li(c)}}}}function Li(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),rf(g)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=bu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[P]||[];g[P]=q,q.push(v)}Gt(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function yr(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new pr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){ve(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Uu(this,null,this.W),_i(this)};function Ho(c){if(ma(c),c.I==3){var g=c.V++,v=Se(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",g),Kt(v,"TYPE","terminate"),As(c,v),g=new qn(c,c.j,g),g.M=2,g.A=ys(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=zu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ui(g)}ku(c)}function _r(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function ma(c){_r(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Mo(c.h)&&!c.m){c.m=!0;var g=c.Ea;It||w(),wt||(It(),wt=!0),C.add(g,c),c.D=0}}function pa(c,g){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,g),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Mu(this,P,g),v=Se(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),As(this,v),q&&(this.R?g="headers="+xi(Cn(q))+"&"+g:this.u&&Es(v,this.u,q)),Vo(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",g),Kt(v,"SID","null"),P.U=!0,li(P,v,null)):li(P,v,g),this.I=2}}else this.I==3&&(c?Fo(this,c):this.i.length==0||Mo(this.h)||Fo(this))};function Fo(c,g){var v;g?v=g.l:v=c.V++;const A=Se(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),As(c,A),c.u&&c.o&&Es(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Vo(c.h,v),li(v,A,g)}function As(c,g){c.H&&zt(c.H,function(v,A){Kt(g,A,v)}),c.l&&zt({},function(v,A){Kt(g,A,v)})}function Mu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let At=-1;for(;;){const me=["count="+v];At==-1?v>0?(At=P[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let qt=!0;for(let oe=0;oe<v;oe++){var q=P[oe].g;const In=P[oe].map;if(q-=At,q<0)At=Math.max(0,P[oe].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=In instanceof Map?In:Object.entries(In);for(const[Ei,Yn]of nt){let Qn=Yn;m(Yn)&&(Qn=cr(Yn)),me.push(q+Ei+"="+encodeURIComponent(Qn))}}catch(Ei){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(In)}}if(qt){nt=me.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),g.G=c,nt}function Vu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;It||w(),wt||(It(),wt=!0),C.add(g,c),c.A=0}}function bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),_r(this),xu(this))};function Go(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Se(c.na);Kt(g,"RID","rpc"),Kt(g,"SID",c.M),Kt(g,"AID",c.K),Kt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(g,"TO",c.ia),Kt(g,"TYPE","xmlhttp"),As(c,g),c.u&&c.o&&Es(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(Se(g)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),bs(this),ve(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,g){var v=null;if(c.g==g){ga(c),Go(c),c.g=null;var A=2}else if(di(c.h,g))v=g.G,xo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;A=aa(),Me(A,new si(A,v)),_i(c)}else Vu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(A==1&&pa(c,g)||A==2&&bs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),P){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Pu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function vi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pe(A,"https"),ys(A),P?Fn(A.toString(),v):Bo(A.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(g),ku(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const g=Lo(c.h);(g.length!=0||c.i.length!=0)&&(Y(c.ja,g),Y(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Uu(c,g,v){var A=v instanceof mn?Se(v):new mn(v);if(A.g!="")g&&(A.g=g+"."+A.g),hr(A,A.u);else{var P=f.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const q=new mn(null);A&&Pe(q,A),g&&(q.g=g),P&&hr(q,P),v&&(q.h=v),A=q}return v=c.G,g=c.wa,v&&g&&Kt(A,v,g),Kt(A,"VER",c.ka),As(c,A),A}function zu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $t(new pi({ab:v})):new $t(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(c,g){return new en(c,g)};function en(c,g){_e.call(this),this.g=new yr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ki(this)}S(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ho(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cr(c),c=v);g.i.push(new Te(g.Ya++,c)),g.I==3&&_i(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,en.Z.N.call(this)};function ju(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(ju,Be);function qu(){bn.call(this),this.status=1}S(qu,bn);function ki(c){this.g=c}S(ki,Bu),ki.prototype.ra=function(){Me(this.g,"a")},ki.prototype.qa=function(c){Me(this.g,new ju(c))},ki.prototype.pa=function(c){Me(this.g,new qu)},ki.prototype.oa=function(){Me(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,M0=function(){return new vr},O0=function(){return aa()},N0=de,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,sh=ps,Do.COMPLETE="complete",D0=Do,Eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,xl=Eu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,I0=$t}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let vo="12.10.0";function T2(r){vo=r}const Xs=new op("@firebase/firestore");function Qa(){return Xs.logLevel}function lt(r,...t){if(Xs.logLevel<=Vt.DEBUG){const n=t.map(_p);Xs.debug(`Firestore (${vo}): ${r}`,...n)}}function sr(r,...t){if(Xs.logLevel<=Vt.ERROR){const n=t.map(_p);Xs.error(`Firestore (${vo}): ${r}`,...n)}}function $s(r,...t){if(Xs.logLevel<=Vt.WARN){const n=t.map(_p);Xs.warn(`Firestore (${vo}): ${r}`,...n)}}function _p(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,V0(r,s,n)}function V0(r,t,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||V0(t,o,s)}function St(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class x0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class A2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new x0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class w2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class R2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class vp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=I2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Um(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return ym(o)===ym(u)?xt(o,u):ym(o)?1:-1}return xt(r.length,t.length)}const D2=55296,N2=57343;function ym(r){const t=r.charCodeAt(0);return t>=D2&&t<=N2}function ao(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const gE="__name__";class wi{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=wi.isNumericId(t),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(t).compare(wi.extractNumericId(n)):Um(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ne extends wi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new Ye([gE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ot(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function L0(r,t,n){if(!n)throw new ot(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function M2(r,t,n,s){if(t===!0&&s===!0)throw new ot(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function yE(r){if(!dt.isDocumentKey(r))throw new ot(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _E(r){if(dt.isDocumentKey(r))throw new ot(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Wr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new ot(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function De(r,t){const n={typeString:r};return t&&(n.value=t),n}function hu(r,t){if(!P0(r))throw new ot(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot(W.INVALID_ARGUMENT,n);return!0}const vE=-62135596800,EE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*EE);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<vE)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function V2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new ts(o,dt.empty(),t)}function x2(r){return new ts(r.readTime,r.key,Ql)}class ts{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ts(vt.min(),dt.empty(),Ql)}static max(){return new ts(vt.max(),dt.empty(),Ql)}}function L2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==P2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function U2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jh.ce=-1;const Ep=-1;function qh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const k0="";function B2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=TE(t)),t=j2(r.get(n),t);return TE(t)}function j2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case k0:n+="";break;default:n+=u}}return n}function TE(r){return r+k0+""}function SE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ls(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function U0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(t){return new AE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class AE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new xe(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new z0("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=q2.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const B0="server_timestamp",j0="__type__",q0="__previous_value__",H0="__local_write_time__";function Tp(r){return(r?.mapValue?.fields||{})[j0]?.stringValue===B0}function Hh(r){const t=r.mapValue.fields[q0];return Tp(t)?Hh(t):t}function Xl(r){const t=es(r.mapValue.fields[H0].timestampValue);return new se(t.seconds,t.nanos)}class H2{constructor(t,n,s,o,u,f,m,p,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const Th="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||Th}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}function F2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(r.options.projectId,t)}const F0="__type__",G2="__max__",$c={mapValue:{}},G0="__vector__",Sh="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:Y2(r)?9007199254740991:K2(r)?10:11:yt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const n=is(r);if(n!==is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Xl(r).isEqual(Xl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?Eh(f)===Eh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ao(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(SE(f)!==SE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Mi(f[p],m[p])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>Mi(n,t)))!==void 0}function oo(r,t){if(r===t)return 0;const n=is(r),s=is(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),p=ye(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return bE(r.timestampValue,t.timestampValue);case 4:return bE(Xl(r),Xl(t));case 5:return Um(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ns(u),p=ns(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=xt(m[y],p[y]);if(E!==0)return E}return xt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(ye(u.latitude),ye(f.latitude));return m!==0?m:xt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Sh]?.arrayValue,E=p[Sh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:wE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=Um(p[S],E[S]);if(b!==0)return b;const B=oo(m[p[S]],y[E[S]]);if(B!==0)return B}return xt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function bE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=es(r),s=es(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function wE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function lo(r){return zm(r)}function zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function ah(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hh(r);return t?16+ah(t):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ah(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ls(s.fields,((u,f)=>{o+=u.length+ah(f)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function RE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Bm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function CE(r){return!!r&&"nullValue"in r}function IE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[F0]?.stringValue===G0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return t}return{...r}}function Y2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(n)}setAll(t){let n=Ye.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ls(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(Bl(this.value))}}function K0(r){const t=[];return ls(r.fields,((n,s)=>{const o=new Ye([n]);if(oh(s)){const u=K0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Sn(t)}class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,vt.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(t,n){this.position=t,this.inclusive=n}}function DE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function NE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],t.position[n]))return!1;return!0}class Wl{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class Y0{}class Ie extends Y0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new $2(t,n,s):n==="array-contains"?new Z2(t,s):n==="in"?new tD(t,s):n==="not-in"?new eD(t,s):n==="array-contains-any"?new nD(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new J2(t,s):new W2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends Y0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return Q0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q0(r){return r.op==="and"}function X0(r){return X2(r)&&Q0(r)}function X2(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function jm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(X0(r))return r.filters.map((t=>jm(t))).join(",");{const t=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${t})`}}function $0(r,t){return r instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,t):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&$0(f,o.filters[m])),!0):!1})(r,t):void yt(19439)}function J0(r){return r instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(J0).join(" ,")+"}"})(r):"Filter"}class $2 extends Ie{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class J2 extends Ie{constructor(t,n){super(t,"in",n),this.keys=W0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class W2 extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=W0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function W0(r,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class Z2 extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sp(n)&&Jl(n.arrayValue,this.value)}}class tD extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class eD extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class nD extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class iD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function OE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new iD(r,t,n,s,o,u,f)}function Ap(r){const t=St(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>lo(s))).join(",")),t.Te=n}return t.Te}function bp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Q2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!NE(r.startAt,t.startAt)&&NE(r.endAt,t.endAt)}function qm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class So{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rD(r,t,n,s,o,u,f,m){return new So(r,t,n,s,o,u,f,m)}function wp(r){return new So(r)}function ME(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sD(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Z0(r){return r.collectionGroup!==null}function jl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Ye.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Wl(u,s))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new Wl(Ye.keyField(),s))}return t.Ie}function Di(r){const t=St(r);return t.Ee||(t.Ee=aD(t,jl(r))),t.Ee}function aD(r,t){if(r.limitType==="F")return OE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return OE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Hm(r,t){const n=r.filters.concat([t]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function oD(r,t){const n=r.explicitOrderBy.concat([t]);return new So(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Fm(r,t,n){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Fh(r,t){return bp(Di(r),Di(t))&&r.limitType===t.limitType}function tS(r){return`${Ap(Di(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>J0(o))).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Gh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=DE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,jl(s),o)||s.endAt&&!(function(f,m,p){const y=DE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,jl(s),o))})(r,t)}function lD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eS(r){return(t,n)=>{let s=!1;for(const o of jl(r)){const u=uD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uD(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?oo(p,y):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ls(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}const cD=new ce(dt.comparator);function ar(){return cD}const nS=new ce(dt.comparator);function Ll(...r){let t=nS;for(const n of r)t=t.insert(n.key,n);return t}function iS(r){let t=nS;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function qs(){return ql()}function rS(){return ql()}function ql(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hD=new ce(dt.comparator),fD=new xe(dt.comparator);function Lt(...r){let t=fD;for(const n of r)t=t.add(n);return t}const dD=new xe(xt);function mD(){return dD}function Rp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function sS(r){return{integerValue:""+r}}function pD(r,t){return z2(t)?sS(t):Rp(r,t)}class Kh{constructor(){this._=void 0}}function gD(r,t,n){return r instanceof Zl?(function(o,u){const f={fields:{[j0]:{stringValue:B0},[H0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=Hh(u)),u&&(f.fields[q0]=u),{mapValue:f}})(n,t):r instanceof tu?oS(r,t):r instanceof eu?lS(r,t):(function(o,u){const f=aS(o,u),m=VE(f)+VE(o.Ae);return Bm(f)&&Bm(o.Ae)?sS(m):Rp(o.serializer,m)})(r,t)}function yD(r,t,n){return r instanceof tu?oS(r,t):r instanceof eu?lS(r,t):n}function aS(r,t){return r instanceof bh?(function(s){return Bm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Zl extends Kh{}class tu extends Kh{constructor(t){super(),this.elements=t}}function oS(r,t){const n=uS(t);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Kh{constructor(t){super(),this.elements=t}}function lS(r,t){let n=uS(t);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class bh extends Kh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function VE(r){return ye(r.integerValue||r.doubleValue)}function uS(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _D{constructor(t,n){this.field=t,this.transform=n}}function vD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof eu&&o instanceof eu?ao(s.elements,o.elements,Mi):s instanceof bh&&o instanceof bh?Mi(s.Ae,o.Ae):s instanceof Zl&&o instanceof Zl})(r.transform,t.transform)}class ED{constructor(t,n){this.version=t,this.transformResults=n}}class Zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Yh{}function cS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Cp(r.key,Zn.none()):new fu(r.key,r.data,Zn.none());{const n=r.data,s=fn.empty();let o=new xe(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(r.key,s,new Sn(o.toArray()),Zn.none())}}function TD(r,t,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),p=LE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof us?(function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=LE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(hS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Hl(r,t,n,s){return r instanceof fu?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const y=u.value.clone(),E=PE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof us?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const y=PE(u.fieldTransforms,p,f),E=f.data;return E.setAll(hS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function SD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=aS(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function xE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>vD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class fu extends Yh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends Yh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hS(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function LE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,yD(f,m,n[o]))}return s}function PE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,gD(u,f,t))}return s}class Cp extends Yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AD extends Yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&TD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=rS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=cS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((n,s)=>xE(n,s)))&&ao(this.baseMutations,t.baseMutations,((n,s)=>xE(n,s)))}}class Ip{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return hD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(t,n,s,o)}}class wD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RD{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ce,Ut;function CD(r){switch(r){case W.OK:return yt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function fS(r){if(r===void 0)return sr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return yt(39323,{code:r})}}(Ut=Ce||(Ce={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function ID(){return new TextEncoder}const DD=new Jr([4294967295,4294967295],0);function kE(r){const t=ID().encode(r),n=new C0;return n.update(t),new Uint8Array(n.digest())}function UE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Jr([n,s],0),new Jr([o,u],0)]}class Dp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Jr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Jr.fromNumber(s)));return o.compare(DD)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=kE(t),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Dp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=kE(t),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qh(vt.min(),o,new ce(xt),ar(),Lt())}}class du{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new du(s,n,Lt(),Lt(),Lt())}}class uh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class dS{constructor(t,n){this.targetId=t,this.Ce=n}}class mS{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class zE{constructor(){this.ve=0,this.Fe=BE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new du(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=BE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ND{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.He=Jc(),this.Je=Jc(),this.Ze=new ce(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(qm(u))if(s===0){const f=new dt(u.path);this.et(n,f,We.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ns(s).toUint8Array()}catch(p){if(p instanceof z0)return $s("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return $s(p instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&qm(m.target)){const p=new dt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,We.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Qh(t,n,this.Ze,this.je,s);return this.je=ar(),this.He=Jc(),this.Je=Jc(),this.Ze=new ce(xt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new zE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new ce(dt.comparator)}function BE(){return new ce(dt.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},MD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VD={and:"AND",or:"OR"};class xD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Gm(r,t){return r.useProto3Json||qh(t)?t:{value:t}}function wh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function LD(r,t){return wh(r,t.toTimestamp())}function Ni(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=es(n);return new se(s.seconds,s.nanos)})(r))}function Np(r,t){return Km(r,t).canonicalString()}function Km(r,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function gS(r){const t=ne.fromString(r);return Ft(TS(t),10190,{key:t.toString()}),t}function Ym(r,t){return Np(r.databaseId,t.path)}function _m(r,t){const n=gS(t);if(n.get(1)!==r.databaseId.projectId)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(_S(n))}function yS(r,t){return Np(r.databaseId,t)}function PD(r){const t=gS(r);return t.length===4?ne.emptyPath():_S(t)}function Qm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _S(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jE(r,t,n){return{name:Ym(r,t),fields:n.value.mapValue.fields}}function kD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:fS(y.code);return new ot(E,y.message||"")})(f);n=new mS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):vt.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?Ni(s.readTime):vt.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RD(o,u),m=s.targetId;n=new dS(m,f)}}return n}function UD(r,t){let n;if(t instanceof fu)n={update:jE(r,t.key,t.value)};else if(t instanceof Cp)n={delete:Ym(r,t.key)};else if(t instanceof us)n={update:jE(r,t.key,t.data),updateMask:YD(t.fieldMask)};else{if(!(t instanceof AD))return yt(16599,{dt:t.type});n={verify:Ym(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function zD(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(vt.min())&&(f=Ni(u)),new ED(f,o.transformResults||[])})(n,t)))):[]}function BD(r,t){return{documents:[yS(r,t.path)]}}function jD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yS(r,o);const u=(function(y){if(y.length!==0)return ES(ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:$a(b.field),direction:FD(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function qD(r){let t=PD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=vS(S);return b instanceof ni&&X0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((b=>(function(Y){return new Wl(Ja(Y.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,qh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(S){const b=!!S.before,B=S.values||[];return new Ah(B,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const b=!S.before,B=S.values||[];return new Ah(B,b)})(n.endAt)),rD(t,o,f,u,m,"F",p,y)}function HD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ie.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>vS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function FD(r){return OD[r]}function GD(r){return MD[r]}function KD(r){return VD[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Ye.fromServerFormat(r.fieldPath)}function ES(r){return r instanceof Ie?(function(n){if(n.op==="=="){if(IE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:GD(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>ES(o)));return s.length===1?s[0]:{compositeFilter:{op:KD(n.op),filters:s}}})(r):yt(54877,{filter:r})}function YD(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function TS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function SS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Yr{constructor(t,n,s,o,u=vt.min(),f=vt.min(),m=Qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QD{constructor(t){this.yt=t}}function XD(r){const t=qD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fm(t,t.limit,"L"):t}class $D{constructor(){this.Sn=new JD}addToCollectionParentIndex(t,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(ts.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class JD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ne.comparator)).toArray()}}const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(AS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class uo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new uo(0)}static ar(){return new uo(-1)}}const HE="LruGarbageCollector",WD=1048576;function FE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class ZD{constructor(t){this.Pr=t,this.buffer=new xe(FE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();FE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(HE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?lt(HE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class eN{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(jh.ce);const s=new ZD(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(qE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Qa()<=Vt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function nN(r,t){return new eN(r,t)}class iN{constructor(){this.changes=new ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class sN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Hl(s.mutation,o,Sn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=qs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Ll();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=qs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ar();const f=ql(),m=(function(){return ql()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Hl(E.mutation,y,E.mutation.getFieldMask(),se.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new rN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=ql();let o=new ce(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=rS();E.forEach((b=>{if(!u.has(b)){const B=cS(n.get(b),s.get(b));B!==null&&S.set(b,B),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return sD(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Z0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(qs());let m=Ql,p=u;return f.next((y=>Z.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Lt()))).next((E=>({batchId:m,changes:iS(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(t,u).next((m=>Z.forEach(m,(p=>{const y=(function(S,b){return new So(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,b)=>{f=f.insert(S,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=Ll();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Hl(E.mutation,y,Sn.empty(),se.now()),Gh(n,y)&&(m=m.insert(p,y))})),m}))}}class aN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:XD(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),Z.resolve()}}class oN{constructor(){this.overlays=new ce(dt.comparator),this.Lr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=qs();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=qs(),u=n.length+1,f=new dt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wD(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class lN{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class Op{constructor(){this.kr=new xe(Ue.Kr),this.qr=new xe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ue(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new dt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new dt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Lt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return dt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}class uN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Ue.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new bD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ep:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new dt(u),0);let m=new xe(xt);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cN{constructor(t){this.ti=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ar();const f=n.path,m=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||L2(x2(E),s)<=0||(o.has(E.key)||Gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ni(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new hN(this)}getSize(t){return Z.resolve(this.size)}}class hN extends iN{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class fN{constructor(t){this.persistence=t,this.ri=new ta((n=>Ap(n)),bp),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Op,this.targetCount=0,this.oi=uo._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new uo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.lr(n),Z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.si.containsKey(n))}}class bS{constructor(t,n){this._i={},this.overlays={},this.ai=new jh(0),this.ui=!1,this.ui=!0,this.ci=new lN,this.referenceDelegate=t(this),this.li=new fN(this),this.indexManager=new $D,this.remoteDocumentCache=(function(o){return new cN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new QD(n),this.Pi=new aN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new oN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new uN(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new dN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class dN extends k2{constructor(t){super(),this.currentSequenceNumber=t}}class Mp{constructor(t){this.persistence=t,this.Ri=new Op,this.Ai=null}static Vi(t){return new Mp(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=dt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Rh{constructor(t,n){this.persistence=t,this.fi=new ta((s=>B2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nN(this,n)}static Vi(t,n){return new Rh(t,n)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return Z.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ah(t.data.value)),n}wr(t,n,s){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,s,o)}}class mN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qw()?8:U2(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new mN;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(Qa()<=Vt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Qa()<=Vt.DEBUG&&lt("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Qa()<=Vt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):Z.resolve())}gs(t,n){if(ME(n))return Z.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(t,Fm(n,null,"F")):this.Ds(t,y,n,p)}))))})))))}ps(t,n,s,o){return ME(n)||o.isEqual(vt.min())?Z.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?Z.resolve(null):(Qa()<=Vt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.Ds(t,f,n,V2(o,Ql)).next((m=>m)))}))}bs(t,n){let s=new xe(eS(t));return n.forEach(((o,u)=>{Gh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return Qa()<=Vt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.fs.getDocumentsMatchingQuery(t,n,ts.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const xp="LocalStore",gN=3e8;class yN{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ce(xt),this.Fs=new ta((u=>Ap(u)),bp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function _N(r,t,n,s){return new yN(r,t,n,s)}async function wS(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function vN(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,b=S.keys();let B=Z.resolve();return b.forEach((Y=>{B=B.next((()=>E.getEntry(p,Y))).next((Q=>{const j=y.docVersions.get(Y);Ft(j!==null,48541),Q.version.compareTo(j)<0&&(S.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function RS(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function EN(r,t){const n=St(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let B=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(S,B),(function(Q,j,et){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=gN?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(b,B,E)&&m.push(n.li.updateTargetData(u,B))}));let p=ar(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(TN(u,f,t.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function TN(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ar();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):lt(xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function SN(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function AN(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Yr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Xm(r,t,n){const s=St(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;lt(xp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function GE(r,t,n){const s=St(r);let o=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const S=St(p),b=S.Fs.get(E);return b!==void 0?Z.resolve(S.vs.get(b)):S.li.getTargetData(y,E)})(s,f,Di(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Lt()))).next((m=>(bN(s,lD(t),m),{documents:m,ks:u})))))}function bN(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class KE{constructor(){this.activeTargetIds=mD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wN{constructor(){this.vo=new KE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new KE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RN{Mo(t){}shutdown(){}}const YE="ConnectivityMonitor";class QE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(YE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(YE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wc=null;function $m(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}const vm="RestConnection",CN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class IN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=$m(),m=this.Qo(t,n.toUriEncodedString());lt(vm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=go(y);return this.zo(t,m,p,s,E).then((S=>(lt(vm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw $s(vm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=CN[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class DN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Ol=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class no extends IN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!no.c_){const t=O0();Ol(t,N0.STAT_EVENT,(n=>{n.stat===km.PROXY?lt($e,"STAT_EVENT: detected buffering proxy"):n.stat===km.NOPROXY&&lt($e,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(t,n,s,o,u){const f=$m();return new Promise(((m,p)=>{const y=new I0;y.setWithCredentials(!0),y.listenOnce(D0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const S=y.getResponseJson();lt($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case sh.TIMEOUT:lt($e,`RPC '${t}' ${f} timed out`),p(new ot(W.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const b=y.getStatus();if(lt($e,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B?.error;if(Y&&Y.status&&Y.message){const Q=(function(et){const it=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(it)>=0?it:W.UNKNOWN})(Y.status);p(new ot(Q,Y.message))}else p(new ot(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot(W.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=$m(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");lt($e,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,b=!1;const B=new DN({Ho:Y=>{b?lt($e,`Not sending because RPC '${t}' stream ${o} is closed:`,Y):(S||(lt($e,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),lt($e,`RPC '${t}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return Ol(E,xl.EventType.OPEN,(()=>{b||(lt($e,`RPC '${t}' stream ${o} transport opened.`),B.i_())})),Ol(E,xl.EventType.CLOSE,(()=>{b||(b=!0,lt($e,`RPC '${t}' stream ${o} transport closed`),B.o_(),this.E_(E))})),Ol(E,xl.EventType.ERROR,(Y=>{b||(b=!0,$s($e,`RPC '${t}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),B.o_(new ot(W.UNAVAILABLE,"The operation could not be completed")))})),Ol(E,xl.EventType.MESSAGE,(Y=>{if(!b){const Q=Y.data[0];Ft(!!Q,16349);const j=Q,et=j?.error||j[0]?.error;if(et){lt($e,`RPC '${t}' stream ${o} received error:`,et);const it=et.status;let at=(function(wt){const C=Ce[wt];if(C!==void 0)return fS(C)})(it),Et=et.message;it==="NOT_FOUND"&&Et.includes("database")&&Et.includes("does not exist")&&Et.includes(this.databaseId.database)&&$s(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),at===void 0&&(at=W.INTERNAL,Et="Unknown error status: "+it+" with message "+et.message),b=!0,B.o_(new ot(at,Et)),E.close()}else lt($e,`RPC '${t}' stream ${o} received:`,Q),B.__(Q)}})),no.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M0()}}function NN(r){return new no(r)}function Em(){return typeof document<"u"?document:null}function Xh(r){return new xD(r,!0)}no.c_=!1;class CS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const XE="PersistentStream";class IS{constructor(t,n,s,o,u,f,m,p){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(XE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(lt(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ON extends IS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=kD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Ni(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=qm(p)?{documents:BD(u,p)}:{query:jD(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=pS(u,f.resumeToken);const y=Gm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=Gm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=HD(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Qm(this.serializer),n.removeTarget=t,this.K_(n)}}class MN extends IS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=zD(t.writeResults,t.commitTime),s=Ni(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Qm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>UD(this.serializer,s)))};this.K_(n)}}class VN{}class xN extends VN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Km(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(W.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,Km(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function LN(r,t,n,s){return new xN(r,t,n,s)}class PN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class kN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{ea(this)&&(lt(Js,"Restarting streams for network reachability change."),await(async function(p){const y=St(p);y.Ea.add(4),await mu(y),y.Va.set("Unknown"),y.Ea.delete(4),await $h(y)})(this))}))})),this.Va=new PN(s,o)}}async function $h(r){if(ea(r))for(const t of r.Ra)await t(!0)}async function mu(r){for(const t of r.Ra)await t(!1)}function DS(r,t){const n=St(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Up(n)?kp(n):Ao(n).O_()&&Pp(n,t))}function Lp(r,t){const n=St(r),s=Ao(n);n.Ia.delete(t),s.O_()&&NS(n,t),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Va.set("Unknown"))}function Pp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ao(r).Z_(t)}function NS(r,t){r.da.$e(t),Ao(r).X_(t)}function kp(r){r.da=new ND({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Va.ua()}function Up(r){return ea(r)&&!Ao(r).x_()&&r.Ia.size>0}function ea(r){return St(r).Ea.size===0}function OS(r){r.da=void 0}async function UN(r){r.Va.set("Online")}async function zN(r){r.Ia.forEach(((t,n)=>{Pp(r,t)}))}async function BN(r,t){OS(r),Up(r)?(r.Va.ha(t),kp(r)):r.Va.set("Unknown")}async function jN(r,t,n){if(r.Va.set("Online"),t instanceof mS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,t)}catch(s){lt(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ch(r,s)}else if(t instanceof uh?r.da.Xe(t):t instanceof dS?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await RS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),NS(u,p);const S=new Yr(E.target,p,y,E.sequenceNumber);Pp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){lt(Js,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,t,n){if(!To(t))throw t;r.Ea.add(1),await mu(r),r.Va.set("Offline"),n||(n=()=>RS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function MS(r,t){return t().catch((n=>Ch(r,n,t)))}async function Jh(r){const t=St(r),n=rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ep;for(;qN(t);)try{const o=await SN(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,HN(t,o)}catch(o){await Ch(t,o)}VS(t)&&xS(t)}function qN(r){return ea(r)&&r.Ta.length<10}function HN(r,t){r.Ta.push(t);const n=rs(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function VS(r){return ea(r)&&!rs(r).x_()&&r.Ta.length>0}function xS(r){rs(r).start()}async function FN(r){rs(r).ra()}async function GN(r){const t=rs(r);for(const n of r.Ta)t.ea(n.mutations)}async function KN(r,t,n){const s=r.Ta.shift(),o=Ip.from(s,t,n);await MS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jh(r)}async function YN(r,t){t&&rs(r).Y_&&await(async function(s,o){if((function(f){return CD(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();rs(s).B_(),await MS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jh(s)}})(r,t),VS(r)&&xS(r)}async function $E(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),lt(Js,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await mu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $h(n)}async function QN(r,t){const n=St(r);t?(n.Ea.delete(2),await $h(n)):t||(n.Ea.add(2),await mu(n),n.Va.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=St(n);return u.sa(),new ON(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:UN.bind(null,r),Yo:zN.bind(null,r),t_:BN.bind(null,r),J_:jN.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Up(r)?kp(r):r.Va.set("Unknown")):(await r.ma.stop(),OS(r))}))),r.ma}function rs(r){return r.fa||(r.fa=(function(n,s,o){const u=St(n);return u.sa(),new MN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FN.bind(null,r),t_:YN.bind(null,r),ta:GN.bind(null,r),na:KN.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new zp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,t){if(sr("AsyncQueue",`${t}: ${r}`),To(r))return new ot(W.UNAVAILABLE,`${t}: ${r}`);throw r}class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class JE{constructor(){this.ga=new ce(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class co{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new co(t,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class XN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class $N{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=WE(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ot(W.ABORTED,"Firestore shutting down"))}}function WE(){return new ta((r=>tS(r)),Fh)}async function JN(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new XN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&jp(n)}async function WN(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZN(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&jp(n)}function tO(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function jp(r){r.Ca.forEach((t=>{t.next()}))}var Jm,ZE;(ZE=Jm||(Jm={})).Ma="default",ZE.Cache="cache";class eO{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jm.Cache}}class LS{constructor(t){this.key=t}}class PS{constructor(t){this.key=t}}class nO{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=eS(t),this.tu=new io(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new JE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const b=o.get(E),B=Gh(this.query,S)?S:null,Y=!!b&&this.mutatedKeys.has(b.key),Q=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let j=!1;b&&B?b.data.isEqual(B.data)?Y!==Q&&(s.track({type:3,doc:B}),j=!0):this.su(b,B)||(s.track({type:2,doc:B}),j=!0,(p&&this.eu(B,p)>0||y&&this.eu(B,y)<0)&&(m=!0)):!b&&B?(s.track({type:0,doc:B}),j=!0):b&&!B&&(s.track({type:1,doc:b}),j=!0,(p||y)&&(m=!0)),j&&(B?(f=f.add(B),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(B,Y){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:j})}};return Q(B)-Q(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new co(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new PS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new LS(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qp="SyncEngine";class iO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class rO{constructor(t){this.key=t,this.hu=!1}}class sO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((m=>tS(m)),Fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(dt.comparator),this.Au=new Map,this.Vu=new Op,this.du={},this.mu=new Map,this.fu=uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aO(r,t,n=!0){const s=qS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await kS(s,t,n,!0),o}async function oO(r,t){const n=qS(r);await kS(n,t,!0,!1)}async function kS(r,t,n,s){const o=await AN(r.localStore,Di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await lO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&DS(r.remoteStore,o),m}async function lO(r,t,n,s,o){r.pu=(S,b,B)=>(async function(Q,j,et,it){let at=j.view.ru(et);at.Ss&&(at=await GE(Q.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,at))));const Et=it&&it.targetChanges.get(j.targetId),It=it&&it.targetMismatches.get(j.targetId)!=null,wt=j.view.applyChanges(at,Q.isPrimaryClient,Et,It);return eT(Q,j.targetId,wt.au),wt.snapshot})(r,S,b,B);const u=await GE(r.localStore,t,!0),f=new nO(t,u.ks),m=f.ru(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);eT(r,n,y.au);const E=new iO(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function uO(r,t,n){const s=St(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Fh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Wm(s,o.targetId)})).catch(Eo)):(Wm(s,o.targetId),await Xm(s.localStore,o.targetId,!0))}async function cO(r,t){const n=St(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function hO(r,t,n){const s=_O(r);try{const o=await(function(f,m){const p=St(f),y=se.now(),E=m.reduce(((B,Y)=>B.add(Y.key)),Lt());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Y=ar(),Q=Lt();return p.xs.getEntries(B,E).next((j=>{Y=j,Y.forEach(((et,it)=>{it.isValidDocument()||(Q=Q.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(B,Y))).next((j=>{S=j;const et=[];for(const it of m){const at=SD(it,S.get(it.key).overlayedDocument);at!=null&&et.push(new us(it.key,at,K0(at.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,et,m)})).next((j=>{b=j;const et=j.applyToLocalDocumentSet(S,Q);return p.documentOverlayCache.saveOverlays(B,j.batchId,et)}))})).then((()=>({batchId:b.batchId,changes:iS(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new ce(xt)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function US(r,t){const n=St(r);try{const s=await EN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await pu(n,s,t)}catch(s){await Eo(s)}}function tT(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=St(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const b of S.ba)b.va(m)&&(y=!0)})),y&&jp(p)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fO(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ce(dt.comparator);f=f.insert(u,We.newNoDocument(u,vt.min()));const m=Lt().add(u),p=new Qh(vt.min(),new Map,new ce(xt),f,m);await US(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(t),Hp(s)}else await Xm(s.localStore,t,!1).then((()=>Wm(s,t,n))).catch(Eo)}async function dO(r,t){const n=St(r),s=t.batch.batchId;try{const o=await vN(n.localStore,t);BS(n,s,null),zS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Eo(o)}}async function mO(r,t,n){const s=St(r);try{const o=await(function(f,m){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);BS(s,t,n),zS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await pu(s,o)}catch(o){await Eo(o)}}function zS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function BS(r,t,n){const s=St(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Wm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||jS(r,s)}))}function jS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(Lp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),Hp(r))}function eT(r,t,n){for(const s of n)s instanceof LS?(r.Vu.addReference(s.key,t),pO(r,s)):s instanceof PS?(lt(qp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||jS(r,s.key)):yt(19791,{wu:s})}function pO(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(lt(qp,"New document in limbo: "+n),r.Eu.add(s),Hp(r))}function Hp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new rO(n)),r.Ru=r.Ru.insert(n,s),DS(r.remoteStore,new Yr(Di(wp(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function pu(r,t,n){const s=St(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Vp.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(b=>Z.forEach(b.Ts,(B=>E.persistence.referenceDelegate.addReference(S,b.targetId,B))).next((()=>Z.forEach(b.Is,(B=>E.persistence.referenceDelegate.removeReference(S,b.targetId,B)))))))))}catch(S){if(!To(S))throw S;lt(xp,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const B=E.vs.get(b),Y=B.snapshotVersion,Q=B.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(b,Q)}}})(s.localStore,u))}async function gO(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){lt(qp,"User change. New user:",t.toKey());const s=await wS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ot(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ns)}}function yO(r,t){const n=St(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function qS(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fO.bind(null,t),t.Pu.J_=ZN.bind(null,t.eventManager),t.Pu.yu=tO.bind(null,t.eventManager),t}function _O(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mO.bind(null,t),t}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _N(this.persistence,new pN,t.initialUser,this.serializer)}Cu(t){return new bS(Mp.Vi,this.serializer)}Du(t){return new wN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class vO extends Ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new bS((s=>Rh.Vi(s,n)),this.serializer)}}class Zm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gO.bind(null,this.syncEngine),await QN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $N})()}createDatastore(t){const n=Xh(t.databaseInfo.databaseId),s=NN(t.databaseInfo);return LN(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new kN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>tT(this.syncEngine,n,0)),(function(){return QE.v()?new QE:new RN})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const S=new sO(o,u,f,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=St(n);lt(Js,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class EO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ss="FirestoreClient";class TO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Tm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await wS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function nT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await SO(r);lt(ss,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>$E(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>$E(t.remoteStore,o))),r._onlineComponents=t}async function SO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(ss,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Ih)}}else lt(ss,"Using default OfflineComponentProvider"),await Tm(r,new vO(void 0));return r._offlineComponents}async function HS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(ss,"Using user provided OnlineComponentProvider"),await nT(r,r._uninitializedComponentsProvider._online)):(lt(ss,"Using default OnlineComponentProvider"),await nT(r,new Zm))),r._onlineComponents}function AO(r){return HS(r).then((t=>t.syncEngine))}async function iT(r){const t=await HS(r),n=t.eventManager;return n.onListen=aO.bind(null,t.syncEngine),n.onUnlisten=uO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cO.bind(null,t.syncEngine),n}function bO(r,t,n,s){const o=new EO(s),u=new eO(t,o,n);return r.asyncQueue.enqueueAndForget((async()=>JN(await iT(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>WN(await iT(r),u)))}}function wO(r,t){const n=new Hs;return r.asyncQueue.enqueueAndForget((async()=>hO(await AO(r),t,n))),n.promise}function FS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const RO="ComponentProvider",rT=new Map;function CO(r,t,n,s,o){return new H2(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,FS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const GS="firestore.googleapis.com",sT=!0;class aT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GS,this.ssl=sT}else this.host=t.host,this.ssl=t.ssl??sT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WD)throw new ot(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new S2;switch(s.type){case"firstParty":return new R2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rT.get(n);s&&(lt(RO,"Removing Datastore"),rT.delete(n),s.terminate())})(this),Promise.resolve()}}function IO(r,t,n,s={}){r=Wr(r,Wh);const o=go(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(UT(`https://${m}`),zT("Firestore",!0)),u.host!==GS&&u.host!==m&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Gs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Je.MOCK_USER;else{y=Vw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(S)}r._authCredentials=new A2(new x0(y,E))}}class na{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class Ne{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(hu(n,Ne._jsonSchema))return new Ne(t,s||null,new dt(ne.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:De("string",Ne._jsonSchemaVersion),referencePath:De("string")};class Zr extends na{constructor(t,n,s){super(t,n,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new dt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function KS(r,t,...n){if(r=ze(r),L0("collection","path",t),r instanceof Wh){const s=ne.fromString(t,...n);return _E(s),new Zr(r,null,s)}{if(!(r instanceof Ne||r instanceof Zr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return _E(s),new Zr(r.firestore,null,s)}}function Fp(r,t,...n){if(r=ze(r),arguments.length===1&&(t=vp.newId()),L0("doc","path",t),r instanceof Wh){const s=ne.fromString(t,...n);return yE(s),new Ne(r,null,new dt(s))}{if(!(r instanceof Ne||r instanceof Zr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return yE(s),new Ne(r.firestore,r instanceof Zr?r.converter:null,new dt(s))}}const oT="AsyncQueue";class lT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CS(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&lt(oT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;lt(oT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",uT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=zp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:uT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function uT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class ho extends Wh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new lT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lT(t),this._firestoreClient=void 0,await t}}}function DO(r,t){const n=typeof r=="object"?r:HT(),s=typeof r=="string"?r:Th,o=up(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ow("firestore");u&&IO(o,...u)}return o}function YS(r){if(r._terminated)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NO(r),r._firestoreClient}function NO(r){const t=r._freezeSettings(),n=CO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new TO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(n){throw new ot(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hu(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:De("string",Un._jsonSchemaVersion),bytes:De("string")};class Gp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zh{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(hu(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class ti{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hu(t,ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ti(t.vectorValues);throw new ot(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:De("string",ti._jsonSchemaVersion),vectorValues:De("object")};const OO=/^__.*__$/;class MO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new us(t,this.data,this.fieldMask,n,this.fieldTransforms):new fu(t,this.data,n,this.fieldTransforms)}}class QS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new us(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function XS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class Kp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Kp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XS(this.dataSource)&&OO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class VO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(t)}createContext(t,n,s,o=!1){return new Kp({dataSource:t,methodName:n,targetDoc:s,path:Ye.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(r){const t=r._freezeSettings(),n=Xh(r._databaseId);return new VO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function xO(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);Xp("Data must be an object, but it was:",f,s);const m=$S(s,f);let p,y;if(u.merge)p=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=fo(t,S,n);if(!f.contains(b))throw new ot(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ZS(E,b)||E.push(b)}p=new Sn(E),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new MO(new fn(m),p,y)}class tf extends Zh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tf}}class Qp extends Zh{_toFieldTransform(t){return new _D(t.path,new Zl)}isEqual(t){return t instanceof Qp}}function LO(r,t,n,s){const o=r.createContext(1,t,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();ls(s,((p,y)=>{const E=WS(t,p,n);y=ze(y);const S=o.childContextForFieldPath(E);if(y instanceof tf)u.push(E);else{const b=gu(y,S);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Sn(u);return new QS(f,m,o.fieldTransforms)}function PO(r,t,n,s,o,u){const f=r.createContext(1,t,n),m=[fo(t,s,n)],p=[o];if(u.length%2!=0)throw new ot(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(fo(t,u[b])),p.push(u[b+1]);const y=[],E=fn.empty();for(let b=m.length-1;b>=0;--b)if(!ZS(y,m[b])){const B=m[b];let Y=p[b];Y=ze(Y);const Q=f.childContextForFieldPath(B);if(Y instanceof tf)y.push(B);else{const j=gu(Y,Q);j!=null&&(y.push(B),E.set(B,j))}}const S=new Sn(y);return new QS(E,S,f.fieldTransforms)}function kO(r,t,n,s=!1){return gu(n,r.createContext(s?4:3,t))}function gu(r,t){if(JS(r=ze(r)))return Xp("Unsupported field value:",t,r),$S(r,t);if(r instanceof Zh)return(function(s,o){if(!XS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=gu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:pS(o.serializer,s._byteString)};if(s instanceof Ne){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ti)return(function(f,m){const p=f instanceof ti?f.toArray():f;return{mapValue:{fields:{[F0]:{stringValue:G0},[Sh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Rp(m.serializer,E)}))}}}}}})(s,o);if(SS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Bh(s)}`)})(r,t)}function $S(r,t){const n={};return U0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(r,((s,o)=>{const u=gu(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function JS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Oi||r instanceof Un||r instanceof Ne||r instanceof Zh||r instanceof ti||SS(r))}function Xp(r,t,n){if(!JS(n)||!P0(n)){const s=Bh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function fo(r,t,n){if((t=ze(t))instanceof Gp)return t._internalPath;if(typeof t=="string")return WS(r,t);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const UO=new RegExp("[~\\*/\\[\\]]");function WS(r,t,n){if(t.search(UO)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gp(...t.split("."))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ot(W.INVALID_ARGUMENT,m+r+p)}function ZS(r,t){return r.some((n=>n.isEqual(t)))}class zO{convertValue(t,n="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ls(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Sh].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new ti(n)}convertGeoPoint(t){return new Oi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Hh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=es(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(TS(s),9688,{name:t});const o=new $l(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class tA extends zO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function Sm(){return new Qp("serverTimestamp")}const cT="@firebase/firestore",hT="4.12.0";function fT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class eA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(fo("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends eA{data(){return super.data()}}function jO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class nA extends $p{}function qO(r,t,...n){let s=[];t instanceof $p&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Wp)).length,m=u.filter((p=>p instanceof Jp)).length;if(f>1||f>0&&m>0)throw new ot(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jp extends nA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Jp(t,n,s)}_apply(t){const n=this._parse(t);return iA(t._query,n),new na(t.firestore,t.converter,Hm(t._query,n))}_parse(t){const n=Yp(t.firestore);return(function(u,f,m,p,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){mT(S,E);const Y=[];for(const Q of S)Y.push(dT(p,u,Q));b={arrayValue:{values:Y}}}else b=dT(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||mT(S,E),b=kO(m,f,S,E==="in"||E==="not-in");return Ie.create(y,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Wp extends $p{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Wp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)iA(f,p),f=Hm(f,p)})(t._query,n),new na(t.firestore,t.converter,Hm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends nA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ot(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,f)})(t._query,this._field,this._direction);return new na(t.firestore,t.converter,oD(t._query,n))}}function HO(r,t="asc"){const n=t,s=fo("orderBy",r);return Zp._create(s,n)}function dT(r,t,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new ot(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z0(t)&&n.indexOf("/")!==-1)throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!dt.isDocumentKey(s))throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return RE(r,new dt(s))}if(n instanceof Ne)return RE(r,n._key);throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function mT(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iA(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function FO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends eA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(fo("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:De("string",Fs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class ch extends Fs{data(t={}){return super.data(t)}}class ro{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:GO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:De("string",ro._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};function KO(r,t,n,...s){r=Wr(r,Ne);const o=Wr(r.firestore,ho),u=Yp(o);let f;return f=typeof(t=ze(t))=="string"||t instanceof Gp?PO(u,"updateDoc",r._key,t,n,s):LO(u,"updateDoc",r._key,t),tg(o,[f.toMutation(r._key,Zn.exists(!0))])}function YO(r){return tg(Wr(r.firestore,ho),[new Cp(r._key,Zn.none())])}function QO(r,t){const n=Wr(r.firestore,ho),s=Fp(r),o=FO(r.converter,t),u=Yp(r.firestore);return tg(n,[xO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then((()=>s))}function XO(r,...t){r=ze(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||fT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fT(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(r instanceof Ne)f=Wr(r.firestore,ho),m=wp(r._key.path),u={next:y=>{t[s]&&t[s]($O(f,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Wr(r,na);f=Wr(y.firestore,ho),m=y._query;const E=new tA(f);u={next:S=>{t[s]&&t[s](new ro(f,E,y,S))},error:t[s+1],complete:t[s+2]},jO(r._query)}const p=YS(f);return bO(p,m,o,u)}function tg(r,t){const n=YS(r);return wO(n,t)}function $O(r,t,n){const s=n.docs.get(t._key),o=new tA(r);return new Fs(r,o,t._key,s,new kl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){T2(yo),so(new Ks("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ho(new b2(s.getProvider("auth-internal")),new C2(f,s.getProvider("app-check-internal")),F2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),$r(cT,hT,t),$r(cT,hT,"esm2020")})();const JO={apiKey:"AIzaSyAxrCrNfeqemOXnHBiqsNtRl1ajazqZnvo",authDomain:"books-83578.firebaseapp.com",projectId:"books-83578",storageBucket:"books-83578.appspot.com",messagingSenderId:"684029119712",appId:"1:684029119712:web:726a3541cf150846fad485"},rA=qT(JO),Nh=y2(rA),Oh=DO(rA);function WO(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),f=iu(),m=async p=>{p.preventDefault();try{await rI(Nh,r,n),f("/dashboard")}catch(y){if(typeof y=="object"&&y&&"code"in y)switch(y.code){case"auth/user-not-found":case"auth/wrong-password":u("Invalid email or password.");break;case"auth/invalid-email":u("Invalid email format.");break;default:u("Login failed. Please try again."),console.error(y)}else u("Login failed. Please try again."),console.error(y)}};return tt.jsx("div",{className:"container",children:tt.jsxs("form",{onSubmit:m,className:"form",children:[tt.jsx("h2",{children:"Login"}),tt.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:p=>t(p.target.value)}),tt.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:p=>s(p.target.value)}),o&&tt.jsx("p",{style:{color:"#ef4444",textAlign:"center"},children:o}),tt.jsx("button",{type:"submit",children:"Login"}),tt.jsxs("p",{style:{marginTop:"10px",textAlign:"center"},children:["Don't have an account?"," ",tt.jsx(Lh,{to:"/register",style:{color:"#007bff",textDecoration:"underline"},children:"Register"})]})]})})}function ZO(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),p=iu(),y=async E=>{E.preventDefault(),u(""),m("");try{await iI(Nh,r.trim(),n),await g0(Nh),m("Account created successfully! Redirecting to login..."),setTimeout(()=>{p("/login")},2e3)}catch(S){switch(S.code){case"auth/email-already-in-use":u("This email is already registered. Try logging in.");break;case"auth/invalid-email":u("Invalid email format.");break;case"auth/weak-password":u("Password should be at least 6 characters.");break;default:u("Registration failed. Please try again."),console.error(S)}}};return tt.jsx("div",{className:"container",children:tt.jsxs("form",{onSubmit:y,className:"form",children:[tt.jsx("h2",{children:"Register"}),tt.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:E=>t(E.target.value),required:!0}),tt.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),required:!0}),tt.jsx("button",{type:"submit",children:"Register"}),o&&tt.jsx("p",{className:"error",children:o}),f&&tt.jsx("p",{className:"success",children:f}),tt.jsxs("p",{style:{marginTop:"10px"},children:["Already have an account?"," ",tt.jsx(Lh,{to:"/login",style:{color:"#007bff",textDecoration:"underline"},children:"Login"})]})]})})}const sA=F.createContext(void 0);function ef(){const r=F.useContext(sA);if(!r)throw new Error("useTheme must be used within ThemeProvider");return r}const tM=()=>{const[r,t]=F.useState(!1),{isDarkMode:n,toggleDarkMode:s}=ef(),o=iu(),u=async()=>{if(confirm("Are you sure you want to log out?"))try{await g0(Nh),o("/login")}catch(b){console.error("Error signing out: ",b),alert("Failed to log out. Please try again.")}},f=()=>{alert("Crud Library - Your Personal Wattpad-Style Library v1.0")},m={backgroundColor:n?"#0a0a0c":"#ffffff",borderBottom:n?"1px solid #27272a":"1px solid #e0e0e0",padding:"0.75rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100},p={fontSize:"1.25rem",fontWeight:"bold",background:"linear-gradient(to right, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.05em",cursor:"pointer"},y={color:n?"#a1a1aa":"#666666",textDecoration:"none",fontSize:"0.9rem",cursor:"pointer",position:"relative",padding:"10px 0"},E={position:"absolute",top:"100%",right:0,backgroundColor:n?"#121215":"#f5f5f5",border:n?"1px solid #27272a":"1px solid #d0d0d0",borderRadius:"12px",padding:"8px",display:r?"block":"none",minWidth:"160px",zIndex:200,boxShadow:n?"0 10px 25px rgba(0,0,0,0.5)":"0 10px 25px rgba(0,0,0,0.1)"},S={padding:"10px 12px",cursor:"pointer",color:n?"#e4e4e7":"#333333",fontSize:"0.85rem",borderRadius:"6px",transition:"background 0.2s",display:"flex",justifyContent:"space-between",alignItems:"center"};return tt.jsxs("nav",{style:m,children:[tt.jsx("div",{style:p,onClick:()=>o("/dashboard"),children:"Crud Library ."}),tt.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center"},children:[tt.jsx("span",{onClick:()=>o("/dashboard"),style:y,children:"Dashboard"}),tt.jsxs("div",{style:{...y,color:n?"#ffffff":"#000000"},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:["Settings",tt.jsxs("div",{style:E,children:[tt.jsxs("div",{style:S,onClick:s,onMouseEnter:b=>b.currentTarget.style.backgroundColor=n?"#27272a":"#e0e0e0",onMouseLeave:b=>b.currentTarget.style.backgroundColor="transparent",children:[tt.jsx("span",{children:"Dark Mode"}),tt.jsx("span",{style:{fontSize:"10px",color:n?"#3b82f6":"#71717a"},children:n?"ON":"OFF"})]}),tt.jsx("div",{style:S,onClick:f,onMouseEnter:b=>b.currentTarget.style.backgroundColor=n?"#27272a":"#e0e0e0",onMouseLeave:b=>b.currentTarget.style.backgroundColor="transparent",children:"About Us"}),tt.jsx("div",{style:{height:"1px",backgroundColor:n?"#27272a":"#d0d0d0",margin:"4px 0"}}),tt.jsx("div",{style:{...S,color:"#ef4444"},onClick:u,onMouseEnter:b=>b.currentTarget.style.backgroundColor=n?"#450a0a":"#ffe0e0",onMouseLeave:b=>b.currentTarget.style.backgroundColor="transparent",children:"Log out"})]})]})]})]})};function eM({selectedBook:r,clearSelection:t}){const[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),{isDarkMode:p}=ef();F.useEffect(()=>{const E=setTimeout(()=>{r?(s(r.Tittle),u(r.Author),m(r.Image)):(s(""),u(""),m(""))},0);return()=>clearTimeout(E)},[r]);const y=async E=>{if(E.preventDefault(),!n||!o||!f){alert("Please fill in the Title, Author, and Image URL");return}try{r?await KO(Fp(Oh,"books",r.id),{Tittle:n,Author:o,Image:f,Published:Sm()}):await QO(KS(Oh,"books"),{Tittle:n,Author:o,Image:f,Published:Sm(),createdAt:Sm()}),s(""),u(""),m(""),t()}catch(S){console.error("Error saving book: ",S)}};return tt.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"12px"},children:[tt.jsx("h3",{style:{margin:"0 0 10px 0",color:"#3b82f6"},children:r?"Edit Book":"Add New Book"}),tt.jsxs("div",{style:Am,children:[tt.jsx("label",{style:bm(p),children:"Book Title"}),tt.jsx("input",{style:wm(p),placeholder:"e.g. Harry Potter",value:n,onChange:E=>s(E.target.value)})]}),tt.jsxs("div",{style:Am,children:[tt.jsx("label",{style:bm(p),children:"Author Name"}),tt.jsx("input",{style:wm(p),placeholder:"e.g. J.K. Rowling",value:o,onChange:E=>u(E.target.value)})]}),tt.jsxs("div",{style:Am,children:[tt.jsx("label",{style:bm(p),children:"Cover Image URL"}),tt.jsx("input",{style:wm(p),placeholder:"Paste image link here...",value:f,onChange:E=>m(E.target.value)})]}),tt.jsx("button",{type:"submit",style:nM,children:r?"Save Changes":"Publish Book"}),tt.jsx("button",{type:"button",onClick:t,style:iM(p),children:"Maybe Later"})]})}const Am={display:"flex",flexDirection:"column",gap:"5px"},bm=r=>({fontSize:"0.75rem",color:r?"#71717a":"#666666",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"}),wm=r=>({width:"100%",padding:"12px",backgroundColor:r?"#09090b":"#f5f5f5",border:r?"1px solid #27272a":"1px solid #d0d0d0",borderRadius:"8px",color:r?"#fff":"#000",boxSizing:"border-box"}),nM={width:"100%",padding:"14px",backgroundColor:"#3b82f6",color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"1rem",cursor:"pointer",marginTop:"10px",boxShadow:"0 4px 10px rgba(59, 130, 246, 0.2)"},iM=r=>({width:"100%",padding:"10px",backgroundColor:"transparent",color:r?"#71717a":"#999999",border:"none",cursor:"pointer",fontSize:"0.9rem"});function rM({books:r,onEdit:t}){const{isDarkMode:n}=ef();return r.length?tt.jsx("div",{style:sM(),children:r.map(s=>tt.jsxs("div",{style:aM,children:[tt.jsxs("div",{style:oM(n),children:[tt.jsx("img",{src:s.Image,alt:s.Tittle,style:lM}),tt.jsx("button",{onClick:()=>t(s),style:uM,title:"Edit Book",children:""})]}),tt.jsxs("div",{style:cM,children:[tt.jsx("h4",{style:hM(n),children:s.Tittle}),tt.jsx("p",{style:fM(n),children:s.Author})]}),tt.jsx("button",{onClick:()=>confirm("Delete this book?")&&YO(Fp(Oh,"books",s.id)),style:dM(),children:"Remove from Library"})]},s.id))}):tt.jsx("p",{style:{opacity:.6,textAlign:"center",color:n?"#fff":"#000"},children:"No books found."})}const sM=()=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(clamp(120px, 25vw, 150px), 1fr))",gap:"clamp(16px, 4vw, 30px) clamp(12px, 3vw, 20px)",padding:"20px 0"}),aM={width:"100%",maxWidth:"150px"},oM=r=>({position:"relative",width:"100%",paddingBottom:"150%",borderRadius:"8px",overflow:"hidden",boxShadow:r?"0 8px 15px rgba(0,0,0,0.4)":"0 8px 15px rgba(0,0,0,0.15)",backgroundColor:r?"#1a1a1c":"#e8e8e8"}),lM={position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"},uM={position:"absolute",bottom:"10px",right:"10px",width:"35px",height:"35px",borderRadius:"50%",backgroundColor:"rgba(59, 130, 246, 0.9)",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",backdropFilter:"blur(4px)",transition:"transform 0.2s ease"},cM={marginTop:"12px"},hM=r=>({fontSize:"0.9rem",fontWeight:700,margin:"0 0 2px 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:r?"#fff":"#000"}),fM=r=>({fontSize:"0.75rem",color:r?"#a1a1aa":"#666666",margin:0}),dM=()=>({marginTop:"4px",color:"#ef4444",background:"none",border:"none",cursor:"pointer",fontSize:"0.7rem",textDecoration:"underline"}),mM="_floatingPanel_1nf3x_3",pM={floatingPanel:mM};function gM(){const[r,t]=F.useState([]),[n,s]=F.useState(!1),[o,u]=F.useState(null),{isDarkMode:f}=ef();F.useEffect(()=>{const y=qO(KS(Oh,"books"),HO("Tittle","asc")),E=XO(y,S=>{t(S.docs.map(b=>({id:b.id,...b.data()})))});return()=>E()},[]);const m=()=>{u(null),s(!0)},p=y=>{u(y),s(!0)};return tt.jsxs("div",{style:{backgroundColor:f?"#0a0a0c":"#ffffff",minHeight:"100vh",color:f?"#fff":"#000000"},children:[tt.jsx(tM,{}),tt.jsxs("main",{style:{maxWidth:"1200px",width:"100%",margin:"0 auto",padding:"clamp(12px, 5vw, 40px) clamp(8px, 4vw, 20px)",boxSizing:"border-box"},children:[tt.jsxs("header",{style:{marginBottom:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"},children:[tt.jsxs("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",fontWeight:700,color:f?"#fff":"#000000",margin:0,flex:"1 1 100%"},children:["Your ",tt.jsx("span",{style:{color:"#3b82f6"},children:"Library"})]}),tt.jsx("button",{onClick:m,style:{padding:"clamp(8px, 2vw, 12px) clamp(16px, 3vw, 24px)",backgroundColor:"#3b82f6",border:"none",borderRadius:"12px",color:"#fff",fontWeight:700,cursor:"pointer",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"+ new Book"})]}),tt.jsx(rM,{books:r,onEdit:p}),n&&tt.jsxs("div",{className:pM.floatingPanel,children:[tt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[tt.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:o?"Edit Book":"Add Book"}),tt.jsx("button",{onClick:()=>s(!1),style:{background:"none",border:"none",color:"#9ca3af",cursor:"pointer",fontSize:"1.5rem"},children:""})]}),tt.jsx(eM,{selectedBook:o,clearSelection:()=>{s(!1),u(null)}})]})]})]})}function yM(){return tt.jsxs("div",{children:[tt.jsx("h2",{children:"About Our Team"}),tt.jsx("p",{children:"We are a team of developers building a React + Firebase Library App."})]})}function _M({children:r}){const[t,n]=F.useState(!0),s=()=>{n(o=>!o)};return tt.jsx(sA.Provider,{value:{isDarkMode:t,toggleDarkMode:s},children:r})}function vM(){return tt.jsx(_M,{children:tt.jsx(dw,{children:tt.jsxs(H1,{children:[tt.jsx(Ya,{path:"/",element:tt.jsx(j1,{to:"/login"})}),tt.jsx(Ya,{path:"/login",element:tt.jsx(WO,{})}),tt.jsx(Ya,{path:"/register",element:tt.jsx(ZO,{})}),tt.jsx(Ya,{path:"/dashboard",element:tt.jsx(gM,{})}),tt.jsx(Ya,{path:"/about",element:tt.jsx(yM,{})})]})})})}Gb.createRoot(document.getElementById("root")).render(tt.jsx(F.StrictMode,{children:tt.jsx(vM,{})}));
