(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var tm={exports:{}},Il={};var Ev;function xb(){if(Ev)return Il;Ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var Tv;function Lb(){return Tv||(Tv=1,tm.exports=xb()),tm.exports}var et=Lb(),em={exports:{}},Tt={};var Sv;function Pb(){if(Sv)return Tt;Sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,j={};function tt(V,J,rt){this.props=V,this.context=J,this.refs=j,this.updater=rt||Y}tt.prototype.isReactComponent={},tt.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},tt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function at(){}at.prototype=tt.prototype;function st(V,J,rt){this.props=V,this.context=J,this.refs=j,this.updater=rt||Y}var Et=st.prototype=new at;Et.constructor=st,Q(Et,tt.prototype),Et.isPureReactComponent=!0;var It=Array.isArray;function wt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function D(V,J,rt){var ut=rt.ref;return{$$typeof:r,type:V,key:J,ref:ut!==void 0?ut:null,props:rt}}function M(V,J){return D(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(rt){return J[rt]})}var R=/\/+/g;function te(V,J){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):J.toString(36)}function Xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(wt,wt):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,J,rt,ut,_t){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var kt=!1;if(V===null)kt=!0;else switch(Rt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(V.$$typeof){case r:case t:kt=!0;break;case E:return kt=V._init,K(kt(V._payload),J,rt,ut,_t)}}if(kt)return _t=_t(V),kt=ut===""?"."+te(V,0):ut,It(_t)?(rt="",kt!=null&&(rt=kt.replace(R,"$&/")+"/"),K(_t,J,rt,"",function(cs){return cs})):_t!=null&&(O(_t)&&(_t=M(_t,rt+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+kt)),J.push(_t)),1;kt=0;var Oe=ut===""?".":ut+":";if(It(V))for(var ae=0;ae<V.length;ae++)ut=V[ae],Rt=Oe+te(ut,ae),kt+=K(ut,J,rt,Rt,_t);else if(ae=P(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(ut=V.next()).done;)ut=ut.value,Rt=Oe+te(ut,ae++),kt+=K(ut,J,rt,Rt,_t);else if(Rt==="object"){if(typeof V.then=="function")return K(Xt(V),J,rt,ut,_t);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return kt}function it(V,J,rt){if(V==null)return V;var ut=[],_t=0;return K(V,ut,"","",function(Rt){return J.call(rt,Rt,_t++)}),ut}function mt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(rt){(V._status===0||V._status===-1)&&(V._status=1,V._result=rt)},function(rt){(V._status===0||V._status===-1)&&(V._status=2,V._result=rt)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:it,forEach:function(V,J,rt){it(V,function(){J.apply(this,arguments)},rt)},count:function(V){var J=0;return it(V,function(){J++}),J},toArray:function(V){return it(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=Gt,Tt.Component=tt,Tt.Fragment=n,Tt.Profiler=o,Tt.PureComponent=st,Tt.StrictMode=s,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,J,rt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ut=Q({},V.props),_t=V.key;if(J!=null)for(Rt in J.key!==void 0&&(_t=""+J.key),J)!b.call(J,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&J.ref===void 0||(ut[Rt]=J[Rt]);var Rt=arguments.length-2;if(Rt===1)ut.children=rt;else if(1<Rt){for(var kt=Array(Rt),Oe=0;Oe<Rt;Oe++)kt[Oe]=arguments[Oe+2];ut.children=kt}return D(V.type,_t,ut)},Tt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Tt.createElement=function(V,J,rt){var ut,_t={},Rt=null;if(J!=null)for(ut in J.key!==void 0&&(Rt=""+J.key),J)b.call(J,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=J[ut]);var kt=arguments.length-2;if(kt===1)_t.children=rt;else if(1<kt){for(var Oe=Array(kt),ae=0;ae<kt;ae++)Oe[ae]=arguments[ae+2];_t.children=Oe}if(V&&V.defaultProps)for(ut in kt=V.defaultProps,kt)_t[ut]===void 0&&(_t[ut]=kt[ut]);return D(V,Rt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:m,render:V}},Tt.isValidElement=O,Tt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:mt}},Tt.memo=function(V,J){return{$$typeof:y,type:V,compare:J===void 0?null:J}},Tt.startTransition=function(V){var J=C.T,rt={};C.T=rt;try{var ut=V(),_t=C.S;_t!==null&&_t(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(wt,zt)}catch(Rt){zt(Rt)}finally{J!==null&&rt.types!==null&&(J.types=rt.types),C.T=J}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(V){return C.H.use(V)},Tt.useActionState=function(V,J,rt){return C.H.useActionState(V,J,rt)},Tt.useCallback=function(V,J){return C.H.useCallback(V,J)},Tt.useContext=function(V){return C.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,J){return C.H.useDeferredValue(V,J)},Tt.useEffect=function(V,J){return C.H.useEffect(V,J)},Tt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(V,J,rt){return C.H.useImperativeHandle(V,J,rt)},Tt.useInsertionEffect=function(V,J){return C.H.useInsertionEffect(V,J)},Tt.useLayoutEffect=function(V,J){return C.H.useLayoutEffect(V,J)},Tt.useMemo=function(V,J){return C.H.useMemo(V,J)},Tt.useOptimistic=function(V,J){return C.H.useOptimistic(V,J)},Tt.useReducer=function(V,J,rt){return C.H.useReducer(V,J,rt)},Tt.useRef=function(V){return C.H.useRef(V)},Tt.useState=function(V){return C.H.useState(V)},Tt.useSyncExternalStore=function(V,J,rt){return C.H.useSyncExternalStore(V,J,rt)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.4",Tt}var Av;function Zm(){return Av||(Av=1,em.exports=Pb()),em.exports}var F=Zm(),nm={exports:{}},Dl={},im={exports:{}},rm={};var bv;function kb(){return bv||(bv=1,(function(r){function t(K,it){var mt=K.length;K.push(it);t:for(;0<mt;){var zt=mt-1>>>1,Gt=K[zt];if(0<o(Gt,it))K[zt]=it,K[mt]=Gt,mt=zt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var it=K[0],mt=K.pop();if(mt!==it){K[0]=mt;t:for(var zt=0,Gt=K.length,V=Gt>>>1;zt<V;){var J=2*(zt+1)-1,rt=K[J],ut=J+1,_t=K[ut];if(0>o(rt,mt))ut<Gt&&0>o(_t,rt)?(K[zt]=_t,K[ut]=mt,zt=ut):(K[zt]=rt,K[J]=mt,zt=J);else if(ut<Gt&&0>o(_t,mt))K[zt]=_t,K[ut]=mt,zt=ut;else break t}}return it}function o(K,it){var mt=K.sortIndex-it.sortIndex;return mt!==0?mt:K.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,P=!1,Y=!1,Q=!1,j=!1,tt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Et(K){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=K)s(y),it.sortIndex=it.expirationTime,t(g,it);else break;it=n(y)}}function It(K){if(Q=!1,Et(K),!Y)if(n(g)!==null)Y=!0,wt||(wt=!0,L());else{var it=n(y);it!==null&&Xt(It,it.startTime-K)}}var wt=!1,C=-1,b=5,D=-1;function M(){return j?!0:!(r.unstable_now()-D<b)}function O(){if(j=!1,wt){var K=r.unstable_now();D=K;var it=!0;try{t:{Y=!1,Q&&(Q=!1,at(C),C=-1),P=!0;var mt=w;try{e:{for(Et(K),S=n(g);S!==null&&!(S.expirationTime>K&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,w=S.priorityLevel;var Gt=zt(S.expirationTime<=K);if(K=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Et(K),it=!0;break e}S===n(g)&&s(g),Et(K)}else s(g);S=n(g)}if(S!==null)it=!0;else{var V=n(y);V!==null&&Xt(It,V.startTime-K),it=!1}}break t}finally{S=null,w=mt,P=!1}it=void 0}}finally{it?L():wt=!1}}}var L;if(typeof st=="function")L=function(){st(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=O,L=function(){te.postMessage(null)}}else L=function(){tt(O,0)};function Xt(K,it){C=tt(function(){K(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var mt=w;w=it;try{return K()}finally{w=mt}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(K,it){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=w;w=K;try{return it()}finally{w=mt}},r.unstable_scheduleCallback=function(K,it,mt){var zt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,K){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,K={id:E++,callback:it,priorityLevel:K,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>zt?(K.sortIndex=mt,t(y,K),n(g)===null&&K===n(y)&&(Q?(at(C),C=-1):Q=!0,Xt(It,mt-zt))):(K.sortIndex=Gt,t(g,K),Y||P||(Y=!0,wt||(wt=!0,L()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var it=w;return function(){var mt=w;w=it;try{return K.apply(this,arguments)}finally{w=mt}}}})(rm)),rm}var wv;function Ub(){return wv||(wv=1,im.exports=kb()),im.exports}var sm={exports:{}},Xe={};var Rv;function zb(){if(Rv)return Xe;Rv=1;var r=Zm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Xe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Xe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Xe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Xe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Xe.requestFormReset=function(g){s.d.r(g)},Xe.unstable_batchedUpdates=function(g,y){return g(y)},Xe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var Cv;function Bb(){if(Cv)return sm.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=zb(),sm.exports}var Iv;function jb(){if(Iv)return Dl;Iv=1;var r=Ub(),t=Zm(),n=Bb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case tt:return"Profiler";case j:return"StrictMode";case It:return"Suspense";case wt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case st:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case Et:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:te(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return te(e(i))}catch{}}return null}var Xt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function J(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function rt(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ut=V(null),_t=V(null),Rt=V(null),kt=V(null);function Oe(e,i){switch(rt(Rt,i),rt(_t,e),rt(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?H_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=H_(i),e=F_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ut),rt(ut,e)}function ae(){J(ut),J(_t),J(Rt)}function cs(e){e.memoizedState!==null&&rt(kt,e);var i=ut.current,a=F_(i,e.type);i!==a&&(rt(_t,e),rt(ut,a))}function na(e){_t.current===e&&(J(ut),J(_t)),kt.current===e&&(J(kt),bl._currentValue=mt)}var ia,ra;function ii(e){if(ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ia=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+e+ra}var bo=!1;function hs(e,i){if(!e||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function wo(e,i){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return ii("Activity");default:return""}}function Ro(e){try{var i="",a=null;do i+=wo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,ef=r.unstable_shouldYield,yu=r.unstable_requestPaint,tn=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,Io=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,nf=r.unstable_LowPriority,_u=r.unstable_IdlePriority,vu=r.log,Eu=r.unstable_setDisableYieldValue,zn=null,Be=null;function bn(e){if(typeof vu=="function"&&Eu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(zn,e)}catch{}}var de=Math.clz32?Math.clz32:Su,Tu=Math.log,sa=Math.LN2;function Su(e){return e>>>=0,e===0?32:31-(Tu(e)/sa|0)|0}var ri=256,ds=262144,ve=4194304;function si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=si(l):(_&=T,_!==0?h=si(_):a||(a=T&~e,a!==0&&(h=si(a))))):(T=l&~d,T!==0?h=si(T):_!==0?h=si(_):a||(a=l&~e,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function rf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-de(a),$=1<<G;T[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&ps(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ps(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Do(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function No(e,i){var a=i&-i;return a=(a&42)!==0?1:gs(a),(a&(e.suspendedLanes|i))!==0?0:a}function gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:dv(e.type))}function jn(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Le="__reactProps$"+qn,li="__reactContainer$"+qn,aa="__reactEvents$"+qn,af="__reactListeners$"+qn,wu="__reactHandles$"+qn,Ru="__reactResources$"+qn,ui="__reactMarker$"+qn;function oa(e){delete e[Ee],delete e[Le],delete e[aa],delete e[af],delete e[wu]}function ci(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[li]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=J_(e);e!==null;){if(a=e[Ee])return a;e=J_(e)}return i}e=a,a=e.parentNode}return null}function wn(e){if(e=e[Ee]||e[li]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hi(e){var i=e[Ru];return i||(i=e[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(e){e[ui]=!0}var Oo=new Set,Vo={};function fi(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(Vo[e]=i,e=0;e<i.length;e++)Oo.add(i[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Lo={};function Cu(e){return _e.call(Lo,e)?!0:_e.call(xo,e)?!1:Mo.test(e)?Lo[e]=!0:(xo[e]=!0,!1)}function la(e,i,a){if(Cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=hr(e)?"checked":"value";e._valueTracker=Po(e,i,""+e[i])}}function ys(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=hr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _s=/[\n"\\]/g;function rn(e){return e.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ko(e,_,Pe(i)):a!=null?ko(e,_,Pe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Pe(T):e.removeAttribute("name")}function Iu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function ko(e,i,a){i==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Du(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function dr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function zo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(e,d,i[d])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Bo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,pi=null;function vs(e){var i=wn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ys(l)}break t;case"textarea":Du(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fr(e,!!a.multiple,i,!1)}}}var fa=!1;function gr(e,i,a){if(fa)return e(i,a);fa=!0;try{var l=e(i);return l}finally{if(fa=!1,(pr!==null||pi!==null)&&(bc(),pr&&(i=pr,e=pi,pi=pr=null,vs(i),e)))for(i=0;i<e.length;i++)vs(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Es=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Es=!1}var gi=null,jo=null,Ts=null;function qo(){if(Ts)return Ts;var e,i=jo,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ts=h.slice(e,1<l?1-l:void 0)}function Ss(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Gn(){return!1}function je(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=je(Pi),yr=S({},Pi,{view:0,detail:0}),Ho=je(yr),_r,da,_i,ma=S({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(_r=e.screenX-_i.screenX,da=e.screenY-_i.screenY):da=_r=0,_i=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:da}}),Fo=je(ma),As=S({},ma,{dataTransfer:0}),Vu=je(As),Mu=S({},yr,{relatedTarget:0}),bs=je(Mu),Go=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=je(Go),pa=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=je(pa),Pu=S({},Pi,{data:0}),vi=je(Pu),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=zu[e])?!!i[e]:!1}function vr(){return Bu}var en=S({},yr,{key:function(e){if(e.key){var i=ku[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=je(en),qu=S({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=je(qu),c=S({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),p=je(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),k=S({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(k),nt=S({},Pi,{newState:0,oldState:0}),At=je(nt),me=[9,13,27,32],qt=Cn&&"CompositionEvent"in window,oe=null;Cn&&"documentMode"in document&&(oe=document.documentMode);var In=Cn&&"TextEvent"in window&&!oe,Ei=Cn&&(!qt||oe&&8<oe&&11>=oe),Kn=" ",Yn=!1;function ws(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function rA(e,i){switch(e){case"compositionend":return ga(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Yn?null:e;default:return null}}function sA(e,i){if(ya)return e==="compositionend"||!qt&&ws(e,i)?(e=qo(),Ts=jo=gi=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!aA[e.type]:i==="textarea"}function eg(e,i,a,l){pr?pi?pi.push(l):pi=[l]:pr=l,i=Oc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ko=null,Yo=null;function oA(e){k_(e,0)}function Hu(e){var i=dn(e);if(ys(i))return e}function ng(e,i){if(e==="change")return i}var ig=!1;if(Cn){var of;if(Cn){var lf="oninput"in document;if(!lf){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),lf=typeof rg.oninput=="function"}of=lf}else of=!1;ig=of&&(!document.documentMode||9<document.documentMode)}function sg(){Ko&&(Ko.detachEvent("onpropertychange",ag),Yo=Ko=null)}function ag(e){if(e.propertyName==="value"&&Hu(Yo)){var i=[];eg(i,Yo,e,Rn(e)),gr(oA,i)}}function lA(e,i,a){e==="focusin"?(sg(),Ko=i,Yo=a,Ko.attachEvent("onpropertychange",ag)):e==="focusout"&&sg()}function uA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(Yo)}function cA(e,i){if(e==="click")return Hu(i)}function hA(e,i){if(e==="input"||e==="change")return Hu(i)}function fA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:fA;function Qo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,i){var a=og(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=og(a)}}function ug(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ug(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=mi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=mi(e.document)}return i}function uf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var dA=Cn&&"documentMode"in document&&11>=document.documentMode,_a=null,cf=null,Xo=null,hf=!1;function hg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||_a==null||_a!==mi(l)||(l=_a,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Qo(Xo,l)||(Xo=l,l=Oc(cf,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=_a)))}function Rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},ff={},fg={};Cn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Cs(e){if(ff[e])return ff[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in fg)return ff[e]=i[a];return e}var dg=Cs("animationend"),mg=Cs("animationiteration"),pg=Cs("animationstart"),mA=Cs("transitionrun"),pA=Cs("transitionstart"),gA=Cs("transitioncancel"),gg=Cs("transitionend"),yg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Qn(e,i){yg.set(e,i),fi(i,[e])}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Ea=0,mf=0;function Gu(){for(var e=Ea,i=mf=Ea=0;i<e;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&_g(a,h,d)}}function Ku(e,i,a,l){Dn[Ea++]=e,Dn[Ea++]=i,Dn[Ea++]=a,Dn[Ea++]=l,mf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function pf(e,i,a,l){return Ku(e,i,a,l),Yu(e)}function Is(e,i){return Ku(e,null,null,i),Yu(e)}function _g(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(e){if(50<yl)throw yl=0,bd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={};function yA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new yA(e,i,a,l)}function gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Qu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")gf(e)&&(_=1);else if(typeof e=="string")_=Sb(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=gn(31,a,i,h),e.elementType=D,e.lanes=d,e;case Q:return Ds(a.children,h,d,i);case j:_=8,h|=24;break;case tt:return e=gn(12,a,i,h|2),e.elementType=tt,e.lanes=d,e;case It:return e=gn(13,a,i,h),e.elementType=It,e.lanes=d,e;case wt:return e=gn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case at:_=9;break t;case Et:_=11;break t;case C:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ds(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function yf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Eg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function _f(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Tg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=Tg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ro(i)},Tg.set(e,i),i)}return{value:e,source:i,stack:Ro(i)}}var Sa=[],Aa=0,Xu=null,$o=0,On=[],Vn=0,Er=null,Ti=1,Si="";function zi(e,i){Sa[Aa++]=$o,Sa[Aa++]=Xu,Xu=e,$o=i}function Sg(e,i,a){On[Vn++]=Ti,On[Vn++]=Si,On[Vn++]=Er,Er=e;var l=Ti;e=Si;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-de(i)+h|a<<h|l,Si=d+e}else Ti=1<<d|a<<h|l,Si=e}function vf(e){e.return!==null&&(zi(e,1),Sg(e,1,0))}function Ef(e){for(;e===Xu;)Xu=Sa[--Aa],Sa[Aa]=null,$o=Sa[--Aa],Sa[Aa]=null;for(;e===Er;)Er=On[--Vn],On[Vn]=null,Si=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null}function Ag(e,i){On[Vn++]=Ti,On[Vn++]=Si,On[Vn++]=Er,Ti=i.id,Si=i.overflow,Er=e}var qe=null,ie=null,Pt=!1,Tr=null,Mn=!1,Tf=Error(s(519));function Sr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Nn(i,e)),Tf}function bg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[Le]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Nt(vl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||j_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||Sr(e,!0)}function wg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function ba(e){if(e!==qe)return!1;if(!Pt)return wg(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||zd(e.type,e.memoizedProps)),a=!a),a&&ie&&Sr(e),wg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=$_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=$_(e)}else i===27?(i=ie,Pr(e.type)?(e=Fd,Fd=null,ie=e):ie=i):ie=qe?Ln(e.stateNode.nextSibling):null;return!0}function Ns(){ie=qe=null,Pt=!1}function Sf(){var e=Tr;return e!==null&&(un===null?un=e:un.push.apply(un,e),Tr=null),e}function Jo(e){Tr===null?Tr=[e]:Tr.push(e)}var Af=V(null),Os=null,Bi=null;function Ar(e,i,a){rt(Af,i._currentValue),i._currentValue=a}function ji(e){e._currentValue=Af.current,J(Af)}function bf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function wf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),bf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),bf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wa(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&wf(i,e,a,l),i.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Os=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Rg(Os,e)}function Ju(e,i){return Os===null&&Vs(e),Rg(e,i)}function Rg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var _A=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},vA=r.unstable_scheduleCallback,EA=r.unstable_NormalPriority,Ae={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new _A,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&vA(EA,function(){e.controller.abort()})}var Zo=null,Cf=0,Ra=0,Ca=null;function TA(e,i){if(Zo===null){var a=Zo=[];Cf=0,Ra=Nd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cf++,i.then(Cg,Cg),i}function Cg(){if(--Cf===0&&Zo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Zo;Zo=null,Ra=0,Ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function SA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ig=K.S;K.S=function(e,i){h_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&TA(e,i),Ig!==null&&Ig(e,i)};var Ms=V(null);function If(){var e=Ms.current;return e!==null?e:ee.pooledCache}function Wu(e,i){i===null?rt(Ms,Ms.current):rt(Ms,i.pool)}function Dg(){var e=If();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ia=Error(s(460)),Df=Error(s(474)),Zu=Error(s(542)),tc={then:function(){}};function Ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Og(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Mg(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Mg(e),e}throw Ls=i,Ia}}function xs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Ia):a}}var Ls=null;function Vg(){if(Ls===null)throw Error(s(459));var e=Ls;return Ls=null,e}function Mg(e){if(e===Ia||e===Zu)throw Error(s(483))}var Da=null,tl=0;function ec(e){var i=tl;return tl+=1,Da===null&&(Da=[]),Og(Da,e,i)}function el(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function xg(e){function i(x,N){if(e){var U=x.deletions;U===null?(x.deletions=[N],x.flags|=16):U.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ui(x,N),x.index=0,x.sibling=null,x}function d(x,N,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<N?(x.flags|=67108866,N):U):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,U,X){return N===null||N.tag!==6?(N=yf(U,x.mode,X),N.return=x,N):(N=h(N,U),N.return=x,N)}function I(x,N,U,X){var ft=U.type;return ft===Q?G(x,N,U.props.children,X,U.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&xs(ft)===N.type)?(N=h(N,U.props),el(N,U),N.return=x,N):(N=Qu(U.type,U.key,U.props,null,x.mode,X),el(N,U),N.return=x,N)}function z(x,N,U,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=_f(U,x.mode,X),N.return=x,N):(N=h(N,U.children||[]),N.return=x,N)}function G(x,N,U,X,ft){return N===null||N.tag!==7?(N=Ds(U,x.mode,X,ft),N.return=x,N):(N=h(N,U),N.return=x,N)}function $(x,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=yf(""+N,x.mode,U),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return U=Qu(N.type,N.key,N.props,null,x.mode,U),el(U,N),U.return=x,U;case Y:return N=_f(N,x.mode,U),N.return=x,N;case b:return N=xs(N),$(x,N,U)}if(Xt(N)||L(N))return N=Ds(N,x.mode,U,null),N.return=x,N;if(typeof N.then=="function")return $(x,ec(N),U);if(N.$$typeof===st)return $(x,Ju(x,N),U);nc(x,N)}return null}function B(x,N,U,X){var ft=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:T(x,N,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===ft?I(x,N,U,X):null;case Y:return U.key===ft?z(x,N,U,X):null;case b:return U=xs(U),B(x,N,U,X)}if(Xt(U)||L(U))return ft!==null?null:G(x,N,U,X,null);if(typeof U.then=="function")return B(x,N,ec(U),X);if(U.$$typeof===st)return B(x,N,Ju(x,U),X);nc(x,U)}return null}function H(x,N,U,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return x=x.get(U)||null,T(N,x,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return x=x.get(X.key===null?U:X.key)||null,I(N,x,X,ft);case Y:return x=x.get(X.key===null?U:X.key)||null,z(N,x,X,ft);case b:return X=xs(X),H(x,N,U,X,ft)}if(Xt(X)||L(X))return x=x.get(U)||null,G(N,x,X,ft,null);if(typeof X.then=="function")return H(x,N,U,ec(X),ft);if(X.$$typeof===st)return H(x,N,U,Ju(N,X),ft);nc(N,X)}return null}function ct(x,N,U,X){for(var ft=null,Bt=null,ht=N,Ct=N=0,Vt=null;ht!==null&&Ct<U.length;Ct++){ht.index>Ct?(Vt=ht,ht=null):Vt=ht.sibling;var jt=B(x,ht,U[Ct],X);if(jt===null){ht===null&&(ht=Vt);break}e&&ht&&jt.alternate===null&&i(x,ht),N=d(jt,N,Ct),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ht=Vt}if(Ct===U.length)return a(x,ht),Pt&&zi(x,Ct),ft;if(ht===null){for(;Ct<U.length;Ct++)ht=$(x,U[Ct],X),ht!==null&&(N=d(ht,N,Ct),Bt===null?ft=ht:Bt.sibling=ht,Bt=ht);return Pt&&zi(x,Ct),ft}for(ht=l(ht);Ct<U.length;Ct++)Vt=H(ht,x,Ct,U[Ct],X),Vt!==null&&(e&&Vt.alternate!==null&&ht.delete(Vt.key===null?Ct:Vt.key),N=d(Vt,N,Ct),Bt===null?ft=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ht.forEach(function(jr){return i(x,jr)}),Pt&&zi(x,Ct),ft}function pt(x,N,U,X){if(U==null)throw Error(s(151));for(var ft=null,Bt=null,ht=N,Ct=N=0,Vt=null,jt=U.next();ht!==null&&!jt.done;Ct++,jt=U.next()){ht.index>Ct?(Vt=ht,ht=null):Vt=ht.sibling;var jr=B(x,ht,jt.value,X);if(jr===null){ht===null&&(ht=Vt);break}e&&ht&&jr.alternate===null&&i(x,ht),N=d(jr,N,Ct),Bt===null?ft=jr:Bt.sibling=jr,Bt=jr,ht=Vt}if(jt.done)return a(x,ht),Pt&&zi(x,Ct),ft;if(ht===null){for(;!jt.done;Ct++,jt=U.next())jt=$(x,jt.value,X),jt!==null&&(N=d(jt,N,Ct),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Pt&&zi(x,Ct),ft}for(ht=l(ht);!jt.done;Ct++,jt=U.next())jt=H(ht,x,Ct,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?Ct:jt.key),N=d(jt,N,Ct),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ht.forEach(function(Mb){return i(x,Mb)}),Pt&&zi(x,Ct),ft}function Zt(x,N,U,X){if(typeof U=="object"&&U!==null&&U.type===Q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:t:{for(var ft=U.key;N!==null;){if(N.key===ft){if(ft=U.type,ft===Q){if(N.tag===7){a(x,N.sibling),X=h(N,U.props.children),X.return=x,x=X;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&xs(ft)===N.type){a(x,N.sibling),X=h(N,U.props),el(X,U),X.return=x,x=X;break t}a(x,N);break}else i(x,N);N=N.sibling}U.type===Q?(X=Ds(U.props.children,x.mode,X,U.key),X.return=x,x=X):(X=Qu(U.type,U.key,U.props,null,x.mode,X),el(X,U),X.return=x,x=X)}return _(x);case Y:t:{for(ft=U.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(x,N.sibling),X=h(N,U.children||[]),X.return=x,x=X;break t}else{a(x,N);break}else i(x,N);N=N.sibling}X=_f(U,x.mode,X),X.return=x,x=X}return _(x);case b:return U=xs(U),Zt(x,N,U,X)}if(Xt(U))return ct(x,N,U,X);if(L(U)){if(ft=L(U),typeof ft!="function")throw Error(s(150));return U=ft.call(U),pt(x,N,U,X)}if(typeof U.then=="function")return Zt(x,N,ec(U),X);if(U.$$typeof===st)return Zt(x,N,Ju(x,U),X);nc(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(x,N.sibling),X=h(N,U),X.return=x,x=X):(a(x,N),X=yf(U,x.mode,X),X.return=x,x=X),_(x)):a(x,N)}return function(x,N,U,X){try{tl=0;var ft=Zt(x,N,U,X);return Da=null,ft}catch(ht){if(ht===Ia||ht===Zu)throw ht;var Bt=gn(29,ht,null,x.mode);return Bt.lanes=X,Bt.return=x,Bt}}}var Ps=xg(!0),Lg=xg(!1),br=!1;function Nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(e),_g(e,null,a),i}return Ku(e,l,i,a),Yu(e)}function nl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}function Vf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Mf=!1;function il(){if(Mf){var e=Ca;if(e!==null)throw e}}function rl(e,i,a,l){Mf=!1;var h=e.updateQueue;br=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=I))}if(d!==null){var $=h.baseState;_=0,G=z=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ot&B)===B:(l&B)===B){B!==0&&B===Ra&&(Mf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,pt=T;B=i;var Zt=a;switch(pt.tag){case 1:if(ct=pt.payload,typeof ct=="function"){$=ct.call(Zt,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=pt.payload,B=typeof ct=="function"?ct.call(Zt,$,B):ct,B==null)break t;$=S({},$,B);break t;case 2:br=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,I=$):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Or|=_,e.lanes=_,e.memoizedState=$}}function Pg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function kg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pg(a[e],i)}var Na=V(null),ic=V(0);function Ug(e,i){e=$i,rt(ic,e),rt(Na,i),$i=e|i.baseLanes}function xf(){rt(ic,$i),rt(Na,Na.current)}function Lf(){$i=ic.current,J(Na),J(ic)}var yn=V(null),xn=null;function Cr(e){var i=e.alternate;rt(pe,pe.current&1),rt(yn,e),xn===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(xn=e)}function Pf(e){rt(pe,pe.current),rt(yn,e),xn===null&&(xn=e)}function zg(e){e.tag===22?(rt(pe,pe.current),rt(yn,e),xn===null&&(xn=e)):Ir()}function Ir(){rt(pe,pe.current),rt(yn,yn.current)}function _n(e){J(yn),xn===e&&(xn=null),J(pe)}var pe=V(0);function rc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qd(a)||Hd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,bt=null,Jt=null,be=null,sc=!1,Oa=!1,ks=!1,ac=0,sl=0,Va=null,AA=0;function he(){throw Error(s(321))}function kf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Uf(e,i,a,l,h,d){return qi=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Sy:Zf,ks=!1,d=a(l,h),ks=!1,Oa&&(d=jg(i,a,l,h)),Bg(e),d}function Bg(e){K.H=ll;var i=Jt!==null&&Jt.next!==null;if(qi=0,be=Jt=bt=null,sc=!1,sl=0,Va=null,i)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&$u(e)&&(we=!0))}function jg(e,i,a,l){bt=e;var h=0;do{if(Oa&&(Va=null),sl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,be=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ay,d=i(a,l)}while(Oa);return d}function bA(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?al(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),i}function zf(){var e=ac!==0;return ac=0,e}function Bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function jf(e){if(sc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}sc=!1}qi=0,be=Jt=bt=null,Oa=!1,sl=ac=0,Va=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?bt.memoizedState=be=e:be=be.next=e,be}function ge(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=be===null?bt.memoizedState:be.next;if(i!==null)be=i,Jt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?bt.memoizedState=be=e:be=be.next=e}return be}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var i=sl;return sl+=1,Va===null&&(Va=[]),e=Og(Va,e,i),i=bt,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Sy:Zf),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===st)return He(e)}throw Error(s(438,String(e)))}function qf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function uc(e){var i=ge();return Hf(i,Jt,e)}function Hf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ot&$)===$:(qi&$)===$){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ra&&(G=!0);else if((qi&B)===B){z=z.next,B===Ra&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=$,_=d):I=I.next=$,bt.lanes|=B,Or|=B;$=z.action,ks&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,bt.lanes|=$,Or|=$;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!pn(d,e.memoizedState)&&(we=!0,G&&(a=Ca,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ff(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(we=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qg(e,i,a){var l=bt,h=ge(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,Yf(Gg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},Fg.bind(null,l,h,a,i),null),ee===null)throw Error(s(349));d||(qi&127)!==0||Hg(l,i,a)}return a}function Hg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=oc(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Fg(e,i,a,l){i.value=a,i.getSnapshot=l,Kg(i)&&Yg(e)}function Gg(e,i,a){return a(function(){Kg(i)&&Yg(e)})}function Kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Yg(e){var i=Is(e,2);i!==null&&cn(i,e,2)}function Gf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),ks){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Qg(e,i,a,l){return e.baseState=a,Hf(e,Jt,typeof l=="function"?l:Hi)}function wA(e,i,a,l,h){if(fc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Xg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Xg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),I=K.S;I!==null&&I(_,T),$g(e,i,T)}catch(z){Kf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),$g(e,i,d)}catch(z){Kf(e,i,z)}}function $g(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(e,i,l)},function(l){return Kf(e,i,l)}):Jg(e,i,a)}function Jg(e,i,a){i.status="fulfilled",i.value=a,Wg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Xg(e,a)))}function Kf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}e.action=null}function Wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Zg(e,i){return i}function ty(e,i){if(Pt){var a=ee.formState;if(a!==null){t:{var l=bt;if(Pt){if(ie){e:{for(var h=ie,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=Ln(h.nextSibling),l=h.data==="F!";break t}}Sr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=l,a=vy.bind(null,bt,l),l.dispatch=a,l=Gf(!1),d=Wf.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=wA.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ey(e){var i=ge();return ny(i,Jt,e)}function ny(e,i,a){if(i=Hf(e,i,Zg)[0],e=uc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(_){throw _===Ia?Zu:_}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Ma(9,{destroy:void 0},RA.bind(null,h,a),null)),[l,d,e]}function RA(e,i){e.action=i}function iy(e){var i=ge(),a=Jt;if(a!==null)return ny(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ma(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=oc(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ry(){return ge().memoizedState}function cc(e,i,a,l){var h=nn();bt.flags|=e,h.memoizedState=Ma(1|i,{destroy:void 0},a,l===void 0?null:l)}function hc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&kf(l,Jt.memoizedState.deps)?h.memoizedState=Ma(i,d,a,l):(bt.flags|=e,h.memoizedState=Ma(1|i,d,a,l))}function sy(e,i){cc(8390656,8,e,i)}function Yf(e,i){hc(2048,8,e,i)}function CA(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=oc(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function ay(e){var i=ge().memoizedState;return CA({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function oy(e,i){return hc(4,2,e,i)}function ly(e,i){return hc(4,4,e,i)}function uy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function cy(e,i,a){a=a!=null?a.concat([e]):null,hc(4,4,uy.bind(null,i,e),a)}function Qf(){}function hy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&kf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function fy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&kf(i,l[1]))return l[0];if(l=e(),ks){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function Xf(e,i,a){return a===void 0||(qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=d_(),bt.lanes|=e,Or|=e,a)}function dy(e,i,a,l){return pn(a,i)?a:Na.current!==null?(e=Xf(e,a,l),pn(e,i)||(we=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Ot&261930)===0?(we=!0,e.memoizedState=a):(e=d_(),bt.lanes|=e,Or|=e,i)}function my(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Wf(e,!1,i,a);try{var I=h(),z=K.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=SA(I,l);ol(e,i,G,Tn(e))}else ol(e,i,l,Tn(e))}catch($){ol(e,i,{then:function(){},status:"rejected",reason:$},Tn())}finally{it.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function IA(){}function $f(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=py(e).queue;my(e,h,i,mt,a===null?IA:function(){return gy(e),a(l)})}function py(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function gy(e){var i=py(e);i.next===null&&(i=e.alternate.memoizedState),ol(e,i.next.queue,{},Tn())}function Jf(){return He(bl)}function yy(){return ge().memoizedState}function _y(){return ge().memoizedState}function DA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=wr(a);var l=Rr(i,e,a);l!==null&&(cn(l,i,a),nl(l,i,a)),i={cache:Rf()},e.payload=i;return}i=i.return}}function NA(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(e)?Ey(i,a):(a=pf(e,i,a,l),a!==null&&(cn(a,e,l),Ty(a,i,l)))}function vy(e,i,a){var l=Tn();ol(e,i,a,l)}function ol(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(e))Ey(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return Ku(e,i,h,0),ee===null&&Gu(),!1}catch{}if(a=pf(e,i,h,l),a!==null)return cn(a,e,l),Ty(a,i,l),!0}return!1}function Wf(e,i,a,l){if(l={lane:2,revertLane:Nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(e)){if(i)throw Error(s(479))}else i=pf(e,a,l,2),i!==null&&cn(i,e,2)}function fc(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Ey(e,i){Oa=sc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ty(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}var ll={readContext:He,use:lc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};ll.useEffectEvent=he;var Sy={readContext:He,use:lc,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:sy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,cc(4194308,4,uy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return cc(4194308,4,e,i)},useInsertionEffect:function(e,i){cc(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(ks){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(ks){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=NA.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Gf(e);var i=e.queue,a=vy.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(e,i){var a=nn();return Xf(a,e,i)},useTransition:function(){var e=Gf(!1);return e=my.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(Ot&127)!==0||Hg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,sy(Gg.bind(null,l,d,e),[e]),l.flags|=2048,Ma(9,{destroy:void 0},Fg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=ee.identifierPrefix;if(Pt){var a=Si,l=Ti;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=AA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Jf,useFormState:ty,useActionState:ty,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Wf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:qf,useCacheRefresh:function(){return nn().memoizedState=DA.bind(null,bt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:He,use:lc,useCallback:hy,useContext:He,useEffect:Yf,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:uc,useRef:ry,useState:function(){return uc(Hi)},useDebugValue:Qf,useDeferredValue:function(e,i){var a=ge();return dy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=uc(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Jf,useFormState:ey,useActionState:ey,useOptimistic:function(e,i){var a=ge();return Qg(a,Jt,e,i)},useMemoCache:qf,useCacheRefresh:_y};Zf.useEffectEvent=ay;var Ay={readContext:He,use:lc,useCallback:hy,useContext:He,useEffect:Yf,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:Ff,useRef:ry,useState:function(){return Ff(Hi)},useDebugValue:Qf,useDeferredValue:function(e,i){var a=ge();return Jt===null?Xf(a,e,i):dy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Ff(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Jf,useFormState:iy,useActionState:iy,useOptimistic:function(e,i){var a=ge();return Jt!==null?Qg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:_y};Ay.useEffectEvent=ay;function td(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ed={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=wr(l);h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(cn(i,e,l),nl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=wr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(cn(i,e,l),nl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=wr(a);l.tag=2,i!=null&&(l.callback=i),i=Rr(e,l,a),i!==null&&(cn(i,e,a),nl(i,e,a))}};function by(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function wy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&ed.enqueueReplaceState(i,i.state,null)}function Us(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ry(e){Fu(e)}function Cy(e){console.error(e)}function Iy(e){Fu(e)}function dc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(e,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(e,i)},a}function Ny(e){return e=wr(e),e.tag=3,e}function Oy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Dy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Dy(i,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function OA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?wc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Cd(e,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Cd(e,l,h)),!1}throw Error(s(435,a.tag))}return Cd(e,l,h),wc(),!1}if(Pt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(e=Error(s(422),{cause:l}),Jo(Nn(e,a)))):(l!==Tf&&(i=Error(s(423),{cause:l}),Jo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=nd(e.stateNode,l,h),Vf(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),gl===null?gl=[d]:gl.push(d),fe!==4&&(fe=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=nd(a.stateNode,l,e),Vf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vr===null||!Vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),Oy(h,e,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var id=Error(s(461)),we=!1;function Fe(e,i,a,l){i.child=e===null?Lg(i,null,a,l):Ps(i,e.child,a,l)}function Vy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Vs(i),l=Uf(e,i,a,_,d,h),T=zf(),e!==null&&!we?(Bf(e,i,h),Fi(e,i,h)):(Pt&&T&&vf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function My(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xy(e,i,d,l,h)):(e=Qu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!hd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=Ui(d,l),e.ref=i.ref,e.return=i,i.child=e}function xy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(we=!1,i.pendingProps=l=d,hd(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return rd(e,i,a,l,h)}function Ly(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Py(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Ug(i,d):xf(),zg(i);else return l=i.lanes=536870912,Py(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wu(i,d.cachePool),Ug(i,d),Ir(),i.memoizedState=null):(e!==null&&Wu(i,null),xf(),Ir());return Fe(e,i,h,a),i.child}function ul(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Py(e,i,a,l,h){var d=If();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Wu(i,null),xf(),zg(i),e!==null&&wa(e,i,l,!0),i.childLanes=h,null}function mc(e,i){return i=gc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function ky(e,i,a){return Ps(i,e.child,null,a),e=mc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function VA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=mc(i,l),i.lanes=536870912,ul(null,e);if(Pf(i),(e=ie)?(e=X_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Eg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Sr(i);return i.lanes=536870912,null}return mc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Pf(i),h)if(i.flags&256)i.flags&=-257,i=ky(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(we||wa(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(l=ee,l!==null&&(_=No(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Is(e,_),cn(l,e,_),id;wc(),i=ky(e,i,a)}else e=d.treeContext,ie=Ln(_.nextSibling),qe=i,Pt=!0,Tr=null,Mn=!1,e!==null&&Ag(i,e),i=mc(i,l),i.flags|=4096;return i}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function pc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function rd(e,i,a,l,h){return Vs(i),a=Uf(e,i,a,l,void 0,h),l=zf(),e!==null&&!we?(Bf(e,i,h),Fi(e,i,h)):(Pt&&l&&vf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Uy(e,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=jg(i,l,a,h),Bg(e),l=zf(),e!==null&&!we?(Bf(e,i,d),Fi(e,i,d)):(Pt&&l&&vf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function zy(e,i,a,l,h){if(Vs(i),i.stateNode===null){var d=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Nf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):Ta,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(td(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ed.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Us(a,T);d.props=I;var z=d.context,G=a.contextType;_=Ta,typeof G=="object"&&G!==null&&(_=He(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&wy(i,d,l,_),br=!1;var B=i.memoizedState;d.state=B,rl(i,l,d,h),il(),z=i.memoizedState,T||B!==z||br?(typeof $=="function"&&(td(i,a,$,l),z=i.memoizedState),(I=br||by(i,a,I,l,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Of(e,i),_=i.memoizedProps,G=Us(a,_),d.props=G,$=i.pendingProps,B=d.context,z=a.contextType,I=Ta,typeof z=="object"&&z!==null&&(I=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||B!==I)&&wy(i,d,l,I),br=!1,B=i.memoizedState,d.state=B,rl(i,l,d,h),il();var H=i.memoizedState;_!==$||B!==H||br||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof T=="function"&&(td(i,a,T,l),H=i.memoizedState),(G=br||by(i,a,G,l,B,H,I)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ps(i,e.child,null,h),i.child=Ps(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Fi(e,i,h),e}function By(e,i,a,l){return Ns(),i.flags|=256,Fe(e,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(e){return{baseLanes:e,cachePool:Dg()}}function od(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function jy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Cr(i):Ir(),(e=ie)?(e=X_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Eg(e),a.return=i,i.child=a,qe=i,ie=null)):e=null,e===null)throw Sr(i);return Hd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ir(),h=i.mode,T=gc({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ad(a),l.childLanes=od(e,_,a),i.memoizedState=sd,ul(null,l)):(Cr(i),ld(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=ud(e,i,a)):i.memoizedState!==null?(Ir(),i.child=e.child,i.flags|=128,i=null):(Ir(),T=l.fallback,h=i.mode,l=gc({mode:"visible",children:l.children},h),T=Ds(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ps(i,e.child,null,a),l=i.child,l.memoizedState=ad(a),l.childLanes=od(e,_,a),i.memoizedState=sd,i=ul(null,l));else if(Cr(i),Hd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Jo({value:l,source:null,stack:null}),i=ud(e,i,a)}else if(we||wa(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=ee,_!==null&&(l=No(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Is(e,l),cn(_,e,l),id;qd(T)||wc(),i=ud(e,i,a)}else qd(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ie=Ln(T.nextSibling),qe=i,Pt=!0,Tr=null,Mn=!1,e!==null&&Ag(i,e),i=ld(i,l.children),i.flags|=4096);return i}return h?(Ir(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Ui(z,T):(T=Ds(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ul(null,l),l=i.child,T=e.child.memoizedState,T===null?T=ad(a):(h=T.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Dg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=od(e,_,a),i.memoizedState=sd,ul(e.child,l)):(Cr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function ld(e,i){return i=gc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function ud(e,i,a){return Ps(i,e.child,null,a),e=ld(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function qy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),bf(e.return,i,a)}function cd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Hy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,rt(pe,_),Fe(e,i,l,a),l=Pt?$o:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qy(e,a,i);else if(e.tag===19)qy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}cd(i,!0,a,null,d,l);break;case"together":cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function MA(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ar(i,Ae,e.memoizedState.cache),Ns();break;case 27:case 5:cs(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jy(e,i,a):(Cr(i),e=Fi(e,i,a),e!==null?e.sibling:null);Cr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(wa(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Hy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(pe,pe.current),l)break;return null;case 22:return i.lanes=0,Ly(e,i,a,i.pendingProps);case 24:Ar(i,Ae,e.memoizedState.cache)}return Fi(e,i,a)}function Fy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!hd(e,a)&&(i.flags&128)===0)return we=!1,MA(e,i,a);we=(e.flags&131072)!==0}else we=!1,Pt&&(i.flags&1048576)!==0&&Sg(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=xs(i.elementType),i.type=e,typeof e=="function")gf(e)?(l=Us(e,l),i.tag=1,i=zy(null,i,e,l,a)):(i.tag=0,i=rd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){i.tag=11,i=Vy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=My(null,i,e,l,a);break t}}throw i=te(e)||e,Error(s(306,i,""))}}return i;case 0:return rd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),zy(e,i,l,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Of(e,i),rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ar(i,Ae,l),l!==d.cache&&wf(i,[Ae],a,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=By(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),Jo(h),i=By(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Ln(e.firstChild),qe=i,Pt=!0,Tr=null,Mn=!0,a=Lg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ns(),l===h){i=Fi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return pc(e,i),e===null?(a=ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,l=Vc(Rt.current).createElement(a),l[Ee]=i,l[Le]=e,Ge(l,a,e),Te(l),i.stateNode=l):i.memoizedState=ev(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cs(i),e===null&&Pt&&(l=i.stateNode=W_(i.type,i.pendingProps,Rt.current),qe=i,Mn=!0,h=ie,Pr(i.type)?(Fd=h,ie=Ln(l.firstChild)):ie=h),Fe(e,i,i.pendingProps.children,a),pc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=l=ie)&&(l=ub(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qe=i,ie=Ln(l.firstChild),Mn=!1,h=!0):h=!1),h||Sr(i)),cs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,zd(h,d)?l=null:_!==null&&zd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Uf(e,i,bA,null,null,a),bl._currentValue=h),pc(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&Pt&&((e=a=ie)&&(a=cb(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qe=i,ie=null,e=!0):e=!1),e||Sr(i)),null;case 13:return jy(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ps(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return Vy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ar(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return My(e,i,i.type,i.pendingProps,a);case 15:return xy(e,i,i.type,i.pendingProps,a);case 19:return Hy(e,i,a);case 31:return VA(e,i,a);case 22:return Ly(e,i,a,i.pendingProps);case 24:return Vs(i),l=He(Ae),e===null?(h=If(),h===null&&(h=ee,d=Rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Nf(i),Ar(i,Ae,h)):((e.lanes&a)!==0&&(Of(e,i),rl(i,null,null,a),il()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,Ae,l)):(l=d.cache,Ar(i,Ae,l),l!==h.cache&&wf(i,[Ae],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function fd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(y_())e.flags|=8192;else throw Ls=tc,Df}else e.flags&=-16777217}function Gy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!av(i))if(y_())e.flags|=8192;else throw Ls=tc,Df}function yc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Au():536870912,e.lanes|=i,ka|=i)}function cl(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function xA(e,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ba(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Gi(i),d!==null?(re(i),Gy(i,d)):(re(i),fd(i,h,null,l,a))):d?d!==e.memoizedState?(Gi(i),re(i),Gy(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Gi(i),re(i),fd(i,h,e,l,a)),null;case 27:if(na(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=ut.current,ba(i)?bg(i):(e=W_(h,l,a),i.stateNode=e,Gi(i))}return re(i),null;case 5:if(na(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(d=ut.current,ba(i))bg(i);else{var _=Vc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ee]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Gi(i)}}return re(i),fd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,ba(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(e.nodeValue,a)),e||Sr(i,!0)}else e=Vc(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=ba(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=Sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),re(i),null);case 4:return ae(),e===null&&xd(i.stateNode.containerInfo),re(i),null;case 10:return ji(i.type),re(i),null;case 19:if(J(pe),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)cl(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=rc(e),d!==null){for(i.flags|=128,cl(l,!1),e=d.updateQueue,i.updateQueue=e,yc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)vg(a,e),a=a.sibling;return rt(pe,pe.current&1|2),Pt&&zi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>Sc&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304)}else{if(!h)if(e=rc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,yc(i,e),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return re(i),null}else 2*tn()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=pe.current,rt(pe,h?a&1|2:a&1),Pt&&zi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return _n(i),Lf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&J(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Ae),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function LA(e,i){switch(Ef(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ji(Ae),ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Ns()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ns()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(pe),null;case 4:return ae(),null;case 10:return ji(i.type),null;case 22:case 23:return _n(i),Lf(),e!==null&&J(Ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ji(Ae),null;case 25:return null;default:return null}}function Ky(e,i){switch(Ef(i),i.tag){case 3:ji(Ae),ae();break;case 26:case 27:case 5:na(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:J(pe);break;case 10:ji(i.type);break;case 22:case 23:_n(i),Lf(),e!==null&&J(Ms);break;case 24:ji(Ae)}}function hl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Qt(i,i.return,T)}}function Dr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(G){Qt(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){Qt(i,i.return,G)}}function Yy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{kg(i,a)}catch(l){Qt(e,e.return,l)}}}function Qy(e,i,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(e,i,l)}}function fl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Qt(e,i,h)}}function Ai(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,i,h)}else a.current=null}function Xy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function dd(e,i,a){try{var l=e.stateNode;ib(l,e.type,a,i),l[Le]=i}catch(h){Qt(e,e.return,h)}}function $y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function md(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(l!==4&&(l===27&&Pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(pd(e,i,a),e=e.sibling;e!==null;)pd(e,i,a),e=e.sibling}function _c(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_c(e,i,a),e=e.sibling;e!==null;)_c(e,i,a),e=e.sibling}function Jy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Ee]=e,i[Le]=a}catch(d){Qt(e,e.return,d)}}var Ki=!1,Re=!1,gd=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function PA(e,i){if(e=e.containerInfo,kd=zc,e=cg(e),uf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,G=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(I=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++G===l&&(I=_),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:e,selectionRange:a},zc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Us(a.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)jd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function Zy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),l&4&&hl(5,a);break;case 1:if(Qi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}l&64&&Yy(a),l&512&&fl(a,a.return);break;case 3:if(Qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{kg(e,i)}catch(_){Qt(a,a.return,_)}}break;case 27:i===null&&l&4&&Jy(a);case 26:case 5:Qi(e,a),i===null&&l&4&&Xy(a),l&512&&fl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),l&4&&n_(e,a);break;case 13:Qi(e,a),l&4&&i_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=GA.bind(null,a),hb(e,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){i=i!==null&&i.memoizedState!==null||Re,h=Ki;var d=Re;Ki=l,(Re=i)&&!d?Xi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Ki=h,Re=d}break;case 30:break;default:Qi(e,a)}}function t_(e){var i=e.alternate;i!==null&&(e.alternate=null,t_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&oa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Yi(e,i,a){for(a=a.child;a!==null;)e_(e,i,a),a=a.sibling}function e_(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||Ai(a,i),Yi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ai(a,i);var l=le,h=an;Pr(a.type)&&(le=a.stateNode,an=!1),Yi(e,i,a),Tl(a.stateNode),le=l,an=h;break;case 5:Re||Ai(a,i);case 6:if(l=le,h=an,le=null,Yi(e,i,a),le=l,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Qt(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){Qt(a,i,d)}break;case 18:le!==null&&(an?(e=le,Y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):Y_(le,a.stateNode));break;case 4:l=le,h=an,le=a.stateNode.containerInfo,an=!0,Yi(e,i,a),le=l,an=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),Re||Dr(4,a,i),Yi(e,i,a);break;case 1:Re||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qy(a,i,l)),Yi(e,i,a);break;case 21:Yi(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Yi(e,i,a),Re=l;break;default:Yi(e,i,a)}}function n_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){Qt(i,i.return,a)}}}function i_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){Qt(i,i.return,a)}}function kA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Wy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Wy),i;default:throw Error(s(435,e.tag))}}function vc(e,i){var a=kA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=KA.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Pr(T.type)){le=T.stateNode,an=!1;break t}break;case 5:le=T.stateNode,an=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(le===null)throw Error(s(160));e_(d,_,h),le=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)r_(i,e),i=i.sibling}var Xn=null;function r_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Dr(3,e,e.return),hl(3,e),Dr(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),l&64&&Ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Ee]=e,Te(d),l=d;break t;case"link":var _=rv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=rv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,Te(d),l=d}e.stateNode=l}else sv(h,e.type,e.stateNode);else e.stateNode=iv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sv(h,e.type,e.stateNode):iv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&dd(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),a!==null&&l&4&&dd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(Re||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ct){Qt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,dd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Qt(e,e.return,ct)}}break;case 3:if(Lc=null,h=Xn,Xn=Mc(i.containerInfo),on(i,e),Xn=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(i.containerInfo)}catch(ct){Qt(e,e.return,ct)}gd&&(gd=!1,s_(e));break;case 4:l=Xn,Xn=Mc(e.stateNode.containerInfo),on(i,e),ln(e),Xn=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Ki,G=Re;if(Ki=z||h,Re=G||I,on(i,e),Re=G,Ki=z,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Ki||Re||zs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Qt(I,I.return,ct)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){Qt(I,I.return,ct)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?Q_(H,!0):Q_(I.stateNode,!1)}catch(ct){Qt(I,I.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if($y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=md(e);_c(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=md(e);_c(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=md(e);pd(e,z,I);break;default:throw Error(s(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function s_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;s_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zy(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),zs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Qy(i,i.return,a),zs(i);break;case 27:Tl(i.stateNode);case 26:case 5:Ai(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}e=e.sibling}}function Xi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),hl(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Pg(I[h],T)}catch(z){Qt(l,l.return,z)}}a&&_&64&&Yy(d),fl(d,d.return);break;case 27:Jy(d);case 26:case 5:Xi(h,d,a),a&&l===null&&_&4&&Xy(d),fl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&_&4&&n_(h,d);break;case 13:Xi(h,d,a),a&&_&4&&i_(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),fl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function yd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function _d(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function $n(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a_(e,i,a,l),i=i.sibling}function a_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,l),h&2048&&hl(9,i);break;case 1:$n(e,i,a,l);break;case 3:$n(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){$n(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(i,i.return,I)}}else $n(e,i,a,l);break;case 31:$n(e,i,a,l);break;case 13:$n(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(e,i,a,l):dl(e,i):d._visibility&2?$n(e,i,a,l):(d._visibility|=2,xa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&yd(_,i);break;case 24:$n(e,i,a,l),h&2048&&_d(i.alternate,i);break;default:$n(e,i,a,l)}}function xa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:xa(d,_,T,I,h),hl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?xa(d,_,T,I,h):dl(d,_):(G._visibility|=2,xa(d,_,T,I,h)),h&&z&2048&&yd(_.alternate,_);break;case 24:xa(d,_,T,I,h),h&&z&2048&&_d(_.alternate,_);break;default:xa(d,_,T,I,h)}i=i.sibling}}function dl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&yd(l.alternate,l);break;case 24:dl(a,l),h&2048&&_d(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function La(e,i,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)o_(e,i,a),e=e.sibling}function o_(e,i,a){switch(e.tag){case 26:La(e,i,a),e.flags&ml&&e.memoizedState!==null&&Ab(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:La(e,i,a);break;case 3:case 4:var l=Xn;Xn=Mc(e.stateNode.containerInfo),La(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ml,ml=16777216,La(e,i,a),ml=l):La(e,i,a));break;default:La(e,i,a)}}function l_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function pl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,c_(l,e)}l_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)u_(e),e=e.sibling}function u_(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ec(e)):pl(e);break;default:pl(e)}}function Ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,c_(l,e)}l_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}e=e.sibling}}function c_(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(t_(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var UA={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},zA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ee=null,Dt=null,Ot=0,Yt=0,vn=null,Nr=!1,Pa=!1,vd=!1,$i=0,fe=0,Or=0,Bs=0,Ed=0,En=0,ka=0,gl=null,un=null,Td=!1,Tc=0,h_=0,Sc=1/0,Ac=null,Vr=null,Me=0,Mr=null,Ua=null,Ji=0,Sd=0,Ad=null,f_=null,yl=0,bd=null;function Tn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:K.T!==null?Nd():bu()}function d_(){if(En===0)if((Ot&536870912)===0||Pt){var e=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(za(e,0),xr(e,Ot,En,!1)),ms(e,a),((Ht&2)===0||e!==ee)&&(e===ee&&((Ht&2)===0&&(Bs|=a),fe===4&&xr(e,Ot,En,!1)),bi(e))}function m_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?qA(e,i):Rd(e,i,!0),d=l;do{if(h===0){Pa&&!l&&xr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!BA(a)){h=Rd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(za(T,_).flags|=256),_=Rd(T,_,!1),_!==2){if(vd&&!I){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){za(e,0),xr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xr(l,i,En,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tc+300-tn(),10<h)){if(xr(l,i,En,!Nr),ai(l,0,!0)!==0)break t;Ji=i,l.timeoutHandle=G_(p_.bind(null,l,a,un,Ac,Td,i,En,Bs,ka,Nr,d,"Throttled",-0,0),h);break t}p_(l,a,un,Ac,Td,i,En,Bs,ka,Nr,d,null,-0,0)}}break}while(!0);bi(e)}function p_(e,i,a,l,h,d,_,T,I,z,G,$,B,H){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},o_(i,d,$);var ct=(d&62914560)===d?Tc-tn():(d&4194048)===d?h_-tn():0;if(ct=bb($,ct),ct!==null){Ji=d,e.cancelPendingCommit=ct(A_.bind(null,e,i,d,a,l,h,_,T,I,G,$,null,B,H)),xr(e,d,_,!z);return}}A_(e,i,d,a,l,h,_,T,I)}function BA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(e,i,a,l){i&=~Ed,i&=~Bs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ps(e,a,i)}function bc(){return(Ht&6)===0?(_l(0),!1):!0}function wd(){if(Dt!==null){if(Yt===0)var e=Dt.return;else e=Dt,Bi=Os=null,jf(e),Da=null,tl=0,e=Dt;for(;e!==null;)Ky(e.alternate,e),e=e.return;Dt=null}}function za(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ab(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,wd(),ee=e,Dt=a=Ui(e.current,null),Ot=i,Yt=0,vn=null,Nr=!1,Pa=Bn(e,i),vd=!1,ka=En=Ed=Bs=Or=fe=0,un=gl=null,Td=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return $i=i,Gu(),a}function g_(e,i){bt=null,K.H=ll,i===Ia||i===Zu?(i=Vg(),Yt=3):i===Df?(i=Vg(),Yt=4):Yt=i===id?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Dt===null&&(fe=1,dc(e,Nn(i,e.current)))}function y_(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?xn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===xn:!1}function __(){var e=K.H;return K.H=ll,e===null?ll:e}function v_(){var e=K.A;return K.A=UA,e}function wc(){fe=4,Nr||(Ot&4194048)!==Ot&&yn.current!==null||(Pa=!0),(Or&134217727)===0&&(Bs&134217727)===0||ee===null||xr(ee,Ot,En,!1)}function Rd(e,i,a){var l=Ht;Ht|=2;var h=__(),d=v_();(ee!==e||Ot!==i)&&(Ac=null,za(e,i)),i=!1;var _=fe;t:do try{if(Yt!==0&&Dt!==null){var T=Dt,I=vn;switch(Yt){case 8:wd(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Yt;if(Yt=0,vn=null,Ba(e,T,I,z),a&&Pa){_=0;break t}break;default:z=Yt,Yt=0,vn=null,Ba(e,T,I,z)}}jA(),_=fe;break}catch(G){g_(e,G)}while(!0);return i&&e.shellSuspendCounter++,Bi=Os=null,Ht=l,K.H=h,K.A=d,Dt===null&&(ee=null,Ot=0,Gu()),_}function jA(){for(;Dt!==null;)E_(Dt)}function qA(e,i){var a=Ht;Ht|=2;var l=__(),h=v_();ee!==e||Ot!==i?(Ac=null,Sc=tn()+500,za(e,i)):Pa=Bn(e,i);t:do try{if(Yt!==0&&Dt!==null){i=Dt;var d=vn;e:switch(Yt){case 1:Yt=0,vn=null,Ba(e,i,d,1);break;case 2:case 9:if(Ng(d)){Yt=0,vn=null,T_(i);break}i=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),bi(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ng(d)?(Yt=0,vn=null,T_(i)):(Yt=0,vn=null,Ba(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?av(_):T.stateNode.complete){Yt=0,vn=null;var I=T.sibling;if(I!==null)Dt=I;else{var z=T.return;z!==null?(Dt=z,Rc(z)):Dt=null}break e}}Yt=0,vn=null,Ba(e,i,d,5);break;case 6:Yt=0,vn=null,Ba(e,i,d,6);break;case 8:wd(),fe=6;break t;default:throw Error(s(462))}}HA();break}catch(G){g_(e,G)}while(!0);return Bi=Os=null,K.H=l,K.A=h,Ht=a,Dt!==null?0:(ee=null,Ot=0,Gu(),fe)}function HA(){for(;Dt!==null&&!ef();)E_(Dt)}function E_(e){var i=Fy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,i===null?Rc(e):Dt=i}function T_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Uy(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=Uy(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:jf(i);default:Ky(a,i),i=Dt=vg(i,$i),i=Fy(a,i,$i)}e.memoizedProps=e.pendingProps,i===null?Rc(e):Dt=i}function Ba(e,i,a,l){Bi=Os=null,jf(i),Da=null,tl=0;var h=i.return;try{if(OA(e,h,i,a,Ot)){fe=1,dc(e,Nn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;fe=1,dc(e,Nn(a,e.current)),Dt=null;return}i.flags&32768?(Pt||l===1?e=!0:Pa||(Ot&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),S_(i,e)):Rc(i)}function Rc(e){var i=e;do{if((i.flags&32768)!==0){S_(i,Nr);return}e=i.return;var a=xA(i.alternate,i,$i);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);fe===0&&(fe=5)}function S_(e,i){do{var a=LA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);fe=6,Dt=null}function A_(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do Cc();while(Me!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=mf,sf(e,a,d,_,T,I),e===ee&&(Dt=ee=null,Ot=0),Ua=i,Mr=e,Ji=a,Sd=d,Ad=h,f_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(cr,function(){return I_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=it.p,it.p=2,_=Ht,Ht|=4;try{PA(e,i,a)}finally{Ht=_,it.p=h,K.T=l}}Me=1,b_(),w_(),R_()}}function b_(){if(Me===1){Me=0;var e=Mr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=it.p;it.p=2;var h=Ht;Ht|=4;try{r_(i,e);var d=Ud,_=cg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ug(T.ownerDocument.documentElement,T)){if(I!==null&&uf(T)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=T.textContent.length,pt=Math.min(I.start,ct),Zt=I.end===void 0?pt:Math.min(I.end,ct);!H.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var x=lg(T,pt),N=lg(T,Zt);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var U=$.createRange();U.setStart(x.node,x.offset),H.removeAllRanges(),pt>Zt?(H.addRange(U),H.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),H.addRange(U))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!kd,Ud=kd=null}finally{Ht=h,it.p=l,K.T=a}}e.current=i,Me=2}}function w_(){if(Me===2){Me=0;var e=Mr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=it.p;it.p=2;var h=Ht;Ht|=4;try{Zy(e,i.alternate,i)}finally{Ht=h,it.p=l,K.T=a}}Me=3}}function R_(){if(Me===4||Me===3){Me=0,yu();var e=Mr,i=Ua,a=Ji,l=f_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Ua=Mr=null,C_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vr=null),xi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=it.p,it.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,it.p=h}}(Ji&3)!==0&&Cc(),bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===bd?yl++:(yl=0,bd=e):yl=0,_l(0)}}function C_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function Cc(){return b_(),w_(),R_(),I_()}function I_(){if(Me!==5)return!1;var e=Mr,i=Sd;Sd=0;var a=xi(Ji),l=K.T,h=it.p;try{it.p=32>a?32:a,K.T=null,a=Ad,Ad=null;var d=Mr,_=Ji;if(Me=0,Ua=Mr=null,Ji=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,u_(d.current),a_(d,d.current,_,a),Ht=T,_l(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{it.p=h,K.T=l,C_(e,i)}}function D_(e,i,a){i=Nn(a,i),i=nd(e.stateNode,i,2),e=Rr(e,i,2),e!==null&&(ms(e,2),bi(e))}function Qt(e,i,a){if(e.tag===3)D_(e,e,a);else for(;i!==null;){if(i.tag===3){D_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){e=Nn(a,e),a=Ny(2),l=Rr(i,a,2),l!==null&&(Oy(a,l,i,e),ms(l,2),bi(l));break}}i=i.return}}function Cd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(vd=!0,h.add(a),e=FA.bind(null,e,i,a),i.then(e,e))}function FA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Ot&a)===a&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>tn()-Tc?(Ht&2)===0&&za(e,0):Ed|=a,ka===Ot&&(ka=0)),bi(e)}function N_(e,i){i===0&&(i=Au()),e=Is(e,i),e!==null&&(ms(e,i),bi(e))}function GA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),N_(e,a)}function KA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),N_(e,a)}function YA(e,i){return Ve(e,i)}var Ic=null,ja=null,Id=!1,Dc=!1,Dd=!1,Lr=0;function bi(e){e!==ja&&e.next===null&&(ja===null?Ic=ja=e:ja=ja.next=e),Dc=!0,Id||(Id=!0,XA())}function _l(e,i){if(!Dd&&Dc){Dd=!0;do for(var a=!1,l=Ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,x_(l,d))}else d=Ot,d=ai(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,x_(l,d));l=l.next}while(a);Dd=!1}}function QA(){O_()}function O_(){Dc=Id=!1;var e=0;Lr!==0&&sb()&&(e=Lr);for(var i=tn(),a=null,l=Ic;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(ja=a)):(a=l,(e!==0||(d&3)!==0)&&(Dc=!0)),l=h}Me!==0&&Me!==5||_l(e),Lr!==0&&(Lr=0)}function V_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=rf(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=ee,a=Ot,a=ai(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ur(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ur(l),xi(a)){case 2:case 8:a=Io;break;case 32:a=cr;break;case 268435456:a=_u;break;default:a=cr}return l=M_.bind(null,e),a=Ve(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ur(l),e.callbackPriority=2,e.callbackNode=null,2}function M_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cc()&&e.callbackNode!==a)return null;var l=Ot;return l=ai(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(m_(e,l,i),V_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?M_.bind(null,e):null)}function x_(e,i){if(Cc())return null;m_(e,i,!0)}function XA(){ob(function(){(Ht&6)!==0?Ve(Co,QA):O_()})}function Nd(){if(Lr===0){var e=Ra;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Lr=e}return Lr}function L_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function P_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function $A(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=L_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?L_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new yi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Lr!==0){var I=_?P_(h,_):new FormData(h);$f(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?P_(h,_):new FormData(h),$f(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Od=0;Od<df.length;Od++){var Vd=df[Od],JA=Vd.toLowerCase(),WA=Vd[0].toUpperCase()+Vd.slice(1);Qn(JA,"on"+WA)}Qn(dg,"onAnimationEnd"),Qn(mg,"onAnimationIteration"),Qn(pg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(mA,"onTransitionRun"),Qn(pA,"onTransitionStart"),Qn(gA,"onTransitionCancel"),Qn(gg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function k_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Fu(G)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Fu(G)}h.currentTarget=null,d=I}}}}function Nt(e,i){var a=i[aa];a===void 0&&(a=i[aa]=new Set);var l=e+"__bubble";a.has(l)||(U_(i,e,2,!1),a.add(l))}function Md(e,i,a){var l=0;i&&(l|=4),U_(a,e,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[Nc]){e[Nc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(ZA.has(a)||Md(a,!1,e),Md(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Md("selectionchange",!1,i))}}function U_(e,i,a,l){switch(dv(i)){case 2:var h=Cb;break;case 8:h=Ib;break;default:h=Xd}a=h.bind(null,i,a,e),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ld(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ci(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}gr(function(){var z=d,G=Rn(a),$=[];t:{var B=yg.get(e);if(B!==void 0){var H=yi,ct=e;switch(e){case"keypress":if(Ss(a)===0)break t;case"keydown":case"keyup":H=ju;break;case"focusin":ct="focus",H=bs;break;case"focusout":ct="blur",H=bs;break;case"beforeblur":case"afterblur":H=bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case dg:case mg:case pg:H=xu;break;case gg:H=A;break;case"scroll":case"scrollend":H=Ho;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=At}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var N=z,U;N!==null;){var X=N;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||x===null||(X=Fn(N,x),X!=null&&pt.push(El(N,X,U))),Zt)break;N=N.return}0<pt.length&&(B=new H(B,ct,null,a,G),$.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Bo&&(ct=a.relatedTarget||a.fromElement)&&(ci(ct)||ct[li]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=z,ct=ct?ci(ct):null,ct!==null&&(Zt=u(ct),pt=ct.tag,ct!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(pt=Fo,X="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=ki,X="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=H==null?B:dn(H),U=ct==null?B:dn(ct),B=new pt(X,N+"leave",H,a,G),B.target=Zt,B.relatedTarget=U,X=null,ci(G)===z&&(pt=new pt(x,N+"enter",ct,a,G),pt.target=U,pt.relatedTarget=Zt,X=pt),Zt=X,H&&ct)e:{for(pt=tb,x=H,N=ct,U=0,X=x;X;X=pt(X))U++;X=0;for(var ft=N;ft;ft=pt(ft))X++;for(;0<U-X;)x=pt(x),U--;for(;0<X-U;)N=pt(N),X--;for(;U--;){if(x===N||N!==null&&x===N.alternate){pt=x;break e}x=pt(x),N=pt(N)}pt=null}else pt=null;H!==null&&z_($,B,H,pt,!1),ct!==null&&Zt!==null&&z_($,Zt,ct,pt,!0)}}t:{if(B=z?dn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=ng;else if(tg(B))if(ig)Bt=hA;else{Bt=uA;var ht=lA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ca(z.elementType)&&(Bt=ng):Bt=cA;if(Bt&&(Bt=Bt(e,z))){eg($,Bt,a,G);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(ht=z?dn(z):window,e){case"focusin":(tg(ht)||ht.contentEditable==="true")&&(_a=ht,cf=z,Xo=null);break;case"focusout":Xo=cf=_a=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,hg($,a,G);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":hg($,a,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ya?ws(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ei&&a.locale!=="ko"&&(ya||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ya&&(Ct=qo()):(gi=G,jo="value"in gi?gi.value:gi.textContent,ya=!0)),ht=Oc(z,Vt),0<ht.length&&(Vt=new vi(Vt,e,null,a,G),$.push({event:Vt,listeners:ht}),Ct?Vt.data=Ct:(Ct=ga(a),Ct!==null&&(Vt.data=Ct)))),(Ct=In?rA(e,a):sA(e,a))&&(Vt=Oc(z,"onBeforeInput"),0<Vt.length&&(ht=new vi("onBeforeInput","beforeinput",null,a,G),$.push({event:ht,listeners:Vt}),ht.data=Ct)),$A($,e,z,a,G)}k_($,i)})}function El(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Oc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(e,a),h!=null&&l.unshift(El(e,h,d)),h=Fn(e,i),h!=null&&l.push(El(e,h,d))),e.tag===3)return l;e=e.return}return[]}function tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function z_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Fn(a,d),z!=null&&_.unshift(El(a,z,I))):h||(z=Fn(a,d),z!=null&&_.push(El(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var eb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function B_(e){return(typeof e=="string"?e:""+e).replace(eb,`
`).replace(nb,"")}function j_(e,i){return i=B_(i),B_(e)===i}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":zo(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ha(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ha(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ha(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),la(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":la(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,la(e,a,l))}}function Pd(e,i,a,l,h,d){switch(a){case"style":zo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):la(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,_,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,l,G,a,null)}}Iu(e,d,T,I,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Wt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?fr(e,!!l,i,!1):a!=null&&fr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(e,i,_,T,a,null)}dr(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(e,i,I,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)Nt(vl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,z,l,a,null)}return;default:if(ca(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Pd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,i,T,l,a,null))}function ib(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||Wt(e,i,H,null,l,$)}}for(var B in l){var H=l[B];if($=a[B],l.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==$&&Wt(e,i,B,H,l,$)}}ua(e,_,T,I,z,G,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Wt(e,i,h,d,l,I)}i=T,a=_,l=H,B!=null?fr(e,!!a,B,!1):!!l!=!!a&&(i!=null?fr(e,!!a,i,!0):fr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,_,h,l,d)}Du(e,B,H);return;case"option":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Wt(e,i,ct,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,i,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Wt(e,i,pt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Wt(e,i,z,B,l,H)}return;default:if(ca(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&Pd(e,i,Zt,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Pd(e,i,G,B,l,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Wt(e,i,x,null,l,B);for($ in l)B=l[$],H=a[$],!l.hasOwnProperty($)||B===H||B==null&&H==null||Wt(e,i,$,B,l,H)}function q_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&q_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var G=I.transferSize,$=I.initiatorType;G&&q_($)&&(I=I.responseEnd,_+=G*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kd=null,Ud=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function H_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function zd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function sb(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(e){return K_.resolve(null).then(e).catch(lb)}:G_;function lb(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function Y_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ga(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);Ga(i)}function Q_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function jd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ub(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ui])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function cb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function X_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function qd(e){return e.data==="$?"||e.data==="$~"}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Fd=null;function $_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function J_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function W_(e,i,a){switch(i=Vc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Tl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);oa(e)}var Pn=new Map,Z_=new Set;function Mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=it.d;it.d={f:fb,r:db,D:mb,C:pb,L:gb,m:yb,X:vb,S:_b,M:Eb};function fb(){var e=Wi.f(),i=bc();return e||i}function db(e){var i=wn(e);i!==null&&i.tag===5&&i.type==="form"?gy(i):Wi.r(e)}var qa=typeof document>"u"?null:document;function tv(e,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Z_.has(h)||(Z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Te(i),l.head.appendChild(i)))}}function mb(e){Wi.D(e),tv("dns-prefetch",e,null)}function pb(e,i){Wi.C(e,i),tv("preconnect",e,i)}function gb(e,i,a){Wi.L(e,i,a);var l=qa;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Ha(e);break;case"script":d=Fa(e)}Pn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Ge(i,"link",e),Te(i),l.head.appendChild(i)))}}function yb(e,i){Wi.m(e,i);var a=qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(e)}if(!Pn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Ge(l,"link",e),Te(l),a.head.appendChild(l)}}}function _b(e,i,a){Wi.S(e,i,a);var l=qa;if(l&&e){var h=hi(l).hoistableStyles,d=Ha(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Sl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&Gd(e,a);var I=_=l.createElement("link");Te(I),Ge(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function vb(e,i){Wi.X(e,i);var a=qa;if(a&&e){var l=hi(a).hoistableScripts,h=Fa(e),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(e=S({src:e,async:!0},i),(i=Pn.get(h))&&Kd(e,i),d=a.createElement("script"),Te(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Eb(e,i){Wi.M(e,i);var a=qa;if(a&&e){var l=hi(a).hoistableScripts,h=Fa(e),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Kd(e,i),d=a.createElement("script"),Te(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ev(e,i,a,l){var h=(h=Rt.current)?Mc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ha(a.href);var d=hi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Sl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||Tb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ha(e){return'href="'+rn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function nv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Tb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Te(i),e.head.appendChild(i))}function Fa(e){return'[src="'+rn(e)+'"]'}function Al(e){return"script[async]"+e}function iv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Te(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ge(l,"style",h),xc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ha(a.href);var d=e.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,Te(d),d;l=nv(a),(h=Pn.get(h))&&Gd(l,h),d=(e.ownerDocument||e).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ge(d,"link",l),i.state.loading|=4,xc(d,a.precedence,e),i.instance=d;case"script":return d=Fa(a.src),(h=e.querySelector(Al(d)))?(i.instance=h,Te(h),h):(l=a,(h=Pn.get(d))&&(l=S({},a),Kd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,e));return i.instance}function xc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Lc=null;function rv(e,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function sv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Sb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function av(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ab(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Pc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Te(d);return}d=i.ownerDocument||i,l=nv(l),(h=Pn.get(h))&&Gd(l,h),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Yd=0;function bb(e,i){return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Yd===0&&(Yd=62500*rb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Yd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kc=null;function Uc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kc=new Map,i.forEach(wb,e),kc=null,Pc.call(e))}function wb(e,i){if(!(i.state.loading&4)){var a=kc.get(e);if(a)var l=a.get(null);else{a=new Map,kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var bl={$$typeof:st,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Rb(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function ov(e,i,a,l,h,d,_,T,I,z,G,$){return e=new Rb(e,i,a,_,I,z,G,$,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=Rf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Nf(d),e}function lv(e){return e?(e=Ta,e):Ta}function uv(e,i,a,l,h,d){h=lv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(e,l,i),a!==null&&(cn(a,e,i),nl(a,e,i))}function cv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Qd(e,i){cv(e,i),(e=e.alternate)&&cv(e,i)}function hv(e){if(e.tag===13||e.tag===31){var i=Is(e,67108864);i!==null&&cn(i,e,67108864),Qd(e,67108864)}}function fv(e){if(e.tag===13||e.tag===31){var i=Tn();i=gs(i);var a=Is(e,i);a!==null&&cn(a,e,i),Qd(e,i)}}var zc=!0;function Cb(e,i,a,l){var h=K.T;K.T=null;var d=it.p;try{it.p=2,Xd(e,i,a,l)}finally{it.p=d,K.T=h}}function Ib(e,i,a,l){var h=K.T;K.T=null;var d=it.p;try{it.p=8,Xd(e,i,a,l)}finally{it.p=d,K.T=h}}function Xd(e,i,a,l){if(zc){var h=$d(l);if(h===null)Ld(e,i,l,Bc,a),mv(e,l);else if(Nb(h,e,i,a,l))l.stopPropagation();else if(mv(e,l),i&4&&-1<Db.indexOf(e)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-de(_);T.entanglements[1]|=I,_&=~I}bi(d),(Ht&6)===0&&(Sc=tn()+500,_l(0))}}break;case 31:case 13:T=Is(d,2),T!==null&&cn(T,d,2),bc(),Qd(d,2)}if(d=$d(l),d===null&&Ld(e,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(e,i,l,null,a)}}function $d(e){return e=Rn(e),Jd(e)}var Bc=null;function Jd(e){if(Bc=null,e=ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bc=e,null}function dv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case Co:return 2;case Io:return 8;case cr:case nf:return 32;case _u:return 268435456;default:return 32}default:return 32}}var Wd=!1,kr=null,Ur=null,zr=null,wl=new Map,Rl=new Map,Br=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(e,i){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&hv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Nb(e,i,a,l,h){switch(i){case"focusin":return kr=Cl(kr,e,i,a,l,h),!0;case"dragenter":return Ur=Cl(Ur,e,i,a,l,h),!0;case"mouseover":return zr=Cl(zr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Cl(wl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,e,i,a,l,h)),!0}return!1}function pv(e){var i=ci(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jn(e.priority,function(){fv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,jn(e.priority,function(){fv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=$d(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return i=wn(a),i!==null&&hv(i),e.blockedOn=a,!1;i.shift()}return!0}function gv(e,i,a){jc(e)&&a.delete(i)}function Ob(){Wd=!1,kr!==null&&jc(kr)&&(kr=null),Ur!==null&&jc(Ur)&&(Ur=null),zr!==null&&jc(zr)&&(zr=null),wl.forEach(gv),Rl.forEach(gv)}function qc(e,i){e.blockedOn===i&&(e.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ob)))}var Hc=null;function yv(e){Hc!==e&&(Hc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===e&&(Hc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var d=wn(a);d!==null&&(e.splice(i,3),i-=3,$f(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ga(e){function i(I){return qc(I,e)}kr!==null&&qc(kr,e),Ur!==null&&qc(Ur,e),zr!==null&&qc(zr,e),wl.forEach(i),Rl.forEach(i);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||yv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Jd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),yv(a)}}}function _v(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Zd(e){this._internalRoot=e}Fc.prototype.render=Zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();uv(a,l,e,i,null,null)},Fc.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;uv(e.current,2,null,e,null,null),bc(),i[li]=null}};function Fc(e){this._internalRoot=e}Fc.prototype.unstable_scheduleHydration=function(e){if(e){var i=bu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,e),a===0&&pv(e)}};var vv=t.version;if(vv!=="19.2.4")throw Error(s(527,vv,"19.2.4"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Vb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{zn=Gc.inject(Vb),Be=Gc}catch{}}return Dl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ry,d=Cy,_=Iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=ov(e,1,!1,null,null,a,l,null,h,d,_,_v),e[li]=i.current,xd(e),new Zd(i)},Dl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ry,_=Cy,T=Iy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=ov(e,1,!0,i,a??null,l,h,I,d,_,T,_v),i.context=lv(null),a=i.current,l=Tn(),l=gs(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,i.current.lanes=a,ms(i,a),bi(i),e[li]=i.current,xd(e),new Fc(i)},Dl.version="19.2.4",Dl}var Dv;function qb(){if(Dv)return nm.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nm.exports=jb(),nm.exports}var Hb=qb();var Nv="popstate";function Ov(r){return typeof r=="object"&&r!=null&&"pathname"in r&&"search"in r&&"hash"in r&&"state"in r&&"key"in r}function Fb(r={}){function t(s,o){let u=o.state?.masked,{pathname:f,search:m,hash:g}=u||s.location;return wm("",{pathname:f,search:m,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default",u?{pathname:s.location.pathname,search:s.location.search,hash:s.location.hash}:void 0)}function n(s,o){return typeof o=="string"?o:Fl(o)}return Kb(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ti(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gb(){return Math.random().toString(36).substring(2,10)}function Vv(r,t){return{usr:r.state,key:r.key,idx:t,masked:r.unstable_mask?{pathname:r.pathname,search:r.search,hash:r.hash}:void 0}}function wm(r,t,n=null,s,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?fo(t):t,state:n,key:t&&t.key||s||Gb(),unstable_mask:o}}function Fl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Kb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let j=E(),tt=j==null?null:j-y;y=j,g&&g({action:m,location:Q.location,delta:tt})}function w(j,tt){m="PUSH";let at=Ov(j)?j:wm(Q.location,j,tt);y=E()+1;let st=Vv(at,y),Et=Q.createHref(at.unstable_mask||at);try{f.pushState(st,"",Et)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(Et)}u&&g&&g({action:m,location:Q.location,delta:1})}function P(j,tt){m="REPLACE";let at=Ov(j)?j:wm(Q.location,j,tt);y=E();let st=Vv(at,y),Et=Q.createHref(at.unstable_mask||at);f.replaceState(st,"",Et),u&&g&&g({action:m,location:Q.location,delta:0})}function Y(j){return Yb(j)}let Q={get action(){return m},get location(){return r(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,S),g=j,()=>{o.removeEventListener(Nv,S),g=null}},createHref(j){return t(o,j)},createURL:Y,encodeLocation(j){let tt=Y(j);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:w,replace:P,go(j){return f.go(j)}};return Q}function Yb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Fl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mT(r,t,n="/"){return Qb(r,t,n,!1)}function Qb(r,t,n,s){let o=typeof t=="string"?fo(t):t,u=nr(o.pathname||"/",n);if(u==null)return null;let f=pT(r);Xb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=a1(u);m=r1(f[g],y,s)}return m}function pT(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ue(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ri([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),pT(f.children,t,w,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:n1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of gT(f.path))u(f,m,!0,g)}),t}function gT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=gT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Xb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:i1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $b=/^:[\w-]+$/,Jb=3,Wb=2,Zb=1,t1=10,e1=-2,Mv=r=>r==="*";function n1(r,t){let n=r.split("/"),s=n.length;return n.some(Mv)&&(s+=e1),t&&(s+=Wb),n.filter(o=>!Mv(o)).reduce((o,u)=>o+($b.test(u)?Jb:u===""?Zb:t1),s)}function i1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function r1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Ri([u,S.pathname]),pathnameBase:c1(Ri([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Ri([u,S.pathnameBase]))}return f}function hh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=s1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let Y=m[w]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const P=m[w];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function s1(r,t=!1,n=!0){ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g,y,E)=>{if(s.push({paramName:m,isOptional:g!=null}),g){let S=E.charAt(y+f.length);return S&&S!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function a1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function nr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function l1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=xv(n.substring(1),"/"):u=xv(n,t)):u=t,{pathname:u,search:h1(s),hash:f1(o)}}function xv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tp(r){let t=u1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Vh(r,t,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?t[S]:"/"}let g=l1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Ri=r=>r.join("/").replace(/\/\/+/g,"/"),c1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),h1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,f1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,d1=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function m1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function p1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _T(r,t){let n=r;if(typeof n!="string"||!o1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(yT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=nr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ti(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vT=["POST","PUT","PATCH","DELETE"];new Set(vT);var g1=["GET",...vT];new Set(g1);var mo=F.createContext(null);mo.displayName="DataRouter";var Mh=F.createContext(null);Mh.displayName="DataRouterState";var y1=F.createContext(!1),ET=F.createContext({isTransitioning:!1});ET.displayName="ViewTransition";var _1=F.createContext(new Map);_1.displayName="Fetchers";var v1=F.createContext(null);v1.displayName="Await";var An=F.createContext(null);An.displayName="Navigation";var nu=F.createContext(null);nu.displayName="Location";var Mi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var ep=F.createContext(null);ep.displayName="RouteError";var TT="REACT_ROUTER_ERROR",E1="REDIRECT",T1="ROUTE_ERROR_RESPONSE";function S1(r){if(r.startsWith(`${TT}:${E1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function A1(r){if(r.startsWith(`${TT}:${T1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new d1(t.status,t.statusText,t.data)}catch{}}function b1(r,{relative:t}={}){ue(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(An),{hash:o,pathname:u,search:f}=ru(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ri([n,u])),s.createHref({pathname:m,search:f,hash:o})}function po(){return F.useContext(nu)!=null}function or(){return ue(po(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(nu).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(r){F.useContext(An).static||F.useLayoutEffect(r)}function iu(){let{isDataRoute:r}=F.useContext(Mi);return r?k1():w1()}function w1(){ue(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(mo),{basename:t,navigator:n}=F.useContext(An),{matches:s}=F.useContext(Mi),{pathname:o}=or(),u=JSON.stringify(tp(s)),f=F.useRef(!1);return AT(()=>{f.current=!0}),F.useCallback((g,y={})=>{if(ti(f.current,ST),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Vh(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ri([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}F.createContext(null);function ru(r,{relative:t}={}){let{matches:n}=F.useContext(Mi),{pathname:s}=or(),o=JSON.stringify(tp(n));return F.useMemo(()=>Vh(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function R1(r,t){return bT(r,t)}function bT(r,t,n){ue(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(An),{matches:o}=F.useContext(Mi),u=o[o.length-1],f=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";RT(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=or(),S;if(t){let j=typeof t=="string"?fo(t):t;ue(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=E;let w=S.pathname||"/",P=w;if(g!=="/"){let j=g.replace(/^\//,"").split("/");P="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let Y=mT(r,{pathname:P});ti(y||Y!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ti(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=O1(Y&&Y.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Ri([g,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Ri([g,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n);return t&&Q?F.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...S},navigationType:"POP"}},Q):Q}function C1(){let r=P1(),t=m1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var I1=F.createElement(C1,null),wT=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=A1(r.digest);n&&(r=n)}let t=r!==void 0?F.createElement(Mi.Provider,{value:this.props.routeContext},F.createElement(ep.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(D1,{error:r},t):t}};wT.contextType=y1;var om=new WeakMap;function D1({children:r,error:t}){let{basename:n}=F.useContext(An);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=S1(t.digest);if(s){let o=om.get(t);if(o)throw o;let u=_T(s.location,n);if(yT&&!om.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw om.set(t,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function N1({routeContext:r,match:t,children:n}){let s=F.useContext(mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Mi.Provider,{value:r},n)}function O1(r,t=[],n){let s=n?.state;if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let o=r,u=s?.errors;if(u!=null){let E=o.findIndex(S=>S.route.id&&u?.[S.route.id]!==void 0);ue(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,E+1))}let f=!1,m=-1;if(n&&s){f=s.renderFallback;for(let E=0;E<o.length;E++){let S=o[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=E),S.route.id){let{loaderData:w,errors:P}=s,Y=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||Y){n.isStatic&&(f=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let g=n?.onError,y=s&&g?(E,S)=>{g(E,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:p1(s.matches),errorInfo:S})}:void 0;return o.reduceRight((E,S,w)=>{let P,Y=!1,Q=null,j=null;s&&(P=u&&S.route.id?u[S.route.id]:void 0,Q=S.route.errorElement||I1,f&&(m<0&&w===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,j=null):m===w&&(Y=!0,j=S.route.hydrateFallbackElement||null)));let tt=t.concat(o.slice(0,w+1)),at=()=>{let st;return P?st=Q:Y?st=j:S.route.Component?st=F.createElement(S.route.Component,null):S.route.element?st=S.route.element:st=E,F.createElement(N1,{match:S,routeContext:{outlet:E,matches:tt,isDataRoute:s!=null},children:st})};return s&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?F.createElement(wT,{location:s.location,revalidation:s.revalidation,component:Q,error:P,children:at(),routeContext:{outlet:null,matches:tt,isDataRoute:!0},onError:y}):at()},null)}function np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V1(r){let t=F.useContext(mo);return ue(t,np(r)),t}function M1(r){let t=F.useContext(Mh);return ue(t,np(r)),t}function x1(r){let t=F.useContext(Mi);return ue(t,np(r)),t}function ip(r){let t=x1(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function L1(){return ip("useRouteId")}function P1(){let r=F.useContext(ep),t=M1("useRouteError"),n=ip("useRouteError");return r!==void 0?r:t.errors?.[n]}function k1(){let{router:r}=V1("useNavigate"),t=ip("useNavigate"),n=F.useRef(!1);return AT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{ti(n.current,ST),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Lv={};function RT(r,t,n){!t&&!Lv[r]&&(Lv[r]=!0,ti(!1,n))}F.memo(U1);function U1({routes:r,future:t,state:n,isStatic:s,onError:o}){return bT(r,void 0,{state:n,isStatic:s,onError:o})}function z1({to:r,replace:t,state:n,relative:s}){ue(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(An);ti(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Mi),{pathname:f}=or(),m=iu(),g=Vh(r,tp(u),f,s==="path"),y=JSON.stringify(g);return F.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Ka(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ue(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=fo(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:P="default",unstable_mask:Y}=n,Q=F.useMemo(()=>{let j=nr(y,m);return j==null?null:{location:{pathname:j,search:E,hash:S,state:w,key:P,unstable_mask:Y},navigationType:s}},[m,y,E,S,w,P,s,Y]);return ti(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:F.createElement(An.Provider,{value:g},F.createElement(nu.Provider,{children:t,value:Q}))}function j1({children:r,location:t}){return R1(Rm(r),t)}function Rm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,Rm(s.props.children,u));return}ue(s.type===Ka,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var Zc="get",th="application/x-www-form-urlencoded";function xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function q1(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function H1(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function F1(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function G1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function K1(r,t){return r.button===0&&(!t||t==="_self")&&!G1(r)}var Kc=null;function Y1(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!Q1.has(r)?(ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function X1(r,t){let n,s,o,u,f;if(H1(r)){let m=r.getAttribute("action");s=m?nr(m,t):null,n=r.getAttribute("method")||Zc,o=lm(r.getAttribute("enctype"))||th,u=new FormData(r)}else if(q1(r)||F1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?nr(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||th,u=new FormData(m,r),!Y1()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=th,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function $1(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&nr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function J1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Z1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await J1(u,n);return f.links?f.links():[]}return[]}));return iw(s.flat(1).filter(W1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function tw(r,t,{includeHydrateFallback:n}={}){return ew(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ew(r){return[...new Set(r)]}function nw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function iw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(nw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function CT(){let r=F.useContext(mo);return rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function rw(){let r=F.useContext(Mh);return rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sp=F.createContext(void 0);sp.displayName="FrameworkContext";function IT(){let r=F.useContext(sp);return rp(r,"You must render this element inside a <HydratedRouter> element"),r}function sw(r,t){let n=F.useContext(sp),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=tt=>{tt.forEach(at=>{f(at.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Nl(m,P),onBlur:Nl(g,Y),onMouseEnter:Nl(y,P),onMouseLeave:Nl(E,Y),onTouchStart:Nl(S,P)}]:[!1,w,{}]}function Nl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function aw({page:r,...t}){let{router:n}=CT(),s=F.useMemo(()=>mT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(lw,{page:r,matches:s,...t}):null}function ow(r){let{manifest:t,routeModules:n}=IT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return Z1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function lw({page:r,matches:t,...n}){let s=or(),{future:o,manifest:u,routeModules:f}=IT(),{basename:m}=CT(),{loaderData:g,matches:y}=rw(),E=F.useMemo(()=>Pv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=F.useMemo(()=>Pv(r,t,y,u,s,"assets"),[r,t,y,u,s]),w=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,j=!1;if(t.forEach(at=>{let st=u.routes[at.route.id];!st||!st.hasLoader||(!E.some(Et=>Et.route.id===at.route.id)&&at.route.id in g&&f[at.route.id]?.shouldRevalidate||st.hasClientLoader?j=!0:Q.add(at.route.id))}),Q.size===0)return[];let tt=$1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return j&&Q.size>0&&tt.searchParams.set("_routes",t.filter(at=>Q.has(at.route.id)).map(at=>at.route.id).join(",")),[tt.pathname+tt.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),P=F.useMemo(()=>tw(S,u),[S,u]),Y=ow(S);return F.createElement(F.Fragment,null,w.map(Q=>F.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),P.map(Q=>F.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),Y.map(({key:Q,link:j})=>F.createElement("link",{key:Q,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function uw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cw&&(window.__reactRouterVersion="7.13.1")}catch{}function hw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=Fb({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),g=F.useCallback(y=>{n===!1?m(y):F.startTransition(()=>m(y))},[n]);return F.useLayoutEffect(()=>u.listen(g),[u,g]),F.createElement(B1,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lh=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,unstable_mask:m,state:g,target:y,to:E,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:P,...Y},Q){let{basename:j,navigator:tt,unstable_useTransitions:at}=F.useContext(An),st=typeof E=="string"&&DT.test(E),Et=_T(E,j);E=Et.to;let It=b1(E,{relative:o}),wt=or(),C=null;if(m){let Xt=Vh(m,[],wt.unstable_mask?wt.unstable_mask.pathname:"/",!0);j!=="/"&&(Xt.pathname=Xt.pathname==="/"?j:Ri([j,Xt.pathname])),C=tt.createHref(Xt)}let[b,D,M]=sw(s,Y),O=pw(E,{replace:f,unstable_mask:m,state:g,target:y,preventScrollReset:S,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:P,unstable_useTransitions:at});function L(Xt){t&&t(Xt),Xt.defaultPrevented||O(Xt)}let R=!(Et.isExternal||u),te=F.createElement("a",{...Y,...M,href:(R?C:void 0)||Et.absoluteURL||It,onClick:R?L:t,ref:uw(Q,D),target:y,"data-discover":!st&&n==="render"?"true":void 0});return b&&!st?F.createElement(F.Fragment,null,te,F.createElement(aw,{page:It})):te});Lh.displayName="Link";var fw=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=ru(f,{relative:y.relative}),w=or(),P=F.useContext(Mh),{navigator:Y,basename:Q}=F.useContext(An),j=P!=null&&Ew(S)&&m===!0,tt=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,at=w.pathname,st=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(at=at.toLowerCase(),st=st?st.toLowerCase():null,tt=tt.toLowerCase()),st&&Q&&(st=nr(st,Q)||st);const Et=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let It=at===tt||!o&&at.startsWith(tt)&&at.charAt(Et)==="/",wt=st!=null&&(st===tt||!o&&st.startsWith(tt)&&st.charAt(tt.length)==="/"),C={isActive:It,isPending:wt,isTransitioning:j},b=It?t:void 0,D;typeof s=="function"?D=s(C):D=[s,It?"active":null,wt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return F.createElement(Lh,{...y,"aria-current":b,className:D,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(C):g)});fw.displayName="NavLink";var dw=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},Y)=>{let{unstable_useTransitions:Q}=F.useContext(An),j=_w(),tt=vw(m,{relative:y}),at=f.toLowerCase()==="get"?"get":"post",st=typeof m=="string"&&DT.test(m),Et=It=>{if(g&&g(It),It.defaultPrevented)return;It.preventDefault();let wt=It.nativeEvent.submitter,C=wt?.getAttribute("formmethod")||f,b=()=>j(wt||It.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});Q&&n!==!1?F.startTransition(()=>b()):b()};return F.createElement("form",{ref:Y,method:at,action:tt,onSubmit:s?g:Et,...P,"data-discover":!st&&r==="render"?"true":void 0})});dw.displayName="Form";function mw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(r){let t=F.useContext(mo);return ue(t,mw(r)),t}function pw(r,{target:t,replace:n,unstable_mask:s,state:o,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let E=iu(),S=or(),w=ru(r,{relative:f});return F.useCallback(P=>{if(K1(P,t)){P.preventDefault();let Y=n!==void 0?n:Fl(S)===Fl(w),Q=()=>E(r,{replace:Y,unstable_mask:s,state:o,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:g});y?F.startTransition(()=>Q()):Q()}},[S,E,w,n,s,o,t,r,u,f,m,g,y])}var gw=0,yw=()=>`__${String(++gw)}__`;function _w(){let{router:r}=NT("useSubmit"),{basename:t}=F.useContext(An),n=L1(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=X1(u,t);if(f.navigate===!1){let w=f.fetcherKey||yw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function vw(r,{relative:t}={}){let{basename:n}=F.useContext(An),s=F.useContext(Mi);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:t})},f=or();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ri([n,u.pathname])),Fl(u)}function Ew(r,{relative:t}={}){let n=F.useContext(ET);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=NT("useViewTransitionState"),o=ru(r,{relative:t});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}const Tw=()=>{};var kv={};const OT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Sw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(w=64)),s.push(n[E],n[S],n[w],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(OT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Sw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Aw;const w=u<<2|m>>4;if(s.push(w),y!==64){const P=m<<4&240|y>>2;if(s.push(P),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bw=function(r){const t=OT(r);return VT.encodeByteArray(t,!0)},fh=function(r){return bw(r).replace(/\./g,"")},MT=function(r){try{return VT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rw=()=>ww().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof kv>"u")return;const r=kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Iw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&MT(r[1]);return t&&JSON.parse(t)},Ph=()=>{try{return Tw()||Rw()||Cw()||Iw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xT=r=>Ph()?.emulatorHosts?.[r],Dw=r=>{const t=xT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},LT=()=>Ph()?.config,PT=r=>Ph()?.[`_${r}`];class Nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kT(r){return(await fetch(r,{credentials:"include"})).ok}function Ow(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const Ul={};function Vw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?r.emulator.push(t):r.prod.push(t);return r}function Mw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Uv=!1;function UT(r,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Ul[r]===t||Ul[r]||Uv)return;Ul[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Vw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Uv=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Mw(s),P=n("text"),Y=document.getElementById(P)||document.createElement("span"),Q=n("learnmore"),j=document.getElementById(Q)||document.createElement("a"),tt=n("preprendIcon"),at=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const st=w.element;m(st),E(j,Q);const Et=y();g(at,tt),st.append(at,Y,j,Et),document.body.appendChild(st)}u?(Y.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Lw(){const r=Ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zw(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Bw(){return!Lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jw(){try{return typeof indexedDB=="object"}catch{return!1}}function qw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const Hw="FirebaseError";class lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Hw,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Fw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function Fw(r,t){return r.replace(Gw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Gw=/\{\$([^}]+)}/g;function Kw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(zv(u)&&zv(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}function au(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Vl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ml(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Yw(r,t){const n=new Qw(r,t);return n.subscribe.bind(n)}class Qw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Xw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}function ze(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class $w{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Nw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ww(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Jw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jw(r){return r===js?void 0:r}function Ww(r){return r.instantiationMode==="EAGER"}class Zw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $w(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const tR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},eR=Mt.INFO,nR={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},iR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=nR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ap{constructor(t){this.name=t,this._logLevel=eR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const rR=(r,t)=>t.some(n=>r instanceof n);let Bv,jv;function sR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,Cm=new WeakMap,BT=new WeakMap,cm=new WeakMap,op=new WeakMap;function oR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&zT.set(n,r)}).catch(()=>{}),op.set(t,r),t}function lR(r){if(Cm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,t)}let Im={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Cm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||BT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function uR(r){Im=r(Im)}function cR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(hm(this),t,...n);return BT.set(s,t.sort?t.sort():[t]),Qr(s)}:aR().includes(r)?function(...t){return r.apply(hm(this),t),Qr(zT.get(this))}:function(...t){return Qr(r.apply(hm(this),t))}}function hR(r){return typeof r=="function"?cR(r):(r instanceof IDBTransaction&&lR(r),rR(r,sR())?new Proxy(r,Im):r)}function Qr(r){if(r instanceof IDBRequest)return oR(r);if(cm.has(r))return cm.get(r);const t=hR(r);return t!==r&&(cm.set(r,t),op.set(t,r)),t}const hm=r=>op.get(r);function fR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const dR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],fm=new Map;function qv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fm.get(t))return fm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=mR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||dR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return fm.set(t,u),u}uR(r=>({...r,get:(t,n,s)=>qv(t,n)||r.get(t,n,s),has:(t,n)=>!!qv(t,n)||r.has(t,n)}));class pR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gR(r){return r.getComponent()?.type==="VERSION"}const Dm="@firebase/app",Hv="0.14.9";const ir=new ap("@firebase/app"),yR="@firebase/app-compat",_R="@firebase/analytics-compat",vR="@firebase/analytics",ER="@firebase/app-check-compat",TR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",bR="@firebase/database",wR="@firebase/data-connect",RR="@firebase/database-compat",CR="@firebase/functions",IR="@firebase/functions-compat",DR="@firebase/installations",NR="@firebase/installations-compat",OR="@firebase/messaging",VR="@firebase/messaging-compat",MR="@firebase/performance",xR="@firebase/performance-compat",LR="@firebase/remote-config",PR="@firebase/remote-config-compat",kR="@firebase/storage",UR="@firebase/storage-compat",zR="@firebase/firestore",BR="@firebase/ai",jR="@firebase/firestore-compat",qR="firebase",HR="12.10.0";const Nm="[DEFAULT]",FR={[Dm]:"fire-core",[yR]:"fire-core-compat",[vR]:"fire-analytics",[_R]:"fire-analytics-compat",[TR]:"fire-app-check",[ER]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[bR]:"fire-rtdb",[wR]:"fire-data-connect",[RR]:"fire-rtdb-compat",[CR]:"fire-fn",[IR]:"fire-fn-compat",[DR]:"fire-iid",[NR]:"fire-iid-compat",[OR]:"fire-fcm",[VR]:"fire-fcm-compat",[MR]:"fire-perf",[xR]:"fire-perf-compat",[LR]:"fire-rc",[PR]:"fire-rc-compat",[kR]:"fire-gcs",[UR]:"fire-gcs-compat",[zR]:"fire-fst",[jR]:"fire-fst-compat",[BR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};const dh=new Map,GR=new Map,Om=new Map;function Fv(r,t){try{r.container.addComponent(t)}catch(n){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const t=r.name;if(Om.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;Om.set(t,r);for(const n of dh.values())Fv(n,r);for(const n of GR.values())Fv(n,r);return!0}function lp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new su("app","Firebase",KR);class YR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const yo=HR;function jT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Nm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(n||(n=LT()),!n)throw Xr.create("no-options");const u=dh.get(o);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const f=new Zw(o);for(const g of Om.values())f.addComponent(g);const m=new YR(n,s,f);return dh.set(o,m),m}function qT(r=Nm){const t=dh.get(r);if(!t&&r===Nm&&LT())return jT();if(!t)throw Xr.create("no-app",{appName:r});return t}function $r(r,t,n){let s=FR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(f.join(" "));return}ro(new Ks(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const QR="firebase-heartbeat-database",XR=1,Gl="firebase-heartbeat-store";let dm=null;function HT(){return dm||(dm=fR(QR,XR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),dm}async function $R(r){try{const n=(await HT()).transaction(Gl),s=await n.objectStore(Gl).get(FT(r));return await n.done,s}catch(t){if(t instanceof lr)ir.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t?.message});ir.warn(n.message)}}}async function Gv(r,t){try{const s=(await HT()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(t,FT(r)),await s.done}catch(n){if(n instanceof lr)ir.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function FT(r){return`${r.name}!${r.options.appId}`}const JR=1024,WR=30;class ZR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>WR){const o=nC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kv(),{heartbeatsToSend:n,unsentEntries:s}=tC(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function tC(r,t=JR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jw()?qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $R(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Yv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function nC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function iC(r){ro(new Ks("platform-logger",t=>new pR(t),"PRIVATE")),ro(new Ks("heartbeat",t=>new ZR(t),"PRIVATE")),$r(Dm,Hv,r),$r(Dm,Hv,"esm2020"),$r("fire-js","")}iC("");function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rC=GT,KT=new su("auth","Firebase",GT());const mh=new ap("@firebase/auth");function sC(r,...t){mh.logLevel<=Mt.WARN&&mh.warn(`Auth (${yo}): ${r}`,...t)}function eh(r,...t){mh.logLevel<=Mt.ERROR&&mh.error(`Auth (${yo}): ${r}`,...t)}function ei(r,...t){throw up(r,...t)}function Ci(r,...t){return up(r,...t)}function YT(r,t,n){const s={...rC(),[t]:n};return new su("auth","Firebase",s).create(t,{appName:r.name})}function er(r){return YT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return KT.create(r,...t)}function gt(r,t,...n){if(!r)throw up(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw eh(t),new Error(t)}function rr(r,t){r||Zi(t)}function Vm(){return typeof self<"u"&&self.location?.href||""}function aC(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aC()||kw()||"connection"in navigator)?navigator.onLine:!0}function lC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ou{constructor(t,n){this.shortDelay=t,this.longDelay=n,rr(n>t,"Short delay should be less than long delay!"),this.isMobile=xw()||Uw()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cp(r,t){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class QT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hC=new ou(3e4,6e4);function as(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function os(r,t,n,s,o={}){return XT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return Pw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),QT.fetch()(await $T(r,r.config.apiHost,n,m),y)})}async function XT(r,t,n){r._canInitEmulator=!1;const s={...uC,...t};try{const o=new dC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw YT(r,E,y);ei(r,E)}}catch(o){if(o instanceof lr)throw o;ei(r,"network-request-failed",{message:String(o)})}}async function lu(r,t,n,s,o={}){const u=await os(r,t,n,s,o);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $T(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?cp(r.config,o):`${r.config.apiScheme}://${o}`;return cC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function fC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),hC.get())})}}function Yc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,t,s);return o.customData._tokenResponse=n,o}function Xv(r){return r!==void 0&&r.enterprise!==void 0}class mC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pC(r,t){return os(r,"GET","/v2/recaptchaConfig",as(r,t))}async function gC(r,t){return os(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return os(r,"POST","/v1/accounts:lookup",t)}function zl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yC(r,t=!1){const n=ze(r),s=await n.getIdToken(t),o=hp(s);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:zl(mm(o.auth_time)),issuedAtTime:zl(mm(o.iat)),expirationTime:zl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function hp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=MT(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $v(r){const t=hp(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Kl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof lr&&_C(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function _C({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const t=r.auth,n=await r.getIdToken(),s=await Kl(r,ph(t,{idToken:n}));gt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?JT(o.providerUserInfo):[],f=TC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function EC(r){const t=ze(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function JT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function SC(r,t){const n=await XT(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $T(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(g.credentials="include"),QT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AC(r,t){return os(r,"POST","/v2/accounts:revokeToken",as(r,t))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$v(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=$v(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await SC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function qr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yC(this,t)}reload(){return EC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Kl(this,gC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:Y,stsTokenManager:Q}=n;gt(S&&Q,t,"internal-error");const j=Wa.fromJSON(this.name,Q);gt(typeof S=="string",t,"internal-error"),qr(s,t.name),qr(o,t.name),gt(typeof w=="boolean",t,"internal-error"),gt(typeof P=="boolean",t,"internal-error"),qr(u,t.name),qr(f,t.name),qr(m,t.name),qr(g,t.name),qr(y,t.name),qr(E,t.name);const tt=new Jn({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(tt.providerData=Y.map(at=>({...at}))),g&&(tt._redirectEventId=g),tt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Wa;m.updateFromIdToken(s);const g=new Jn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Jv=new Map;function tr(r){rr(r instanceof Function,"Expected a class definition");let t=Jv.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Jv.set(r,t),t)}class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}WT.type="NONE";const Wv=WT;function nh(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ph(this.auth,{idToken:t}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(tr(Wv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||tr(Wv);const f=nh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await ph(t,{idToken:E}).catch(()=>{});if(!w)break;S=await Jn._fromGetAccountInfoResponse(t,w,E)}else S=Jn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Za(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,t,s))}}function Zv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(n0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(r0(t))return"Blackberry";if(s0(t))return"Webos";if(t0(t))return"Safari";if((t.includes("chrome/")||e0(t))&&!t.includes("edge/"))return"Chrome";if(i0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function ZT(r=Ze()){return/firefox\//i.test(r)}function t0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e0(r=Ze()){return/crios\//i.test(r)}function n0(r=Ze()){return/iemobile/i.test(r)}function i0(r=Ze()){return/android/i.test(r)}function r0(r=Ze()){return/blackberry/i.test(r)}function s0(r=Ze()){return/webos/i.test(r)}function fp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bC(r=Ze()){return fp(r)&&!!window.navigator?.standalone}function wC(){return zw()&&document.documentMode===10}function a0(r=Ze()){return fp(r)||i0(r)||s0(r)||r0(r)||/windows phone/i.test(r)||n0(r)}function o0(r,t=[]){let n;switch(r){case"Browser":n=Zv(Ze());break;case"Worker":n=`${Zv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}class RC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function CC(r,t={}){return os(r,"GET","/v2/passwordPolicy",as(r,t))}const IC=6;class DC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class NC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ph(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(er(this));const n=t?ze(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CC(this),n=new DC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new su("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&tr(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ws(r){return ze(r)}class tE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yw(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OC(r){kh=r}function l0(r){return kh.loadJS(r)}function VC(){return kh.recaptchaEnterpriseScript}function MC(){return kh.gapiScript}function xC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LC{constructor(){this.enterprise=new PC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class PC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const kC="recaptcha-enterprise",u0="NO_RECAPTCHA";class UC{constructor(t){this.type=kC,this.auth=Ws(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{pC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new mC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Xv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(u0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Xv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=VC();g.length!==0&&(g+=m),l0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function eE(r,t,n,s=!1,o=!1){const u=new UC(r);let f;if(o)f=u0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eE(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eE(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function zC(r,t){const n=lp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gs(u,t??{}))return o;ei(o,"already-initialized")}return n.initialize({options:t})}function BC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function jC(r,t,n){const s=Ws(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=c0(t),{host:f,port:m}=qC(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Gs(y,s.config.emulator)&&Gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,go(f)?(kT(`${u}//${f}${g}`),UT("Auth",!0)):HC()}function c0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function qC(r){const t=c0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:nE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:nE(f)}}}function nE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function HC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class dp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function FC(r,t){return os(r,"POST","/v1/accounts:signUp",t)}async function GC(r,t){return lu(r,"POST","/v1/accounts:signInWithPassword",as(r,t))}async function KC(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}async function YC(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}class Yl extends dp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Yl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Yl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,n,"signInWithPassword",GC);case"emailLink":return KC(t,{email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,s,"signUpPassword",FC);case"emailLink":return YC(t,{idToken:n,email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function to(r,t){return lu(r,"POST","/v1/accounts:signInWithIdp",as(r,t))}const QC="http://localhost";class Ys extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,to(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:QC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=au(n)}return t}}function XC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $C(r){const t=Vl(Ml(r)).link,n=t?Vl(Ml(t)).deep_link_id:null,s=Vl(Ml(r)).deep_link_id;return(s?Vl(Ml(s)).link:null)||s||n||t||r}class mp{constructor(t){const n=Vl(Ml(t)),s=n.apiKey??null,o=n.oobCode??null,u=XC(n.mode??null);gt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$C(t);try{return new mp(n)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Yl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=mp.parseLink(n);return gt(s,"argument-error"),Yl._fromEmailAndCode(t,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class uu extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends uu{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Fr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";class Gr extends uu{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Kr extends uu{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";async function JC(r,t){return lu(r,"POST","/v1/accounts:signUp",as(r,t))}class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Jn._fromIdTokenResponse(t,s,o),f=iE(s);return new Qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=iE(s);return new Qs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function iE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class yh extends lr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new yh(t,n,s,o)}}function f0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,t,s):u})}async function WC(r,t,n=!1){const s=await Kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function ZC(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await Kl(r,f0(s,o,t,r),n);gt(u.idToken,s,"internal-error");const f=hp(u.idToken);gt(f,s,"internal-error");const{sub:m}=f;return gt(r.uid===m,s,"user-mismatch"),Qs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}async function d0(r,t,n=!1){if(kn(r.app))return Promise.reject(er(r));const s="signIn",o=await f0(r,s,t),u=await Qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function tI(r,t){return d0(Ws(r),t)}async function m0(r){const t=Ws(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eI(r,t,n){if(kn(r.app))return Promise.reject(er(r));const s=Ws(r),f=await xm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&m0(r),g}),m=await Qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function nI(r,t,n){return kn(r.app)?Promise.reject(er(r)):tI(ze(r),_o.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&m0(r),s})}function iI(r,t,n,s){return ze(r).onIdTokenChanged(t,n,s)}function rI(r,t,n){return ze(r).beforeAuthStateChanged(t,n)}function p0(r){return ze(r).signOut()}const _h="__sak";class g0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sI=1e3,aI=10;class y0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);wC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,aI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}y0.type="LOCAL";const oI=y0;class _0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_0.type="SESSION";const v0=_0;function lI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Uh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await lI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];function pp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class uI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=pp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function cI(r){Ii().location.href=r}function E0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function hI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fI(){return navigator?.serviceWorker?.controller||null}function dI(){return E0()?self:null}const T0="firebaseLocalStorageDb",mI=1,vh="firebaseLocalStorage",S0="fbase_key";class cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,t){return r.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function pI(){const r=indexedDB.deleteDatabase(T0);return new cu(r).toPromise()}function Lm(){const r=indexedDB.open(T0,mI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vh,{keyPath:S0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vh)?t(s):(s.close(),await pI(),t(await Lm()))})})}async function rE(r,t,n){const s=zh(r,!0).put({[S0]:t,value:n});return new cu(s).toPromise()}async function gI(r,t){const n=zh(r,!1).get(t),s=await new cu(n).toPromise();return s===void 0?null:s.value}function sE(r,t){const n=zh(r,!0).delete(t);return new cu(n).toPromise()}const yI=800,_I=3;class A0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>_I)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(dI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hI(),!this.activeServiceWorker)return;this.sender=new uI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lm();return await rE(t,_h,"1"),await sE(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>gI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A0.type="LOCAL";const vI=A0;new ou(3e4,6e4);function EI(r,t){return t?tr(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gp extends dp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function TI(r){return d0(r.auth,new gp(r),r.bypassAuthState)}function SI(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),ZC(n,new gp(r),r.bypassAuthState)}async function AI(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),WC(n,new gp(r),r.bypassAuthState)}class b0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:ei(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bI=new ou(2e3,1e4);class Ja extends b0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bI.get())};t()}}Ja.currentPopupAction=null;const wI="pendingRedirect",ih=new Map;class RI extends b0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ih.get(this.auth._key());if(!t){try{const s=await CI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ih.set(this.auth._key(),t)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(r,t){const n=NI(t),s=DI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function II(r,t){ih.set(r._key(),t)}function DI(r){return tr(r._redirectPersistence)}function NI(r){return nh(wI,r.config.apiKey,r.name)}async function OI(r,t,n=!1){if(kn(r.app))return Promise.reject(er(r));const s=Ws(r),o=EI(s,t),f=await new RI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const VI=600*1e3;class MI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!w0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=VI&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(t))}saveEventToCache(t){this.cachedEventUids.add(aE(t)),this.lastProcessedEventTime=Date.now()}}function aE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function w0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function xI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w0(r);default:return!1}}async function LI(r,t={}){return os(r,"GET","/v1/projects",t)}const PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kI=/^https?/;async function UI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await LI(r);for(const n of t)try{if(zI(n))return}catch{}ei(r,"unauthorized-domain")}function zI(r){const t=Vm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!kI.test(n))return!1;if(PI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const BI=new ou(3e4,6e4);function oE(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jI(r){return new Promise((t,n)=>{function s(){oE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Ci(r,"network-request-failed"))},timeout:BI.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=xC("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},l0(`${MC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw rh=null,t})}let rh=null;function qI(r){return rh=rh||jI(r),rh}const HI=new ou(5e3,15e3),FI="__/auth/iframe",GI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QI(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?cp(t,GI):`https://${r.config.authDomain}/${FI}`,s={apiKey:t.apiKey,appName:r.name,v:yo},o=YI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function XI(r){const t=await qI(r),n=Ii().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:QI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},HI.get());function g(){Ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JI=500,WI=600,ZI="_blank",t2="http://localhost";class lE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(r,t,n,s=JI,o=WI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...$I,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=e0(y)?ZI:n),ZT(y)&&(t=t||t2,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[P,Y])=>`${w}${P}=${Y},`,"");if(bC(y)&&m!=="_self")return n2(t||"",m),new lE(null);const S=window.open(t||"",m,E);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new lE(S)}function n2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const i2="__/auth/handler",r2="emulator/auth/handler",s2=encodeURIComponent("fac");async function uE(r,t,n,s,o,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(t instanceof h0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Kw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof uu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${s2}=${encodeURIComponent(g)}`:"";return`${a2(r)}?${au(m).slice(1)}${y}`}function a2({config:r}){return r.emulator?cp(r,r2):`https://${r.authDomain}/${i2}`}const pm="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v0,this._completeRedirectFn=OI,this._overrideRedirectResult=II}async _openPopup(t,n,s,o){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uE(t,n,s,Vm(),o);return e2(t,u,pp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await uE(t,n,s,Vm(),o);return cI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await XI(t),s=new MI(t);return n.register("authEvent",o=>(gt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pm,{type:pm},o=>{const u=o?.[0]?.[pm];u!==void 0&&n(!!u),ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return a0()||t0()||fp()}}const l2=o2;var cE="@firebase/auth",hE="1.12.1";class u2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(r){ro(new Ks("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(r)},y=new NC(s,o,u,g);return BC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ro(new Ks("auth-internal",t=>{const n=Ws(t.getProvider("auth").getImmediate());return(s=>new u2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(cE,hE,c2(r)),$r(cE,hE,"esm2020")}const f2=300,d2=PT("authIdTokenMaxAge")||f2;let fE=null;const m2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>d2)return;const o=n?.token;fE!==o&&(fE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function p2(r=qT()){const t=lp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=zC(r,{popupRedirectResolver:l2,persistence:[vI,oI,v0]}),s=PT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=m2(u.toString());rI(n,f,()=>f(n.currentUser)),iI(n,m=>f(m))}}const o=xT("auth");return o&&jC(n,`http://${o}`),n}function g2(){return document.getElementsByTagName("head")?.[0]??document}OC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",g2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var y2="firebase",_2="12.10.0";$r(y2,_2,"app");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,R0;(function(){var r;function t(C,b){function D(){}D.prototype=b.prototype,C.F=b.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(M,O,L){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return b.prototype[O].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,D){D||(D=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(O=0;O<16;++O)M[O]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=C.g[0],D=C.g[1],O=C.g[2];let L=C.g[3],R;R=b+(L^D&(O^L))+M[0]+3614090360&4294967295,b=D+(R<<7&4294967295|R>>>25),R=L+(O^b&(D^O))+M[1]+3905402710&4294967295,L=b+(R<<12&4294967295|R>>>20),R=O+(D^L&(b^D))+M[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(b^O&(L^b))+M[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=b+(L^D&(O^L))+M[4]+4118548399&4294967295,b=D+(R<<7&4294967295|R>>>25),R=L+(O^b&(D^O))+M[5]+1200080426&4294967295,L=b+(R<<12&4294967295|R>>>20),R=O+(D^L&(b^D))+M[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(b^O&(L^b))+M[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=b+(L^D&(O^L))+M[8]+1770035416&4294967295,b=D+(R<<7&4294967295|R>>>25),R=L+(O^b&(D^O))+M[9]+2336552879&4294967295,L=b+(R<<12&4294967295|R>>>20),R=O+(D^L&(b^D))+M[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(b^O&(L^b))+M[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=b+(L^D&(O^L))+M[12]+1804603682&4294967295,b=D+(R<<7&4294967295|R>>>25),R=L+(O^b&(D^O))+M[13]+4254626195&4294967295,L=b+(R<<12&4294967295|R>>>20),R=O+(D^L&(b^D))+M[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=D+(b^O&(L^b))+M[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=b+(O^L&(D^O))+M[1]+4129170786&4294967295,b=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(b^D))+M[6]+3225465664&4294967295,L=b+(R<<9&4294967295|R>>>23),R=O+(b^D&(L^b))+M[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^b&(O^L))+M[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=b+(O^L&(D^O))+M[5]+3593408605&4294967295,b=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(b^D))+M[10]+38016083&4294967295,L=b+(R<<9&4294967295|R>>>23),R=O+(b^D&(L^b))+M[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^b&(O^L))+M[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=b+(O^L&(D^O))+M[9]+568446438&4294967295,b=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(b^D))+M[14]+3275163606&4294967295,L=b+(R<<9&4294967295|R>>>23),R=O+(b^D&(L^b))+M[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^b&(O^L))+M[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=b+(O^L&(D^O))+M[13]+2850285829&4294967295,b=D+(R<<5&4294967295|R>>>27),R=L+(D^O&(b^D))+M[2]+4243563512&4294967295,L=b+(R<<9&4294967295|R>>>23),R=O+(b^D&(L^b))+M[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=D+(L^b&(O^L))+M[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=b+(D^O^L)+M[5]+4294588738&4294967295,b=D+(R<<4&4294967295|R>>>28),R=L+(b^D^O)+M[8]+2272392833&4294967295,L=b+(R<<11&4294967295|R>>>21),R=O+(L^b^D)+M[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^b)+M[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=b+(D^O^L)+M[1]+2763975236&4294967295,b=D+(R<<4&4294967295|R>>>28),R=L+(b^D^O)+M[4]+1272893353&4294967295,L=b+(R<<11&4294967295|R>>>21),R=O+(L^b^D)+M[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^b)+M[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=b+(D^O^L)+M[13]+681279174&4294967295,b=D+(R<<4&4294967295|R>>>28),R=L+(b^D^O)+M[0]+3936430074&4294967295,L=b+(R<<11&4294967295|R>>>21),R=O+(L^b^D)+M[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^b)+M[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=b+(D^O^L)+M[9]+3654602809&4294967295,b=D+(R<<4&4294967295|R>>>28),R=L+(b^D^O)+M[12]+3873151461&4294967295,L=b+(R<<11&4294967295|R>>>21),R=O+(L^b^D)+M[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=D+(O^L^b)+M[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=b+(O^(D|~L))+M[0]+4096336452&4294967295,b=D+(R<<6&4294967295|R>>>26),R=L+(D^(b|~O))+M[7]+1126891415&4294967295,L=b+(R<<10&4294967295|R>>>22),R=O+(b^(L|~D))+M[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~b))+M[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=b+(O^(D|~L))+M[12]+1700485571&4294967295,b=D+(R<<6&4294967295|R>>>26),R=L+(D^(b|~O))+M[3]+2399980690&4294967295,L=b+(R<<10&4294967295|R>>>22),R=O+(b^(L|~D))+M[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~b))+M[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=b+(O^(D|~L))+M[8]+1873313359&4294967295,b=D+(R<<6&4294967295|R>>>26),R=L+(D^(b|~O))+M[15]+4264355552&4294967295,L=b+(R<<10&4294967295|R>>>22),R=O+(b^(L|~D))+M[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~b))+M[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=b+(O^(D|~L))+M[4]+4149444226&4294967295,b=D+(R<<6&4294967295|R>>>26),R=L+(D^(b|~O))+M[11]+3174756917&4294967295,L=b+(R<<10&4294967295|R>>>22),R=O+(b^(L|~D))+M[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=D+(L^(O|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const D=b-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=D;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[O++]=C.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<b;)if(M[O++]=C[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)C[b++]=this.g[D]>>>M&255;return C};function u(C,b){var D=m;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=b(C)}function f(C,b){this.h=b;const D=[];let M=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;M&&L==b||(D[O]=L,M=!1)}this.g=D}var m={};function g(C){return-128<=C&&C<128?u(C,function(b){return new f([b|0],b<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return j(y(-C));const b=[];let D=1;for(let M=0;C>=D;M++)b[M]=C/D|0,D*=4294967296;return new f(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return j(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+O),b);O<8?(O=y(Math.pow(b,O)),M=M.j(O).add(y(R))):(M=M.j(D),M=M.add(y(R)))}return M}var S=g(0),w=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-j(this).m();let C=0,b=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Y(this))return"0";if(Q(this))return"-"+j(this).toString(C);const b=y(Math.pow(C,6));var D=this;let M="";for(;;){const O=Et(D,b).g;D=tt(D,O.j(b));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=O,Y(D))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Y(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=tt(this,C),Q(C)?-1:Y(C)?0:1};function j(C){const b=C.g.length,D=[];for(let M=0;M<b;M++)D[M]=~C.g[M];return new f(D,~C.h).add(w)}r.abs=function(){return Q(this)?j(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),D=[];let M=0;for(let O=0;O<=b;O++){let L=M+(this.i(O)&65535)+(C.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=R>>>16,L&=65535,R&=65535,D[O]=R<<16|L}return new f(D,D[D.length-1]&-2147483648?-1:0)};function tt(C,b){return C.add(j(b))}r.j=function(C){if(Y(this)||Y(C))return S;if(Q(this))return Q(C)?j(this).j(j(C)):j(j(this).j(C));if(Q(C))return j(this.j(j(C)));if(this.l(P)<0&&C.l(P)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,D=[];for(var M=0;M<2*b;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const L=this.i(M)>>>16,R=this.i(M)&65535,te=C.i(O)>>>16,Xt=C.i(O)&65535;D[2*M+2*O]+=R*Xt,at(D,2*M+2*O),D[2*M+2*O+1]+=L*Xt,at(D,2*M+2*O+1),D[2*M+2*O+1]+=R*te,at(D,2*M+2*O+1),D[2*M+2*O+2]+=L*te,at(D,2*M+2*O+2)}for(C=0;C<b;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=b;C<2*b;C++)D[C]=0;return new f(D,0)};function at(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function st(C,b){this.g=C,this.h=b}function Et(C,b){if(Y(b))throw Error("division by zero");if(Y(C))return new st(S,S);if(Q(C))return b=Et(j(C),b),new st(j(b.g),j(b.h));if(Q(b))return b=Et(C,j(b)),new st(j(b.g),b.h);if(C.g.length>30){if(Q(C)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var D=w,M=b;M.l(C)<=0;)D=It(D),M=It(M);var O=wt(D,1),L=wt(M,1);for(M=wt(M,2),D=wt(D,2);!Y(M);){var R=L.add(M);R.l(C)<=0&&(O=O.add(D),L=R),M=wt(M,1),D=wt(D,1)}return b=tt(C,O.j(b)),new st(O,b)}for(O=S;C.l(b)>=0;){for(D=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(D),R=L.j(b);Q(R)||R.l(C)>0;)D-=M,L=y(D),R=L.j(b);Y(L)&&(L=w),O=O.add(L),C=tt(C,R)}return new st(O,C)}r.B=function(C){return Et(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)&C.i(M);return new f(D,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)|C.i(M);return new f(D,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)^C.i(M);return new f(D,this.h^C.h)};function It(C){const b=C.g.length+1,D=[];for(let M=0;M<b;M++)D[M]=C.i(M)<<1|C.i(M-1)>>>31;return new f(D,C.h)}function wt(C,b){const D=b>>5;b%=32;const M=C.g.length-D,O=[];for(let L=0;L<M;L++)O[L]=b>0?C.i(L+D)>>>b|C.i(L+D+1)<<32-b:C.i(L+D);return new f(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,R0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Jr=f}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var C0,xl,I0,sh,Pm,D0,N0,O0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break t;v=v[k]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,q){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return p.prototype[k].apply(A,nt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function Y(c,p){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const q=k.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=k[nt]}else c.push(k)}}class Q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function j(c){f.setTimeout(()=>{throw c},0)}function tt(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class at{constructor(){this.h=this.g=null}add(p,v){const A=st.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new Q(()=>new Et,c=>c.reset());class Et{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,wt=!1,C=new at,b=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(D)}};function D(){for(var c;c=tt();){try{c.h.call(c.g)}catch(v){j(v)}var p=st;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}wt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function te(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(te,O),te.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),K=0;function it(c,p,v,A,k){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=k,this.key=++K,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function V(c){const p={};for(const v in c)p[v]=c[v];return p}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,p){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,p,v,A,k){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=Rt(c,p,A,k);return nt>-1?(p=c[nt],v||(p.fa=!1)):(p=new it(p,this.src,q,!!A,k),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,p,void 0),q;(q=k>=0)&&Array.prototype.splice.call(A,k,1),q&&(mt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,p,v,A){for(let k=0;k<c.length;++k){const q=c[k];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==A)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(c,p,v,A,k){if(Array.isArray(p)){for(let q=0;q<p.length;q++)ae(c,p[q],v,A,k);return null}return v=Ro(v),c&&c[Xt]?c.J(p,v,m(A)?!!A.capture:!1,k):cs(c,p,v,!1,A,k)}function cs(c,p,v,A,k,q){if(!p)throw Error("Invalid event type");const nt=m(k)?!!k.capture:!!k;let At=hs(c);if(At||(c[kt]=At=new ut(c)),v=At.add(p,v,A,nt,q),v.proxy)return v;if(A=na(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(k=nt),k===void 0&&(k=!1),c.addEventListener(p.toString(),A,k);else if(c.attachEvent)c.attachEvent(ii(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function c(v){return p.call(c.src,c.listener,v)}const p=bo;return c}function ia(c,p,v,A,k){if(Array.isArray(p))for(var q=0;q<p.length;q++)ia(c,p[q],v,A,k);else A=m(A)?!!A.capture:!!A,v=Ro(v),c&&c[Xt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=Rt(p,v,A,k),v>-1&&(mt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=hs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Rt(p,v,A,k)),(v=c>-1?p[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Xt])_t(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ii(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=hs(p))?(_t(v,c),v.h==0&&(v.src=null,p[kt]=null)):mt(c)}}}function ii(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function bo(c,p){if(c.da)c=!0;else{p=new te(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&ra(c),c=v.call(A,p)}return c}function hs(c){return c=c[kt],c instanceof ut?c:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(p){return c.handleEvent(p)}),c[wo])}function _e(){M.call(this),this.i=new ut(this),this.M=this,this.G=null}S(_e,M),_e.prototype[Xt]=!0,_e.prototype.removeEventListener=function(c,p,v,A){ia(this,c,p,v,A)};function Ve(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var k=p;p=new O(A,c),rt(p,k)}k=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=p.g=v[nt],k=ur(q,A,!0,p)&&k;if(q=p.g=c,k=ur(q,A,!0,p)&&k,k=ur(q,A,!1,p)&&k,v)for(nt=0;nt<v.length;nt++)q=p.g=v[nt],k=ur(q,A,!1,p)&&k}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)mt(v[A]);delete c.g[p],c.h--}}this.G=null},_e.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},_e.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function ur(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let k=!0;for(let q=0;q<p.length;++q){const nt=p[q];if(nt&&!nt.da&&nt.capture==v){const At=nt.listener,me=nt.ha||nt.src;nt.fa&&_t(c.i,nt),k=At.call(me,A)!==!1&&k}}return k&&!A.defaultPrevented}function ef(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function yu(c){c.g=ef(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){M.call(this),this.h=c,this.g={}}S(fs,M);var Co=[];function Io(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&ra(p)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),Io(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,nf=f.JSON.parse,_u=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}S(Be,O);function bn(){O.call(this,"c")}S(bn,O);var de={},Tu=null;function sa(){return Tu=Tu||new _e}de.Ia="serverreachability";function Su(c){O.call(this,de.Ia,c)}S(Su,O);function ri(c){const p=sa();Ve(p,new Su(p))}de.STAT_EVENT="statevent";function ds(c,p){O.call(this,de.STAT_EVENT,c),this.stat=p}S(ds,O);function ve(c){const p=sa();Ve(p,new ds(p,c))}de.Ja="timingevent";function si(c,p){O.call(this,de.Ja,c),this.size=p}S(si,O);function ai(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function rf(c,p,v,A,k,q){c.info(function(){if(c.g)if(q){var nt="",At=q.split("&");for(let qt=0;qt<At.length;qt++){var me=At[qt].split("=");if(me.length>1){const oe=me[0];me=me[1];const In=oe.split("_");nt=In.length>=2&&In[1]=="type"?nt+(oe+"="+me+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+p+`
`+v+`
`+nt})}function Au(c,p,v,A,k,q,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+p+`
`+v+`
`+q+" "+nt})}function oi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+sf(c,v)+(A?" "+A:"")})}function ms(c,p){c.info(function(){return"TIMEOUT: "+p})}Bn.prototype.info=function(){};function sf(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return cr(q)}catch{return p}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function gs(){}S(gs,vu),gs.prototype.g=function(){return new XMLHttpRequest},No=new gs;function xi(c){return encodeURIComponent(String(c))}function bu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function jn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Le={};function li(c,p,v){c.M=1,c.A=ys(Se(p)),c.u=v,c.R=!0,aa(c,null)}function aa(c,p){c.F=Date.now(),ui(c),c.B=Se(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ca(v.i,"t",A),c.C=0,v=c.j.L,c.h=new qn,c.g=zu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Co[0]=k.toString()),k=Co);for(let q=0;q<k.length;q++){const nt=ae(v,k[q],A||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ri(),rf(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Gn(c)==3?p.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Gn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||me==7||(me==8||qt<=0?ri(3):ri(2)),ci(this);var p=this.g.ca();this.X=p;var v=af(this);if(this.o=p==200,Au(this.i,this.v,this.B,this.l,this.S,At,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(c=q)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,ve(12),dn(this),wn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Ru(this,v),oe==Le){At==4&&(this.m=4,ve(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,oe,null),hi(this,oe);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(nt),nt.P=!0,ve(11))}}else oi(this.i,this.l,v,null),hi(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?Lu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),wn(this)}}}catch{}};function af(c){if(!wu(c))return c.g.la();const p=je(c.g);if(p==="")return"";let v="";const A=p.length,k=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(k&&q==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Le:(v=Number(p.substring(v,A)),isNaN(v)?Ee:(A+=1,A+v>p.length?Le:(p=p.slice(A,A+v),c.C=A+v,p)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(c){c.T=Date.now()+c.H,oa(c,c.H)}function oa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),p)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(ri(),ve(17)),dn(this),this.m=2,wn(this)):oa(this,this.T-c)};function wn(c){c.j.I==0||c.K||Lu(c.j,c)}function dn(c){ci(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Io(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function hi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)pa(v),_r(v);else break t;bs(v),ve(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&pa(v),!R(p))for(k=v.Ba.g.parse(p),p=0;p<k.length;p++){let qt=k[p];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const In=qt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=qt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Kn=qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const ws=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var q=A.h;q.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Mo(q,q.h),q.h=null))}if(A.G){const ga=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Kt(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Uu(A,A.L?A.ba:null,A.W),nt.L){xo(A.h,nt);var At=nt,me=A.O;me&&(At.H=me),At.D&&(ci(At),ui(At)),A.g=nt}else Mu(A);v.i.length>0&&_i(v)}else qt[0]!="stop"&&qt[0]!="close"||vi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?vi(v,7):Ho(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Te=class{constructor(c,p){this.g=c,this.map=p}};function Oo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Mo(c,p){c.g?c.g.add(p):c.h=p}function xo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,q=null;A>=0?(k=c[v].substring(0,A),q=c[v].substring(A+1)):k=c[v],p(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof mn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,Po(this,Ou(c.i)),this.m=c.m):c&&(p=String(c).match(Cu))?(this.l=!1,Pe(this,p[1]||"",!0),this.o=mi(p[2]||""),this.g=mi(p[3]||"",!0),hr(this,p[4]),this.h=mi(p[5]||"",!0),Po(this,p[6]||"",!0),this.m=mi(p[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}mn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(_s(p,ua,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(_s(p,ua,!0),"@"),c.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?ko:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,Du)),c.join("")},mn.prototype.resolve=function(c){const p=Se(this);let v=!!c.j;v?Pe(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)hr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=p.h.lastIndexOf("/");k!=-1&&(A=p.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let nt=0;nt<k.length;){const At=k[nt++];At=="."?A&&nt==k.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==k.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=k}return v?p.h=A:v=c.i.toString()!=="",v?Po(p,Ou(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Se(c){return new mn(c)}function Pe(c,p,v){c.j=v?mi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Po(c,p,v){p instanceof dr?(c.i=p,ha(c.i,c.l)):(v||(p=_s(p,fr)),c.i=new dr(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function ys(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ua=/[#\/\?@]/g,Iu=/[#\?:]/g,ko=/[#\?]/g,fr=/[#\?@]/g,Du=/#/g;function dr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=dr.prototype,r.add=function(c,p){sn(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Nu(c,p){sn(c),p=mr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Uo(c,p){return sn(c),p=mr(c,p),c.g.has(p)}r.forEach=function(c,p){sn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(p,k,A,this)},this)},this)};function zo(c,p){sn(c);let v=[];if(typeof p=="string")Uo(c,p)&&(v=v.concat(c.g.get(mr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return sn(this),this.i=null,c=mr(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=zo(this,c),c.length>0?String(c[0]):p):p};function ca(c,p,v){Nu(c,p),v.length>0&&(c.i=null,c.g.set(mr(c,p),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const k=xi(v);v=zo(this,v);for(let q=0;q<v.length;q++){let nt=k;v[q]!==""&&(nt+="="+xi(v[q])),c.push(nt)}}return this.i=c.join("&")};function Ou(c){const p=new dr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function mr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ha(c,p){p&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Nu(this,A),ca(this,k,v))},c)),c.j=p}function Hn(c,p){const v=new Bn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Bo(c,p){const v=new Bn,A=new AbortController,k=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?Rn(v,"TestPingServer: ok",!0,p):Rn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Rn(v,"TestPingServer: error",!1,p)})}function Rn(c,p,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function pr(){this.g=new _u}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,vu),pi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,p){_e.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(vs,_e),r=vs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?gr(this):Fn(this),this.readyState==3&&fa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Na=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Es(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&xi(v):Kt(c,p,v))}function $t(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,_e);var gi=/^https?$/i,jo=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Ts(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(jo,p,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ts(this,q)}};function Ts(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,qo(c),Li(c)}function qo(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ss(this):this.Xa())},r.Xa=function(){Ss(this)};function Ss(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=q===0){let nt=String(c.D).match(Cu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!gi.test(nt?nt.toLowerCase():"")}v=A}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var k=Gn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",qo(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),nf(p)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const p={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=bu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[k]||[];p[k]=q,q.push(v)}Gt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function yr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new pr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){ve(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Uu(this,null,this.W),_i(this)};function Ho(c){if(da(c),c.I==3){var p=c.V++,v=Se(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),As(c,v),p=new jn(c,c.j,p),p.M=2,p.A=ys(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=zu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ui(p)}ku(c)}function _r(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function da(c){_r(c),c.v&&(f.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Vo(c.h)&&!c.m){c.m=!0;var p=c.Ea;It||b(),wt||(It(),wt=!0),C.add(p,c),c.D=0}}function ma(c,p){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,p),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new jn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Vu(this,k,p),v=Se(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),As(this,v),q&&(this.R?p="headers="+xi(Cn(q))+"&"+p:this.u&&Es(v,this.u,q)),Mo(this.h,k),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),k.U=!0,li(k,v,null)):li(k,v,p),this.I=2}}else this.I==3&&(c?Fo(this,c):this.i.length==0||Vo(this.h)||Fo(this))};function Fo(c,p){var v;p?v=p.l:v=c.V++;const A=Se(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),As(c,A),c.u&&c.o&&Es(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,v),li(v,A,p)}function As(c,p){c.H&&zt(c.H,function(v,A){Kt(p,A,v)}),c.l&&zt({},function(v,A){Kt(p,A,v)})}function Vu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var k=c.i;let At=-1;for(;;){const me=["count="+v];At==-1?v>0?(At=k[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let qt=!0;for(let oe=0;oe<v;oe++){var q=k[oe].g;const In=k[oe].map;if(q-=At,q<0)At=Math.max(0,k[oe].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=In instanceof Map?In:Object.entries(In);for(const[Ei,Kn]of nt){let Yn=Kn;m(Kn)&&(Yn=cr(Kn)),me.push(q+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(In)}}if(qt){nt=me.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),p.G=c,nt}function Mu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;It||b(),wt||(It(),wt=!0),C.add(p,c),c.A=0}}function bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),_r(this),xu(this))};function Go(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Se(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),As(c,p),c.u&&c.o&&Es(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(Se(p)),v.u=null,v.R=!0,aa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),bs(this),ve(19))};function pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,p){var v=null;if(c.g==p){pa(c),Go(c),c.g=null;var A=2}else if(di(c.h,p))v=p.G,xo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var k=c.D;A=sa(),Ve(A,new si(A,v)),_i(c)}else Mu(c);else if(k=p.m,k==3||k==0&&p.X>0||!(A==1&&ma(c,p)||A==2&&bs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),k){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Pu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function vi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pe(A,"https"),ys(A),k?Hn(A.toString(),v):Bo(A.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(p),ku(c),da(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const p=Lo(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Uu(c,p,v){var A=v instanceof mn?Se(v):new mn(v);if(A.g!="")p&&(A.g=p+"."+A.g),hr(A,A.u);else{var k=f.location;A=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;const q=new mn(null);A&&Pe(q,A),p&&(q.g=p),k&&hr(q,k),v&&(q.h=v),A=q}return v=c.G,p=c.wa,v&&p&&Kt(A,v,p),Kt(A,"VER",c.ka),As(c,A),A}function zu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new $t(new pi({ab:v})):new $t(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(c,p){return new en(c,p)};function en(c,p){_e.call(this),this.g=new yr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ki(this)}S(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ho(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cr(c),c=v);p.i.push(new Te(p.Ya++,c)),p.I==3&&_i(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,en.Z.N.call(this)};function ju(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(ju,Be);function qu(){bn.call(this),this.status=1}S(qu,bn);function ki(c){this.g=c}S(ki,Bu),ki.prototype.ra=function(){Ve(this.g,"a")},ki.prototype.qa=function(c){Ve(this.g,new ju(c))},ki.prototype.pa=function(c){Ve(this.g,new qu)},ki.prototype.oa=function(){Ve(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,O0=function(){return new vr},N0=function(){return sa()},D0=de,Pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,sh=ps,Do.COMPLETE="complete",I0=Do,Eu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,xl=Eu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,C0=$t}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let vo="12.10.0";function v2(r){vo=r}const Xs=new ap("@firebase/firestore");function Ya(){return Xs.logLevel}function lt(r,...t){if(Xs.logLevel<=Mt.DEBUG){const n=t.map(yp);Xs.debug(`Firestore (${vo}): ${r}`,...n)}}function sr(r,...t){if(Xs.logLevel<=Mt.ERROR){const n=t.map(yp);Xs.error(`Firestore (${vo}): ${r}`,...n)}}function $s(r,...t){if(Xs.logLevel<=Mt.WARN){const n=t.map(yp);Xs.warn(`Firestore (${vo}): ${r}`,...n)}}function yp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,V0(r,s,n)}function V0(r,t,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||V0(t,o,s)}function St(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class M0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new M0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class A2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class b2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class _p{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=R2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function km(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return gm(o)===gm(u)?xt(o,u):gm(o)?1:-1}return xt(r.length,t.length)}const C2=55296,I2=57343;function gm(r){const t=r.charCodeAt(0);return t>=C2&&t<=I2}function so(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const pE="__name__";class wi{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=wi.isNumericId(t),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(t).compare(wi.extractNumericId(n)):km(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ne extends wi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return D2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new Ye([pE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ot(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function x0(r,t,n){if(!n)throw new ot(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function N2(r,t,n,s){if(t===!0&&s===!0)throw new ot(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function gE(r){if(!dt.isDocumentKey(r))throw new ot(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yE(r){if(dt.isDocumentKey(r))throw new ot(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function L0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Wr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new ot(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function De(r,t){const n={typeString:r};return t&&(n.value=t),n}function hu(r,t){if(!L0(r))throw new ot(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot(W.INVALID_ARGUMENT,n);return!0}const _E=-62135596800,vE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*vE);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<_E)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vE}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_E;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function O2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new ts(o,dt.empty(),t)}function V2(r){return new ts(r.readTime,r.key,Ql)}class ts{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ts(vt.min(),dt.empty(),Ql)}static max(){return new ts(vt.max(),dt.empty(),Ql)}}function M2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==x2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function P2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jh.ce=-1;const vp=-1;function qh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function k2(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const P0="";function U2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=EE(t)),t=z2(r.get(n),t);return EE(t)}function z2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case P0:n+="";break;default:n+=u}}return n}function EE(r){return r+P0+""}function TE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ls(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function k0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(t){return new SE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class SE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new xe(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class U0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new U0("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const B2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=B2.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const z0="server_timestamp",B0="__type__",j0="__previous_value__",q0="__local_write_time__";function Ep(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===z0}function Hh(r){const t=r.mapValue.fields[j0];return Ep(t)?Hh(t):t}function Xl(r){const t=es(r.mapValue.fields[q0].timestampValue);return new se(t.seconds,t.nanos)}class j2{constructor(t,n,s,o,u,f,m,g,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const Th="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||Th}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}function q2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(r.options.projectId,t)}const H0="__type__",H2="__max__",$c={mapValue:{}},F0="__vector__",Sh="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ep(r)?4:G2(r)?9007199254740991:F2(r)?10:11:yt(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const n=is(r);if(n!==is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Xl(r).isEqual(Xl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?Eh(f)===Eh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(TE(f)!==TE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Vi(f[g],m[g])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>Vi(n,t)))!==void 0}function ao(r,t){if(r===t)return 0;const n=is(r),s=is(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return AE(r.timestampValue,t.timestampValue);case 4:return AE(Xl(r),Xl(t));case 5:return km(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ns(u),g=ns(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(ye(u.latitude),ye(f.latitude));return m!==0?m:xt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Sh]?.arrayValue,E=g[Sh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:bE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=km(g[S],E[S]);if(w!==0)return w;const P=ao(m[g[S]],y[E[S]]);if(P!==0)return P}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function AE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=es(r),s=es(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function bE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function oo(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function ah(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hh(r);return t?16+ah(t):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ah(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ls(s.fields,((u,f)=>{o+=u.length+ah(f)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function wE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function zm(r){return!!r&&"integerValue"in r}function Tp(r){return!!r&&"arrayValue"in r}function RE(r){return!!r&&"nullValue"in r}function CE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function F2(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===F0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return t}return{...r}}function G2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(n)}setAll(t){let n=Ye.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ls(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(Bl(this.value))}}function G0(r){const t=[];return ls(r.fields,((n,s)=>{const o=new Ye([n]);if(oh(s)){const u=G0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Sn(t)}class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,vt.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(t,n){this.position=t,this.inclusive=n}}function IE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function DE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],t.position[n]))return!1;return!0}class Wl{constructor(t,n="asc"){this.field=t,this.dir=n}}function K2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class K0{}class Ie extends K0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Q2(t,n,s):n==="array-contains"?new J2(t,s):n==="in"?new W2(t,s):n==="not-in"?new Z2(t,s):n==="array-contains-any"?new tD(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new X2(t,s):new $2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends K0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return Y0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y0(r){return r.op==="and"}function Q0(r){return Y2(r)&&Y0(r)}function Y2(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function Bm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(Q0(r))return r.filters.map((t=>Bm(t))).join(",");{const t=r.filters.map((n=>Bm(n))).join(",");return`${r.op}(${t})`}}function X0(r,t){return r instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(r,t):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&X0(f,o.filters[m])),!0):!1})(r,t):void yt(19439)}function $0(r){return r instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map($0).join(" ,")+"}"})(r):"Filter"}class Q2 extends Ie{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class X2 extends Ie{constructor(t,n){super(t,"in",n),this.keys=J0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class $2 extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=J0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function J0(r,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class J2 extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tp(n)&&Jl(n.arrayValue,this.value)}}class W2 extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class Z2 extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class tD extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class eD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function NE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new eD(r,t,n,s,o,u,f)}function Sp(r){const t=St(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Bm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>oo(s))).join(",")),t.Te=n}return t.Te}function Ap(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!K2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!X0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!DE(r.startAt,t.startAt)&&DE(r.endAt,t.endAt)}function jm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class So{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nD(r,t,n,s,o,u,f,m){return new So(r,t,n,s,o,u,f,m)}function bp(r){return new So(r)}function OE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iD(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function W0(r){return r.collectionGroup!==null}function jl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Ye.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Wl(u,s))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new Wl(Ye.keyField(),s))}return t.Ie}function Di(r){const t=St(r);return t.Ee||(t.Ee=rD(t,jl(r))),t.Ee}function rD(r,t){if(r.limitType==="F")return NE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return NE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function qm(r,t){const n=r.filters.concat([t]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function sD(r,t){const n=r.explicitOrderBy.concat([t]);return new So(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Hm(r,t,n){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Fh(r,t){return Ap(Di(r),Di(t))&&r.limitType===t.limitType}function Z0(r){return`${Sp(Di(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$0(o))).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Gh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=IE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,jl(s),o)||s.endAt&&!(function(f,m,g){const y=IE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,jl(s),o))})(r,t)}function aD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tS(r){return(t,n)=>{let s=!1;for(const o of jl(r)){const u=oD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oD(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ao(g,y):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class Zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ls(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return k0(this.inner)}size(){return this.innerSize}}const lD=new ce(dt.comparator);function ar(){return lD}const eS=new ce(dt.comparator);function Ll(...r){let t=eS;for(const n of r)t=t.insert(n.key,n);return t}function nS(r){let t=eS;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function qs(){return ql()}function iS(){return ql()}function ql(){return new Zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uD=new ce(dt.comparator),cD=new xe(dt.comparator);function Lt(...r){let t=cD;for(const n of r)t=t.add(n);return t}const hD=new xe(xt);function fD(){return hD}function wp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function rS(r){return{integerValue:""+r}}function dD(r,t){return k2(t)?rS(t):wp(r,t)}class Kh{constructor(){this._=void 0}}function mD(r,t,n){return r instanceof Zl?(function(o,u){const f={fields:{[B0]:{stringValue:z0},[q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ep(u)&&(u=Hh(u)),u&&(f.fields[j0]=u),{mapValue:f}})(n,t):r instanceof tu?aS(r,t):r instanceof eu?oS(r,t):(function(o,u){const f=sS(o,u),m=VE(f)+VE(o.Ae);return zm(f)&&zm(o.Ae)?rS(m):wp(o.serializer,m)})(r,t)}function pD(r,t,n){return r instanceof tu?aS(r,t):r instanceof eu?oS(r,t):n}function sS(r,t){return r instanceof bh?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Zl extends Kh{}class tu extends Kh{constructor(t){super(),this.elements=t}}function aS(r,t){const n=lS(t);for(const s of r.elements)n.some((o=>Vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Kh{constructor(t){super(),this.elements=t}}function oS(r,t){let n=lS(t);for(const s of r.elements)n=n.filter((o=>!Vi(o,s)));return{arrayValue:{values:n}}}class bh extends Kh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function VE(r){return ye(r.integerValue||r.doubleValue)}function lS(r){return Tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class gD{constructor(t,n){this.field=t,this.transform=n}}function yD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof eu&&o instanceof eu?so(s.elements,o.elements,Vi):s instanceof bh&&o instanceof bh?Vi(s.Ae,o.Ae):s instanceof Zl&&o instanceof Zl})(r.transform,t.transform)}class _D{constructor(t,n){this.version=t,this.transformResults=n}}class Wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Yh{}function uS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Rp(r.key,Wn.none()):new fu(r.key,r.data,Wn.none());{const n=r.data,s=fn.empty();let o=new xe(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(r.key,s,new Sn(o.toArray()),Wn.none())}}function vD(r,t,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),g=xE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof us?(function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(cS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Hl(r,t,n,s){return r instanceof fu?(function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=u.value.clone(),E=LE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof us?(function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=LE(u.fieldTransforms,g,f),E=f.data;return E.setAll(cS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function ED(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=sS(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function ME(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,((u,f)=>yD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class fu extends Yh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends Yh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cS(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function xE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,pD(f,m,n[o]))}return s}function LE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,mD(u,f,t))}return s}class Rp extends Yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TD extends Yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&vD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=iS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=uS(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((n,s)=>ME(n,s)))&&so(this.baseMutations,t.baseMutations,((n,s)=>ME(n,s)))}}class Cp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return uD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cp(t,n,s,o)}}class AD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bD{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ce,Ut;function wD(r){switch(r){case W.OK:return yt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function hS(r){if(r===void 0)return sr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return yt(39323,{code:r})}}(Ut=Ce||(Ce={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function RD(){return new TextEncoder}const CD=new Jr([4294967295,4294967295],0);function PE(r){const t=RD().encode(r),n=new R0;return n.update(t),new Uint8Array(n.digest())}function kE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Jr([n,s],0),new Jr([o,u],0)]}class Ip{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Jr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Jr.fromNumber(s)));return o.compare(CD)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=PE(t),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Ip(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=PE(t),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qh(vt.min(),o,new ce(xt),ar(),Lt())}}class du{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new du(s,n,Lt(),Lt(),Lt())}}class uh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class fS{constructor(t,n){this.targetId=t,this.Ce=n}}class dS{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class UE{constructor(){this.ve=0,this.Fe=zE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new du(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=zE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ID{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.He=Jc(),this.Je=Jc(),this.Ze=new ce(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(jm(u))if(s===0){const f=new dt(u.path);this.et(n,f,We.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ns(s).toUint8Array()}catch(g){if(g instanceof U0)return $s("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ip(f,o,u)}catch(g){return $s(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&jm(m.target)){const g=new dt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Qh(t,n,this.Ze,this.je,s);return this.je=ar(),this.He=Jc(),this.Je=Jc(),this.Ze=new ce(xt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new UE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new UE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new ce(dt.comparator)}function zE(){return new ce(dt.comparator)}const DD={asc:"ASCENDING",desc:"DESCENDING"},ND={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"};class VD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Fm(r,t){return r.useProto3Json||qh(t)?t:{value:t}}function wh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MD(r,t){return wh(r,t.toTimestamp())}function Ni(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=es(n);return new se(s.seconds,s.nanos)})(r))}function Dp(r,t){return Gm(r,t).canonicalString()}function Gm(r,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function pS(r){const t=ne.fromString(r);return Ft(ES(t),10190,{key:t.toString()}),t}function Km(r,t){return Dp(r.databaseId,t.path)}function ym(r,t){const n=pS(t);if(n.get(1)!==r.databaseId.projectId)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(yS(n))}function gS(r,t){return Dp(r.databaseId,t)}function xD(r){const t=pS(r);return t.length===4?ne.emptyPath():yS(t)}function Ym(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yS(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function BE(r,t,n){return{name:Km(r,t),fields:n.value.mapValue.fields}}function LD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:hS(y.code);return new ot(E,y.message||"")})(f);n=new dS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):vt.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=We.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?Ni(s.readTime):vt.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new bD(o,u),m=s.targetId;n=new fS(m,f)}}return n}function PD(r,t){let n;if(t instanceof fu)n={update:BE(r,t.key,t.value)};else if(t instanceof Rp)n={delete:Km(r,t.key)};else if(t instanceof us)n={update:BE(r,t.key,t.data),updateMask:GD(t.fieldMask)};else{if(!(t instanceof TD))return yt(16599,{dt:t.type});n={verify:Km(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:MD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function kD(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(vt.min())&&(f=Ni(u)),new _D(f,o.transformResults||[])})(n,t)))):[]}function UD(r,t){return{documents:[gS(r,t.path)]}}function zD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gS(r,o);const u=(function(y){if(y.length!==0)return vS(ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Xa(w.field),direction:qD(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Fm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function BD(r){let t=xD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=_S(S);return w instanceof ni&&Q0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(Y){return new Wl($a(Y.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,qh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,P=S.values||[];return new Ah(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,P=S.values||[];return new Ah(P,w)})(n.endAt)),nD(t,o,f,u,m,"F",g,y)}function jD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _S(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ie.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>_S(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function qD(r){return DD[r]}function HD(r){return ND[r]}function FD(r){return OD[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Ye.fromServerFormat(r.fieldPath)}function vS(r){return r instanceof Ie?(function(n){if(n.op==="=="){if(CE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:HD(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>vS(o)));return s.length===1?s[0]:{compositeFilter:{op:FD(n.op),filters:s}}})(r):yt(54877,{filter:r})}function GD(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ES(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function TS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Yr{constructor(t,n,s,o,u=vt.min(),f=vt.min(),m=Qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class KD{constructor(t){this.yt=t}}function YD(r){const t=BD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hm(t,t.limit,"L"):t}class QD{constructor(){this.Sn=new XD}addToCollectionParentIndex(t,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(ts.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class XD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ne.comparator)).toArray()}}const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SS=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(SS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const qE="LruGarbageCollector",$D=1048576;function HE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class JD{constructor(t){this.Pr=t,this.buffer=new xe(HE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();HE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(qE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?lt(qE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class ZD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(jh.ce);const s=new JD(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(jE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ya()<=Mt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function tN(r,t){return new ZD(r,t)}class eN{constructor(){this.changes=new Zs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class iN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Hl(s.mutation,o,Sn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=qs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Ll();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=qs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ar();const f=ql(),m=(function(){return ql()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Hl(E.mutation,y,E.mutation.getFieldMask(),se.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new nN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=ql();let o=new ce(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Sn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=iS();E.forEach((w=>{if(!u.has(w)){const P=uS(n.get(w),s.get(w));P!==null&&S.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return iD(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):W0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(qs());let m=Ql,g=u;return f.next((y=>Z.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:nS(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(t,u).next((m=>Z.forEach(m,(g=>{const y=(function(S,w){return new So(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=Ll();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Hl(E.mutation,y,Sn.empty(),se.now()),Gh(n,y)&&(m=m.insert(g,y))})),m}))}}class rN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:YD(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),Z.resolve()}}class sN{constructor(){this.overlays=new ce(dt.comparator),this.Lr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=qs();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=qs(),u=n.length+1,f=new dt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=qs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AD(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class aN{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class Np{constructor(){this.kr=new xe(Ue.Kr),this.qr=new xe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ue(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new dt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new dt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Lt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return dt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}class oN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Ue.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?vp:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new dt(u),0);let m=new xe(xt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lN{constructor(t){this.ti=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ar();const f=n.path,m=new dt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||M2(V2(E),s)<=0||(o.has(E.key)||Gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ni(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new uN(this)}getSize(t){return Z.resolve(this.size)}}class uN extends eN{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class cN{constructor(t){this.persistence=t,this.ri=new Zs((n=>Sp(n)),Ap),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Np,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.lr(n),Z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.si.containsKey(n))}}class AS{constructor(t,n){this._i={},this.overlays={},this.ai=new jh(0),this.ui=!1,this.ui=!0,this.ci=new aN,this.referenceDelegate=t(this),this.li=new cN(this),this.indexManager=new QD,this.remoteDocumentCache=(function(o){return new lN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new KD(n),this.Pi=new rN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new oN(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new hN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class hN extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class Op{constructor(t){this.persistence=t,this.Ri=new Np,this.Ai=null}static Vi(t){return new Op(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=dt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Rh{constructor(t,n){this.persistence=t,this.fi=new Zs((s=>U2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=tN(this,n)}static Vi(t,n){return new Rh(t,n)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return Z.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ah(t.data.value)),n}wr(t,n,s){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,s,o)}}class fN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Bw()?8:P2(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new fN;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(Ya()<=Mt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ya()<=Mt.DEBUG&&lt("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ya()<=Mt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):Z.resolve())}gs(t,n){if(OE(n))return Z.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(t,Hm(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,o){return OE(n)||o.isEqual(vt.min())?Z.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?Z.resolve(null):(Ya()<=Mt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.Ds(t,f,n,O2(o,Ql)).next((m=>m)))}))}bs(t,n){let s=new xe(tS(t));return n.forEach(((o,u)=>{Gh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return Ya()<=Mt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(t,n,ts.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Mp="LocalStore",mN=3e8;class pN{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ce(xt),this.Fs=new Zs((u=>Sp(u)),Ap),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function gN(r,t,n,s){return new pN(r,t,n,s)}async function bS(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function yN(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let P=Z.resolve();return w.forEach((Y=>{P=P.next((()=>E.getEntry(g,Y))).next((Q=>{const j=y.docVersions.get(Y);Ft(j!==null,48541),Q.version.compareTo(j)<0&&(S.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function wS(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function _N(r,t){const n=St(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let P=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(Q,j,tt){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=mN?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(w,P,E)&&m.push(n.li.updateTargetData(u,P))}));let g=ar(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(vN(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function vN(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ar();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):lt(Mp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function EN(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function TN(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Yr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Qm(r,t,n){const s=St(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;lt(Mp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function FE(r,t,n){const s=St(r);let o=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=St(g),w=S.Fs.get(E);return w!==void 0?Z.resolve(S.vs.get(w)):S.li.getTargetData(y,E)})(s,f,Di(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Lt()))).next((m=>(SN(s,aD(t),m),{documents:m,ks:u})))))}function SN(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class GE{constructor(){this.activeTargetIds=fD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AN{constructor(){this.vo=new GE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new GE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bN{Mo(t){}shutdown(){}}const KE="ConnectivityMonitor";class YE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(KE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(KE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wc=null;function Xm(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}const _m="RestConnection",wN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=Xm(),m=this.Qo(t,n.toUriEncodedString());lt(_m,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=go(y);return this.zo(t,m,g,s,E).then((S=>(lt(_m,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw $s(_m,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=wN[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class CN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Ol=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class eo extends RN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!eo.c_){const t=N0();Ol(t,D0.STAT_EVENT,(n=>{n.stat===Pm.PROXY?lt($e,"STAT_EVENT: detected buffering proxy"):n.stat===Pm.NOPROXY&&lt($e,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(t,n,s,o,u){const f=Xm();return new Promise(((m,g)=>{const y=new C0;y.setWithCredentials(!0),y.listenOnce(I0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const S=y.getResponseJson();lt($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case sh.TIMEOUT:lt($e,`RPC '${t}' ${f} timed out`),g(new ot(W.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=y.getStatus();if(lt($e,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const Y=P?.error;if(Y&&Y.status&&Y.message){const Q=(function(tt){const at=tt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(at)>=0?at:W.UNKNOWN})(Y.status);g(new ot(Q,Y.message))}else g(new ot(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot(W.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Xm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");lt($e,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,w=!1;const P=new CN({Ho:Y=>{w?lt($e,`Not sending because RPC '${t}' stream ${o} is closed:`,Y):(S||(lt($e,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),lt($e,`RPC '${t}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return Ol(E,xl.EventType.OPEN,(()=>{w||(lt($e,`RPC '${t}' stream ${o} transport opened.`),P.i_())})),Ol(E,xl.EventType.CLOSE,(()=>{w||(w=!0,lt($e,`RPC '${t}' stream ${o} transport closed`),P.o_(),this.E_(E))})),Ol(E,xl.EventType.ERROR,(Y=>{w||(w=!0,$s($e,`RPC '${t}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),P.o_(new ot(W.UNAVAILABLE,"The operation could not be completed")))})),Ol(E,xl.EventType.MESSAGE,(Y=>{if(!w){const Q=Y.data[0];Ft(!!Q,16349);const j=Q,tt=j?.error||j[0]?.error;if(tt){lt($e,`RPC '${t}' stream ${o} received error:`,tt);const at=tt.status;let st=(function(wt){const C=Ce[wt];if(C!==void 0)return hS(C)})(at),Et=tt.message;at==="NOT_FOUND"&&Et.includes("database")&&Et.includes("does not exist")&&Et.includes(this.databaseId.database)&&$s(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),st===void 0&&(st=W.INTERNAL,Et="Unknown error status: "+at+" with message "+tt.message),w=!0,P.o_(new ot(st,Et)),E.close()}else lt($e,`RPC '${t}' stream ${o} received:`,Q),P.__(Q)}})),eo.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return O0()}}function IN(r){return new eo(r)}function vm(){return typeof document<"u"?document:null}function Xh(r){return new VD(r,!0)}eo.c_=!1;class RS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const QE="PersistentStream";class CS{constructor(t,n,s,o,u,f,m,g){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(QE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(lt(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DN extends CS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=LD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Ni(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Ym(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=jm(g)?{documents:UD(u,g)}:{query:zD(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mS(u,f.resumeToken);const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=jD(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Ym(this.serializer),n.removeTarget=t,this.K_(n)}}class NN extends CS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=kD(t.writeResults,t.commitTime),s=Ni(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Ym(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>PD(this.serializer,s)))};this.K_(n)}}class ON{}class VN extends ON{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Gm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(W.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,Gm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MN(r,t,n,s){return new VN(r,t,n,s)}class xN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class LN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{ta(this)&&(lt(Js,"Restarting streams for network reachability change."),await(async function(g){const y=St(g);y.Ea.add(4),await mu(y),y.Va.set("Unknown"),y.Ea.delete(4),await $h(y)})(this))}))})),this.Va=new xN(s,o)}}async function $h(r){if(ta(r))for(const t of r.Ra)await t(!0)}async function mu(r){for(const t of r.Ra)await t(!1)}function IS(r,t){const n=St(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),kp(n)?Pp(n):Ao(n).O_()&&Lp(n,t))}function xp(r,t){const n=St(r),s=Ao(n);n.Ia.delete(t),s.O_()&&DS(n,t),n.Ia.size===0&&(s.O_()?s.L_():ta(n)&&n.Va.set("Unknown"))}function Lp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ao(r).Z_(t)}function DS(r,t){r.da.$e(t),Ao(r).X_(t)}function Pp(r){r.da=new ID({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Va.ua()}function kp(r){return ta(r)&&!Ao(r).x_()&&r.Ia.size>0}function ta(r){return St(r).Ea.size===0}function NS(r){r.da=void 0}async function PN(r){r.Va.set("Online")}async function kN(r){r.Ia.forEach(((t,n)=>{Lp(r,t)}))}async function UN(r,t){NS(r),kp(r)?(r.Va.ha(t),Pp(r)):r.Va.set("Unknown")}async function zN(r,t,n){if(r.Va.set("Online"),t instanceof dS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,t)}catch(s){lt(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ch(r,s)}else if(t instanceof uh?r.da.Xe(t):t instanceof fS?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await wS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),DS(u,g);const S=new Yr(E.target,g,y,E.sequenceNumber);Lp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){lt(Js,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,t,n){if(!To(t))throw t;r.Ea.add(1),await mu(r),r.Va.set("Offline"),n||(n=()=>wS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function OS(r,t){return t().catch((n=>Ch(r,n,t)))}async function Jh(r){const t=St(r),n=rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:vp;for(;BN(t);)try{const o=await EN(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,jN(t,o)}catch(o){await Ch(t,o)}VS(t)&&MS(t)}function BN(r){return ta(r)&&r.Ta.length<10}function jN(r,t){r.Ta.push(t);const n=rs(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function VS(r){return ta(r)&&!rs(r).x_()&&r.Ta.length>0}function MS(r){rs(r).start()}async function qN(r){rs(r).ra()}async function HN(r){const t=rs(r);for(const n of r.Ta)t.ea(n.mutations)}async function FN(r,t,n){const s=r.Ta.shift(),o=Cp.from(s,t,n);await OS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jh(r)}async function GN(r,t){t&&rs(r).Y_&&await(async function(s,o){if((function(f){return wD(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();rs(s).B_(),await OS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jh(s)}})(r,t),VS(r)&&MS(r)}async function XE(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),lt(Js,"RemoteStore received new credentials");const s=ta(n);n.Ea.add(3),await mu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $h(n)}async function KN(r,t){const n=St(r);t?(n.Ea.delete(2),await $h(n)):t||(n.Ea.add(2),await mu(n),n.Va.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=St(n);return u.sa(),new DN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:PN.bind(null,r),Yo:kN.bind(null,r),t_:UN.bind(null,r),J_:zN.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),kp(r)?Pp(r):r.Va.set("Unknown")):(await r.ma.stop(),NS(r))}))),r.ma}function rs(r){return r.fa||(r.fa=(function(n,s,o){const u=St(n);return u.sa(),new NN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qN.bind(null,r),t_:GN.bind(null,r),ta:HN.bind(null,r),na:FN.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Up{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Up(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(r,t){if(sr("AsyncQueue",`${t}: ${r}`),To(r))return new ot(W.UNAVAILABLE,`${t}: ${r}`);throw r}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class $E{constructor(){this.ga=new ce(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class uo{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(t,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class YN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class QN{constructor(){this.queries=JE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=JE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ot(W.ABORTED,"Firestore shutting down"))}}function JE(){return new Zs((r=>Z0(r)),Fh)}async function XN(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new YN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Bp(n)}async function $N(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JN(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Bp(n)}function WN(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function Bp(r){r.Ca.forEach((t=>{t.next()}))}var $m,WE;(WE=$m||($m={})).Ma="default",WE.Cache="cache";class ZN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$m.Cache}}class xS{constructor(t){this.key=t}}class LS{constructor(t){this.key=t}}class tO{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=tS(t),this.tu=new no(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new $E,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),P=Gh(this.query,S)?S:null,Y=!!w&&this.mutatedKeys.has(w.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;w&&P?w.data.isEqual(P.data)?Y!==Q&&(s.track({type:3,doc:P}),j=!0):this.su(w,P)||(s.track({type:2,doc:P}),j=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(m=!0)):!w&&P?(s.track({type:0,doc:P}),j=!0):w&&!P&&(s.track({type:1,doc:w}),j=!0,(g||y)&&(m=!0)),j&&(P?(f=f.add(P),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(P,Y){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:j})}};return Q(P)-Q(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new uo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $E,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new LS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new xS(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jp="SyncEngine";class eO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class nO{constructor(t){this.key=t,this.hu=!1}}class iO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Zs((m=>Z0(m)),Fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(dt.comparator),this.Au=new Map,this.Vu=new Np,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rO(r,t,n=!0){const s=jS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await PS(s,t,n,!0),o}async function sO(r,t){const n=jS(r);await PS(n,t,!0,!1)}async function PS(r,t,n,s){const o=await TN(r.localStore,Di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await aO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&IS(r.remoteStore,o),m}async function aO(r,t,n,s,o){r.pu=(S,w,P)=>(async function(Q,j,tt,at){let st=j.view.ru(tt);st.Ss&&(st=await FE(Q.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,st))));const Et=at&&at.targetChanges.get(j.targetId),It=at&&at.targetMismatches.get(j.targetId)!=null,wt=j.view.applyChanges(st,Q.isPrimaryClient,Et,It);return tT(Q,j.targetId,wt.au),wt.snapshot})(r,S,w,P);const u=await FE(r.localStore,t,!0),f=new tO(t,u.ks),m=f.ru(u.documents),g=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);tT(r,n,y.au);const E=new eO(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function oO(r,t,n){const s=St(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Fh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xp(s.remoteStore,o.targetId),Jm(s,o.targetId)})).catch(Eo)):(Jm(s,o.targetId),await Qm(s.localStore,o.targetId,!0))}async function lO(r,t){const n=St(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xp(n.remoteStore,s.targetId))}async function uO(r,t,n){const s=gO(r);try{const o=await(function(f,m){const g=St(f),y=se.now(),E=m.reduce(((P,Y)=>P.add(Y.key)),Lt());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Y=ar(),Q=Lt();return g.xs.getEntries(P,E).next((j=>{Y=j,Y.forEach(((tt,at)=>{at.isValidDocument()||(Q=Q.add(tt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,Y))).next((j=>{S=j;const tt=[];for(const at of m){const st=ED(at,S.get(at.key).overlayedDocument);st!=null&&tt.push(new us(at.key,st,G0(st.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,tt,m)})).next((j=>{w=j;const tt=j.applyToLocalDocumentSet(S,Q);return g.documentOverlayCache.saveOverlays(P,j.batchId,tt)}))})).then((()=>({batchId:w.batchId,changes:nS(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ce(xt)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function kS(r,t){const n=St(r);try{const s=await _N(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await pu(n,s,t)}catch(s){await Eo(s)}}function ZE(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=St(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(m)&&(y=!0)})),y&&Bp(g)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cO(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ce(dt.comparator);f=f.insert(u,We.newNoDocument(u,vt.min()));const m=Lt().add(u),g=new Qh(vt.min(),new Map,new ce(xt),f,m);await kS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),qp(s)}else await Qm(s.localStore,t,!1).then((()=>Jm(s,t,n))).catch(Eo)}async function hO(r,t){const n=St(r),s=t.batch.batchId;try{const o=await yN(n.localStore,t);zS(n,s,null),US(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Eo(o)}}async function fO(r,t,n){const s=St(r);try{const o=await(function(f,m){const g=St(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);zS(s,t,n),US(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await pu(s,o)}catch(o){await Eo(o)}}function US(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function zS(r,t,n){const s=St(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Jm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||BS(r,s)}))}function BS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(xp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),qp(r))}function tT(r,t,n){for(const s of n)s instanceof xS?(r.Vu.addReference(s.key,t),dO(r,s)):s instanceof LS?(lt(jp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||BS(r,s.key)):yt(19791,{wu:s})}function dO(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(lt(jp,"New document in limbo: "+n),r.Eu.add(s),qp(r))}function qp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new nO(n)),r.Ru=r.Ru.insert(n,s),IS(r.remoteStore,new Yr(Di(bp(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function pu(r,t,n){const s=St(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Vp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=St(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(w=>Z.forEach(w.Ts,(P=>E.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>Z.forEach(w.Is,(P=>E.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!To(S))throw S;lt(Mp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const P=E.vs.get(w),Y=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(w,Q)}}})(s.localStore,u))}async function mO(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){lt(jp,"User change. New user:",t.toKey());const s=await bS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ot(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ns)}}function pO(r,t){const n=St(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function jS(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cO.bind(null,t),t.Pu.J_=JN.bind(null,t.eventManager),t.Pu.yu=WN.bind(null,t.eventManager),t}function gO(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fO.bind(null,t),t}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return gN(this.persistence,new dN,t.initialUser,this.serializer)}Cu(t){return new AS(Op.Vi,this.serializer)}Du(t){return new AN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class yO extends Ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new AS((s=>Rh.Vi(s,n)),this.serializer)}}class Wm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),await KN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QN})()}createDatastore(t){const n=Xh(t.databaseInfo.databaseId),s=IN(t.databaseInfo);return MN(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new LN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>ZE(this.syncEngine,n,0)),(function(){return YE.v()?new YE:new bN})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new iO(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=St(n);lt(Js,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class _O{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ss="FirestoreClient";class vO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=_p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Em(r,t){r.asyncQueue.verifyOperationInProgress(),lt(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function eT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await EO(r);lt(ss,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>XE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>XE(t.remoteStore,o))),r._onlineComponents=t}async function EO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(ss,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Ih)}}else lt(ss,"Using default OfflineComponentProvider"),await Em(r,new yO(void 0));return r._offlineComponents}async function qS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(ss,"Using user provided OnlineComponentProvider"),await eT(r,r._uninitializedComponentsProvider._online)):(lt(ss,"Using default OnlineComponentProvider"),await eT(r,new Wm))),r._onlineComponents}function TO(r){return qS(r).then((t=>t.syncEngine))}async function nT(r){const t=await qS(r),n=t.eventManager;return n.onListen=rO.bind(null,t.syncEngine),n.onUnlisten=oO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lO.bind(null,t.syncEngine),n}function SO(r,t,n,s){const o=new _O(s),u=new ZN(t,o,n);return r.asyncQueue.enqueueAndForget((async()=>XN(await nT(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>$N(await nT(r),u)))}}function AO(r,t){const n=new Hs;return r.asyncQueue.enqueueAndForget((async()=>uO(await TO(r),t,n))),n.promise}function HS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const bO="ComponentProvider",iT=new Map;function wO(r,t,n,s,o){return new j2(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,HS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const FS="firestore.googleapis.com",rT=!0;class sT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=rT}else this.host=t.host,this.ssl=t.ssl??rT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$D)throw new ot(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new E2;switch(s.type){case"firstParty":return new b2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=iT.get(n);s&&(lt(bO,"Removing Datastore"),iT.delete(n),s.terminate())})(this),Promise.resolve()}}function RO(r,t,n,s={}){r=Wr(r,Wh);const o=go(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(kT(`https://${m}`),UT("Firestore",!0)),u.host!==FS&&u.host!==m&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Gs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Je.MOCK_USER;else{y=Ow(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(S)}r._authCredentials=new T2(new M0(y,E))}}class ea{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ea(this.firestore,t,this._query)}}class Ne{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(hu(n,Ne._jsonSchema))return new Ne(t,s||null,new dt(ne.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:De("string",Ne._jsonSchemaVersion),referencePath:De("string")};class Zr extends ea{constructor(t,n,s){super(t,n,bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new dt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function GS(r,t,...n){if(r=ze(r),x0("collection","path",t),r instanceof Wh){const s=ne.fromString(t,...n);return yE(s),new Zr(r,null,s)}{if(!(r instanceof Ne||r instanceof Zr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return yE(s),new Zr(r.firestore,null,s)}}function Hp(r,t,...n){if(r=ze(r),arguments.length===1&&(t=_p.newId()),x0("doc","path",t),r instanceof Wh){const s=ne.fromString(t,...n);return gE(s),new Ne(r,null,new dt(s))}{if(!(r instanceof Ne||r instanceof Zr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return gE(s),new Ne(r.firestore,r instanceof Zr?r.converter:null,new dt(s))}}const aT="AsyncQueue";class oT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RS(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&lt(aT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;lt(aT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",lT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Up.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:lT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function lT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class co extends Wh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new oT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oT(t),this._firestoreClient=void 0,await t}}}function CO(r,t){const n=typeof r=="object"?r:qT(),s=typeof r=="string"?r:Th,o=lp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Dw("firestore");u&&RO(o,...u)}return o}function KS(r){if(r._terminated)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IO(r),r._firestoreClient}function IO(r){const t=r._freezeSettings(),n=wO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new vO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(n){throw new ot(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hu(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:De("string",Un._jsonSchemaVersion),bytes:De("string")};class Fp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zh{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(hu(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Zn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hu(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Zn(t.vectorValues);throw new ot(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:De("string",Zn._jsonSchemaVersion),vectorValues:De("object")};const DO=/^__.*__$/;class NO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new us(t,this.data,this.fieldMask,n,this.fieldTransforms):new fu(t,this.data,n,this.fieldTransforms)}}class YS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new us(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function QS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class Gp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Gp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(QS(this.dataSource)&&DO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class OO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(t)}createContext(t,n,s,o=!1){return new Gp({dataSource:t,methodName:n,targetDoc:s,path:Ye.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(r){const t=r._freezeSettings(),n=Xh(r._databaseId);return new OO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function VO(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);Qp("Data must be an object, but it was:",f,s);const m=XS(s,f);let g,y;if(u.merge)g=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=ho(t,S,n);if(!f.contains(w))throw new ot(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);WS(E,w)||E.push(w)}g=new Sn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new NO(new fn(m),g,y)}class tf extends Zh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tf}}class Yp extends Zh{_toFieldTransform(t){return new gD(t.path,new Zl)}isEqual(t){return t instanceof Yp}}function MO(r,t,n,s){const o=r.createContext(1,t,n);Qp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();ls(s,((g,y)=>{const E=JS(t,g,n);y=ze(y);const S=o.childContextForFieldPath(E);if(y instanceof tf)u.push(E);else{const w=gu(y,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Sn(u);return new YS(f,m,o.fieldTransforms)}function xO(r,t,n,s,o,u){const f=r.createContext(1,t,n),m=[ho(t,s,n)],g=[o];if(u.length%2!=0)throw new ot(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ho(t,u[w])),g.push(u[w+1]);const y=[],E=fn.empty();for(let w=m.length-1;w>=0;--w)if(!WS(y,m[w])){const P=m[w];let Y=g[w];Y=ze(Y);const Q=f.childContextForFieldPath(P);if(Y instanceof tf)y.push(P);else{const j=gu(Y,Q);j!=null&&(y.push(P),E.set(P,j))}}const S=new Sn(y);return new YS(E,S,f.fieldTransforms)}function LO(r,t,n,s=!1){return gu(n,r.createContext(s?4:3,t))}function gu(r,t){if($S(r=ze(r)))return Qp("Unsupported field value:",t,r),XS(r,t);if(r instanceof Zh)return(function(s,o){if(!QS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=gu(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:mS(o.serializer,s._byteString)};if(s instanceof Ne){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zn)return(function(f,m){const g=f instanceof Zn?f.toArray():f;return{mapValue:{fields:{[H0]:{stringValue:F0},[Sh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return wp(m.serializer,E)}))}}}}}})(s,o);if(TS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Bh(s)}`)})(r,t)}function XS(r,t){const n={};return k0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(r,((s,o)=>{const u=gu(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function $S(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Oi||r instanceof Un||r instanceof Ne||r instanceof Zh||r instanceof Zn||TS(r))}function Qp(r,t,n){if(!$S(n)||!L0(n)){const s=Bh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function ho(r,t,n){if((t=ze(t))instanceof Fp)return t._internalPath;if(typeof t=="string")return JS(r,t);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function JS(r,t,n){if(t.search(PO)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fp(...t.split("."))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot(W.INVALID_ARGUMENT,m+r+g)}function WS(r,t){return r.some((n=>n.isEqual(t)))}class kO{convertValue(t,n="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ls(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Sh].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new Zn(n)}convertGeoPoint(t){return new Oi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Hh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=es(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(ES(s),9688,{name:t});const o=new $l(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ZS extends kO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function Tm(){return new Yp("serverTimestamp")}const uT="@firebase/firestore",cT="4.12.0";function hT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class tA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(ho("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UO extends tA{data(){return super.data()}}function zO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class eA extends Xp{}function BO(r,t,...n){let s=[];t instanceof Xp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Jp)).length,m=u.filter((g=>g instanceof $p)).length;if(f>1||f>0&&m>0)throw new ot(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class $p extends eA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new $p(t,n,s)}_apply(t){const n=this._parse(t);return nA(t._query,n),new ea(t.firestore,t.converter,qm(t._query,n))}_parse(t){const n=Kp(t.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){dT(S,E);const Y=[];for(const Q of S)Y.push(fT(g,u,Q));w={arrayValue:{values:Y}}}else w=fT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||dT(S,E),w=LO(m,f,S,E==="in"||E==="not-in");return Ie.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Jp extends Xp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Jp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)nA(f,g),f=qm(f,g)})(t._query,n),new ea(t.firestore,t.converter,qm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends eA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Wp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ot(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,f)})(t._query,this._field,this._direction);return new ea(t.firestore,t.converter,sD(t._query,n))}}function jO(r,t="asc"){const n=t,s=ho("orderBy",r);return Wp._create(s,n)}function fT(r,t,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new ot(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(t)&&n.indexOf("/")!==-1)throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!dt.isDocumentKey(s))throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wE(r,new dt(s))}if(n instanceof Ne)return wE(r,n._key);throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function dT(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nA(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function qO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends tA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ho("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:De("string",Fs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class ch extends Fs{data(t={}){return super.data(t)}}class io{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:HO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:De("string",io._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};function FO(r,t,n,...s){r=Wr(r,Ne);const o=Wr(r.firestore,co),u=Kp(o);let f;return f=typeof(t=ze(t))=="string"||t instanceof Fp?xO(u,"updateDoc",r._key,t,n,s):MO(u,"updateDoc",r._key,t),Zp(o,[f.toMutation(r._key,Wn.exists(!0))])}function GO(r){return Zp(Wr(r.firestore,co),[new Rp(r._key,Wn.none())])}function KO(r,t){const n=Wr(r.firestore,co),s=Hp(r),o=qO(r.converter,t),u=Kp(r.firestore);return Zp(n,[VO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function YO(r,...t){r=ze(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||hT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hT(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(r instanceof Ne)f=Wr(r.firestore,co),m=bp(r._key.path),u={next:y=>{t[s]&&t[s](QO(f,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Wr(r,ea);f=Wr(y.firestore,co),m=y._query;const E=new ZS(f);u={next:S=>{t[s]&&t[s](new io(f,E,y,S))},error:t[s+1],complete:t[s+2]},zO(r._query)}const g=KS(f);return SO(g,m,o,u)}function Zp(r,t){const n=KS(r);return AO(n,t)}function QO(r,t,n){const s=n.docs.get(t._key),o=new ZS(r);return new Fs(r,o,t._key,s,new kl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){v2(yo),ro(new Ks("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new co(new S2(s.getProvider("auth-internal")),new w2(f,s.getProvider("app-check-internal")),q2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),$r(uT,cT,t),$r(uT,cT,"esm2020")})();const XO={apiKey:"AIzaSyAxrCrNfeqemOXnHBiqsNtRl1ajazqZnvo",authDomain:"books-83578.firebaseapp.com",projectId:"books-83578",storageBucket:"books-83578.appspot.com",messagingSenderId:"684029119712",appId:"1:684029119712:web:726a3541cf150846fad485"},iA=jT(XO),Nh=p2(iA),Oh=CO(iA);function $O(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),f=iu(),m=async g=>{g.preventDefault();try{await nI(Nh,r,n),f("/dashboard")}catch(y){if(typeof y=="object"&&y&&"code"in y)switch(y.code){case"auth/user-not-found":case"auth/wrong-password":u("Invalid email or password.");break;case"auth/invalid-email":u("Invalid email format.");break;default:u("Login failed. Please try again."),console.error(y)}else u("Login failed. Please try again."),console.error(y)}};return et.jsx("div",{className:"container",children:et.jsxs("form",{onSubmit:m,className:"form",children:[et.jsx("h2",{children:"Login"}),et.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:g=>t(g.target.value)}),et.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:g=>s(g.target.value)}),o&&et.jsx("p",{style:{color:"#ef4444",textAlign:"center"},children:o}),et.jsx("button",{type:"submit",children:"Login"}),et.jsxs("p",{style:{marginTop:"10px",textAlign:"center"},children:["Don't have an account?"," ",et.jsx(Lh,{to:"/register",style:{color:"#007bff",textDecoration:"underline"},children:"Register"})]})]})})}function JO(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),g=iu(),y=async E=>{E.preventDefault(),u(""),m("");try{await eI(Nh,r.trim(),n),await p0(Nh),m("Account created successfully! Redirecting to login..."),setTimeout(()=>{g("/login")},2e3)}catch(S){switch(S.code){case"auth/email-already-in-use":u("This email is already registered. Try logging in.");break;case"auth/invalid-email":u("Invalid email format.");break;case"auth/weak-password":u("Password should be at least 6 characters.");break;default:u("Registration failed. Please try again."),console.error(S)}}};return et.jsx("div",{className:"container",children:et.jsxs("form",{onSubmit:y,className:"form",children:[et.jsx("h2",{children:"Register"}),et.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:E=>t(E.target.value),required:!0}),et.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),required:!0}),et.jsx("button",{type:"submit",children:"Register"}),o&&et.jsx("p",{className:"error",children:o}),f&&et.jsx("p",{className:"success",children:f}),et.jsxs("p",{style:{marginTop:"10px"},children:["Already have an account?"," ",et.jsx(Lh,{to:"/login",style:{color:"#007bff",textDecoration:"underline"},children:"Login"})]})]})})}const WO=()=>{const[r,t]=F.useState(!1),[n,s]=F.useState(!0),o=iu(),u=async()=>{if(confirm("Are you sure you want to log out?"))try{await p0(Nh),o("/login")}catch(P){console.error("Error signing out: ",P),alert("Failed to log out. Please try again.")}},f=()=>{s(!n),document.body.style.backgroundColor=n?"#ffffff":"#0a0a0c",document.body.style.color=n?"#000000":"#ffffff"},m=()=>{alert("Crud Library - Your Personal Wattpad-Style Library v1.0")},g={backgroundColor:"#0a0a0c",borderBottom:"1px solid #27272a",padding:"0.75rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:100},y={fontSize:"1.25rem",fontWeight:"bold",background:"linear-gradient(to right, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.05em",cursor:"pointer"},E={color:"#a1a1aa",textDecoration:"none",fontSize:"0.9rem",cursor:"pointer",position:"relative",padding:"10px 0"},S={position:"absolute",top:"100%",right:0,backgroundColor:"#121215",border:"1px solid #27272a",borderRadius:"12px",padding:"8px",display:r?"block":"none",minWidth:"160px",zIndex:200,boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},w={padding:"10px 12px",cursor:"pointer",color:"#e4e4e7",fontSize:"0.85rem",borderRadius:"6px",transition:"background 0.2s",display:"flex",justifyContent:"space-between",alignItems:"center"};return et.jsxs("nav",{style:g,children:[et.jsx("div",{style:y,onClick:()=>o("/dashboard"),children:"Crud Library ."}),et.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center"},children:[et.jsx("span",{onClick:()=>o("/dashboard"),style:E,children:"Dashboard"}),et.jsxs("div",{style:{...E,color:"#ffffff"},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:["Settings",et.jsxs("div",{style:S,children:[et.jsxs("div",{style:w,onClick:f,onMouseEnter:P=>P.currentTarget.style.backgroundColor="#27272a",onMouseLeave:P=>P.currentTarget.style.backgroundColor="transparent",children:[et.jsx("span",{children:"Dark Mode"}),et.jsx("span",{style:{fontSize:"10px",color:n?"#3b82f6":"#71717a"},children:n?"ON":"OFF"})]}),et.jsx("div",{style:w,onClick:m,onMouseEnter:P=>P.currentTarget.style.backgroundColor="#27272a",onMouseLeave:P=>P.currentTarget.style.backgroundColor="transparent",children:"About Us"}),et.jsx("div",{style:{height:"1px",backgroundColor:"#27272a",margin:"4px 0"}}),et.jsx("div",{style:{...w,color:"#ef4444"},onClick:u,onMouseEnter:P=>P.currentTarget.style.backgroundColor="#450a0a",onMouseLeave:P=>P.currentTarget.style.backgroundColor="transparent",children:"Log out"})]})]})]})]})};function ZO({selectedBook:r,clearSelection:t}){const[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState("");F.useEffect(()=>{const y=setTimeout(()=>{r?(s(r.Tittle),u(r.Author),m(r.Image)):(s(""),u(""),m(""))},0);return()=>clearTimeout(y)},[r]);const g=async y=>{if(y.preventDefault(),!n||!o||!f){alert("Please fill in the Title, Author, and Image URL");return}try{r?await FO(Hp(Oh,"books",r.id),{Tittle:n,Author:o,Image:f,Published:Tm()}):await KO(GS(Oh,"books"),{Tittle:n,Author:o,Image:f,Published:Tm(),createdAt:Tm()}),s(""),u(""),m(""),t()}catch(E){console.error("Error saving book: ",E)}};return et.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"12px"},children:[et.jsx("h3",{style:{margin:"0 0 10px 0",color:"#3b82f6"},children:r?"Edit Book":"Add New Book"}),et.jsxs("div",{style:Sm,children:[et.jsx("label",{style:Am,children:"Book Title"}),et.jsx("input",{style:bm,placeholder:"e.g. Harry Potter",value:n,onChange:y=>s(y.target.value)})]}),et.jsxs("div",{style:Sm,children:[et.jsx("label",{style:Am,children:"Author Name"}),et.jsx("input",{style:bm,placeholder:"e.g. J.K. Rowling",value:o,onChange:y=>u(y.target.value)})]}),et.jsxs("div",{style:Sm,children:[et.jsx("label",{style:Am,children:"Cover Image URL"}),et.jsx("input",{style:bm,placeholder:"Paste image link here...",value:f,onChange:y=>m(y.target.value)})]}),et.jsx("button",{type:"submit",style:tV,children:r?"Save Changes":"Publish Book"}),et.jsx("button",{type:"button",onClick:t,style:eV,children:"Maybe Later"})]})}const Sm={display:"flex",flexDirection:"column",gap:"5px"},Am={fontSize:"0.75rem",color:"#71717a",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},bm={width:"100%",padding:"12px",backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff",boxSizing:"border-box"},tV={width:"100%",padding:"14px",backgroundColor:"#3b82f6",color:"#fff",border:"none",borderRadius:"10px",fontWeight:700,fontSize:"1rem",cursor:"pointer",marginTop:"10px",boxShadow:"0 4px 10px rgba(59, 130, 246, 0.2)"},eV={width:"100%",padding:"10px",backgroundColor:"transparent",color:"#71717a",border:"none",cursor:"pointer",fontSize:"0.9rem"};function nV({books:r,onEdit:t}){return r.length?et.jsx("div",{style:iV,children:r.map(n=>et.jsxs("div",{style:rV,children:[et.jsxs("div",{style:sV,children:[et.jsx("img",{src:n.Image,alt:n.Tittle,style:aV}),et.jsx("button",{onClick:()=>t(n),style:oV,title:"Edit Book",children:""})]}),et.jsxs("div",{style:lV,children:[et.jsx("h4",{style:uV,children:n.Tittle}),et.jsx("p",{style:cV,children:n.Author})]}),et.jsx("button",{onClick:()=>confirm("Delete this book?")&&GO(Hp(Oh,"books",n.id)),style:hV,children:"Remove from Library"})]},n.id))}):et.jsx("p",{style:{opacity:.6,textAlign:"center"},children:"No books found."})}const iV={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"30px 20px",padding:"20px 0"},rV={width:"150px"},sV={position:"relative",width:"150px",height:"225px",borderRadius:"8px",overflow:"visible",boxShadow:"0 8px 15px rgba(0,0,0,0.4)",backgroundColor:"#1a1a1c"},aV={width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"},oV={position:"absolute",bottom:"10px",right:"10px",width:"35px",height:"35px",borderRadius:"50%",backgroundColor:"rgba(59, 130, 246, 0.9)",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",backdropFilter:"blur(4px)",transition:"transform 0.2s ease"},lV={marginTop:"12px"},uV={fontSize:"0.9rem",fontWeight:700,margin:"0 0 2px 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"#fff"},cV={fontSize:"0.75rem",color:"#a1a1aa",margin:0},hV={marginTop:"4px",color:"#ef4444",background:"none",border:"none",cursor:"pointer",fontSize:"0.7rem",textDecoration:"underline"};function fV(){const[r,t]=F.useState([]),[n,s]=F.useState(!1),[o,u]=F.useState(null);F.useEffect(()=>{const g=BO(GS(Oh,"books"),jO("Tittle","asc")),y=YO(g,E=>{t(E.docs.map(S=>({id:S.id,...S.data()})))});return()=>y()},[]);const f=()=>{u(null),s(!0)},m=g=>{u(g),s(!0)};return et.jsxs("div",{style:{backgroundColor:"#0a0a0c",minHeight:"100vh",color:"#fff"},children:[et.jsx(WO,{}),et.jsxs("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},children:[et.jsxs("header",{style:{marginBottom:"40px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[et.jsxs("h1",{style:{fontSize:"2.5rem",fontWeight:700},children:["Your ",et.jsx("span",{style:{color:"#3b82f6"},children:"Library"})]}),et.jsx("button",{onClick:f,style:{padding:"12px 24px",backgroundColor:"#3b82f6",border:"none",borderRadius:"12px",color:"#fff",fontWeight:700,cursor:"pointer",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:"+ new Book"})]}),et.jsx(nV,{books:r,onEdit:m}),n&&et.jsxs("div",{style:dV,children:[et.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[et.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:o?"Edit Book":"Add Book"}),et.jsx("button",{onClick:()=>s(!1),style:{background:"none",border:"none",color:"#9ca3af",cursor:"pointer",fontSize:"1.5rem"},children:""})]}),et.jsx(ZO,{selectedBook:o,clearSelection:()=>{s(!1),u(null)}})]})]})]})}const dV={position:"fixed",top:"100px",right:"40px",width:"350px",backgroundColor:"#121215",border:"1px solid #27272a",borderRadius:"20px",padding:"24px",zIndex:999,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"};function mV(){return et.jsxs("div",{children:[et.jsx("h2",{children:"About Our Team"}),et.jsx("p",{children:"We are a team of developers building a React + Firebase Library App."})]})}function pV(){return et.jsx(hw,{children:et.jsxs(j1,{children:[et.jsx(Ka,{path:"/",element:et.jsx(z1,{to:"/login"})}),et.jsx(Ka,{path:"/login",element:et.jsx($O,{})}),et.jsx(Ka,{path:"/register",element:et.jsx(JO,{})}),et.jsx(Ka,{path:"/dashboard",element:et.jsx(fV,{})}),et.jsx(Ka,{path:"/about",element:et.jsx(mV,{})})]})})}Hb.createRoot(document.getElementById("root")).render(et.jsx(F.StrictMode,{children:et.jsx(pV,{})}));
